{"remainingRequest":"D:\\Project\\NaEditor\\node_modules\\awesome-typescript-loader\\dist\\entry.js!D:\\Project\\NaEditor\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Project\\NaEditor\\src\\component\\ModuleList\\ModuleList.tsx","dependencies":[{"path":"D:\\Project\\NaEditor\\src\\component\\ModuleList\\ModuleList.tsx","mtime":1535074092000},{"path":"D:\\Project\\NaEditor\\src\\component\\ModuleList\\ModuleList.tsx","mtime":1535074092000},{"path":"D:\\Project\\NaEditor\\src\\common\\script\\INTERFACE.ts","mtime":1535074092000},{"path":"D:\\Project\\NaEditor\\src\\component\\interface.tsx","mtime":1533698584000},{"path":"D:\\Project\\NaEditor\\src\\component\\CarouselConfig\\interface.ts","mtime":1533698584000},{"path":"D:\\Project\\NaEditor\\src\\component\\ImageHotspotConfig\\interface.tsx","mtime":1533698584000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\version\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\upload\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\upload\\Dragger.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\upload\\interface.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\@types\\react\\index.d.ts","mtime":1532389452000},{"path":"D:\\Project\\NaEditor\\node_modules\\@types\\react\\global.d.ts","mtime":1532389452000},{"path":"D:\\Project\\NaEditor\\node_modules\\csstype\\index.d.ts","mtime":1532213362000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\upload\\Upload.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\upload\\utils.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\mention\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tooltip\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tooltip\\placements.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\timeline\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\timeline\\TimelineItem.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\timeline\\Timeline.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\time-picker\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\moment\\moment.d.ts","mtime":1527836312000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tag\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tag\\CheckableTag.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tabs\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tree-select\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\select\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tree-select\\interface.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tree\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tree\\DirectoryTree.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tree\\Tree.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\transfer\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\transfer\\search.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\transfer\\operation.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\transfer\\list.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\table\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\table\\interface.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\pagination\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\pagination\\Pagination.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\checkbox\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\checkbox\\Group.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\checkbox\\Checkbox.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\radio\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\radio\\interface.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\radio\\radioButton.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\radio\\group.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\radio\\radio.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\table\\createStore.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\spin\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\table\\Table.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\table\\ColumnGroup.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\table\\Column.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\switch\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\steps\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\slider\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\row\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\grid\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\grid\\col.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\grid\\row.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\rate\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\progress\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\progress\\progress.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\popover\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\popconfirm\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\button\\button.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\button\\button-group.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\notification\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\modal\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\modal\\ActionButton.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\modal\\Modal.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\menu\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\layout\\Sider.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\menu\\MenuItem.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\menu\\SubMenu.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\message\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\locale-provider\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\modal\\locale.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\list\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\list\\Item.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\layout\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\layout\\layout.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\input-number\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\_util\\type.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\input\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\input\\TextArea.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\input\\Search.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\input\\Input.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\input\\Group.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\icon\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\form\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\form\\FormItem.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\form\\Form.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\drawer\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\dropdown\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\dropdown\\dropdown-button.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\dropdown\\dropdown.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\divider\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\date-picker\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\date-picker\\interface.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\col\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\cascader\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\carousel\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\collapse\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\collapse\\CollapsePanel.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\collapse\\Collapse.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\card\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\card\\Meta.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\card\\Grid.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\calendar\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\calendar\\Header.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\button\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\breadcrumb\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\breadcrumb\\BreadcrumbItem.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\breadcrumb\\Breadcrumb.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\badge\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\badge\\ScrollNumber.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\back-top\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\avatar\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\alert\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\auto-complete\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\anchor\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\anchor\\AnchorLink.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\anchor\\Anchor.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\affix\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\axios\\index.d.ts","mtime":1519077740000},{"path":"D:\\Project\\NaEditor\\node_modules\\@types\\react-redux\\index.d.ts","mtime":1532389452000},{"path":"D:\\Project\\NaEditor\\node_modules\\@types\\react-redux\\node_modules\\redux\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\src\\actions\\index.js","mtime":1535090122000},{"path":"D:\\Project\\NaEditor\\src\\common\\script\\action.ts","mtime":1535074092000},{"path":"D:\\Project\\NaEditor\\src\\db\\dbConfig.js","mtime":1533698584000},{"path":"D:\\Project\\NaEditor\\node_modules\\idb\\lib\\idb.d.ts","mtime":1520276302000},{"path":"D:\\Project\\NaEditor\\node_modules\\localforage\\typings\\localforage.d.ts","mtime":1529170699000},{"path":"D:\\Project\\NaEditor\\node_modules\\cache-loader\\dist\\cjs.js","mtime":0},{"path":"D:\\Project\\NaEditor\\node_modules\\awesome-typescript-loader\\dist\\entry.js","mtime":1529596564000},{"path":"D:\\Project\\NaEditor\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000}],"contextDependencies":[],"result":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport React, { Component } from 'react';\r\nimport { addModuleRequest } from '../../actions';\r\nimport { connect } from \"react-redux\";\r\nimport axios from 'axios';\r\nimport { Icon } from 'antd';\r\nimport './ModuleList.scss';\r\nimport INTERFACE from '../../common/script/INTERFACE';\r\nclass ModuleList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.moduleDragStart = (moduleTypeId, e) => {\r\n            e.dataTransfer.setData('moduleTypeId', moduleTypeId);\r\n        };\r\n        this.activeChange = (index) => {\r\n            const { list } = this.state;\r\n            const newList = list.map((v, i) => {\r\n                if (i === index) {\r\n                    v.isActive = !v.isActive;\r\n                }\r\n                return v;\r\n            });\r\n            this.setState({\r\n                list: newList,\r\n            });\r\n        };\r\n        this.addModule = this.addModule.bind(this);\r\n        this.state = {\r\n            list: [],\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = (yield axios(INTERFACE.getModuleList)).data;\r\n            if (result.success === true) {\r\n                const list = result.data.map((v) => {\r\n                    v.isActive = true;\r\n                    return v;\r\n                });\r\n                this.setState({\r\n                    list,\r\n                });\r\n                // 将moduleList挂载到上，供其他地方调用\r\n            }\r\n        });\r\n    }\r\n    addModule(moduleTypeId) {\r\n        const { addModuleRequest } = this.props;\r\n        const args = {\r\n            moduleTypeId,\r\n            pageId: window.BASE_DATA.pageId,\r\n        };\r\n        addModuleRequest(args);\r\n    }\r\n    render() {\r\n        const { list } = this.state;\r\n        if (list.length > 0) {\r\n            return (React.createElement(\"div\", { className: \"d-module-list\" }, list.map((moduleCate, i) => React.createElement(React.Fragment, { key: i },\r\n                React.createElement(\"div\", { className: `d-module-cate ${moduleCate.isActive === true ? 'active' : ''}`, onClick: () => { this.activeChange(i); } },\r\n                    React.createElement(Icon, { type: \"caret-right\" }),\r\n                    React.createElement(\"span\", { className: \"d-cate-name\" }, moduleCate.name)),\r\n                React.createElement(\"div\", { className: \"d-sub-list\" }, moduleCate.list.map((module, i) => React.createElement(\"div\", { key: module.moduleTypeId, className: \"d-module-item\", \"data-type-id\": module.moduleTypeId, draggable: true, onDoubleClick: (e) => { this.addModule(module.moduleTypeId); }, onDragStart: this.moduleDragStart.bind(this, module.moduleTypeId) },\r\n                    React.createElement(\"div\", { className: \"d-module-icon\" },\r\n                        React.createElement(\"span\", { style: { backgroundImage: `url(${module.iconUrl})` } })),\r\n                    React.createElement(\"span\", { className: \"d-module-name\" }, module.moduleName))))))));\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    moduleConfig: state.moduleConfig,\r\n    module: state.module,\r\n});\r\nexport default connect(mapStateToProps, { addModuleRequest })(ModuleList);\r\n",{"version":3,"file":"D:/Project/NaEditor/src/component/ModuleList/ModuleList.tsx","sourceRoot":"D:/Project/NaEditor/","sources":["node_modules\\thread-loader\\dist\\cjs.js!D:\\Project\\NaEditor\\src\\component\\ModuleList\\ModuleList.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { addModuleRequest } from '../../actions';\nimport { connect } from \"react-redux\";\nimport axios from 'axios';\nimport { Icon } from 'antd';\n\nimport './ModuleList.scss';\nimport { IState } from '../interface';\nimport INTERFACE from '../../common/script/INTERFACE';\n\ninterface ModuleListProps {\n    addModuleRequest: (args: any) => void;\n}\n\ninterface ModuleListState {\n    list: any;\n}\n\nclass ModuleList extends Component<ModuleListProps, ModuleListState> {\n    constructor(props: ModuleListProps) {\n        super(props);\n        this.addModule = this.addModule.bind(this);\n        this.state = {\n            list: [],\n        }\n    }\n\n    async componentDidMount() {\n        const result = (await axios(INTERFACE.getModuleList)).data;\n        if (result.success === true) {\n            const list = result.data.map((v: any) => {\n                v.isActive = true;\n                return v;\n            })\n            this.setState({\n                list,\n            });\n\n            // 将moduleList挂载到上，供其他地方调用\n        }\n    }\n\n    addModule(moduleTypeId: number) {\n        const { addModuleRequest } = this.props;\n        const args = {\n            moduleTypeId,\n            pageId: (window as any).BASE_DATA.pageId,\n        }\n        addModuleRequest(args);\n    }\n\n    moduleDragStart = (moduleTypeId: string, e: DragEvent) => {\n        e.dataTransfer.setData('moduleTypeId', moduleTypeId);\n    }\n\n    activeChange = (index: number) => {\n        const { list } = this.state;\n        const newList = list.map((v: any, i: number) => {\n            if (i === index) {\n                v.isActive = !v.isActive;\n            }\n            return v;\n        })\n        this.setState({\n            list: newList,\n        });\n    }\n\n    render() {\n\n        const { list } = this.state;\n        if (list.length > 0) {\n            return (\n                <div className=\"d-module-list\" >\n                    {list.map((moduleCate: any, i: number) =>\n                        <React.Fragment key={i}>\n                            <div\n                                className={`d-module-cate ${moduleCate.isActive === true ? 'active' : ''}`}\n                                onClick={() => { this.activeChange(i) }}\n                            >\n                                <Icon type=\"caret-right\" />\n                                <span className=\"d-cate-name\">{moduleCate.name}</span>\n                            </div>\n                            <div className=\"d-sub-list\">\n                                {moduleCate.list.map((module: any, i: number) =>\n                                    <div\n                                        key={module.moduleTypeId}\n                                        className=\"d-module-item\"\n                                        data-type-id={module.moduleTypeId}\n                                        draggable={true}\n                                        onDoubleClick={(e) => { this.addModule(module.moduleTypeId) }}\n                                        onDragStart={this.moduleDragStart.bind(this, module.moduleTypeId)}\n                                    >\n                                        <div className=\"d-module-icon\">\n                                            <span style={{ backgroundImage: `url(${module.iconUrl})` }}></span>\n                                        </div>\n                                        <span className=\"d-module-name\">{module.moduleName}</span>\n                                    </div>\n                                )}\n                            </div>\n                        </React.Fragment>\n                    )}\n                </div>\n            )\n        } else {\n            return null;\n        }\n    }\n}\n\nconst mapStateToProps = (state: IState) => ({\n    moduleConfig: state.moduleConfig,\n    module: state.module,\n});\n\nexport default connect(mapStateToProps, { addModuleRequest })(ModuleList);"]}]}