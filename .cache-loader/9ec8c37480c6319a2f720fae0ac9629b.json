{"remainingRequest":"D:\\Project\\NaEditor\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\NaEditor\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Project\\NaEditor\\src\\page\\decorate\\decorate.js","dependencies":[{"path":"D:\\Project\\NaEditor\\src\\page\\decorate\\decorate.js","mtime":1535207574910},{"path":"D:\\Project\\NaEditor\\.babelrc","mtime":1535117171942},{"path":"D:\\Project\\NaEditor\\node_modules\\cache-loader\\dist\\cjs.js","mtime":0},{"path":"D:\\Project\\NaEditor\\node_modules\\babel-loader\\lib\\index.js","mtime":1520329890000},{"path":"D:\\Project\\NaEditor\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000}],"contextDependencies":[],"result":["let getInitData = (() => {\n\tvar _ref = _asyncToGenerator(function* () {\n\t\tconst pageId = location.href.match(/pageId=([0-9]+)/)[1];\n\t\tconst result = (yield Axios(INTERFACE.getInitData, {\n\t\t\tparams: {\n\t\t\t\tpageId\n\t\t\t}\n\t\t})).data;\n\t\tif (result.success) {\n\t\t\tresult.data.type = \"0\"; //装修为0\n\t\t\treturn result.data;\n\t\t}\n\t});\n\n\treturn function getInitData() {\n\t\treturn _ref.apply(this, arguments);\n\t};\n})();\n\n(function () {\n\tvar enterModule = require('react-hot-loader').enterModule;\n\n\tenterModule && enterModule(module);\n})();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport _ from 'lodash';\n\nimport '../../db/createStore';\nimport ConfigDialog from '../../component/ConfigDialog';\nimport ModuleList from '../../component/ModuleList';\nimport ModuleBar from '../../component/ModuleBar';\nimport ModuleTagList from '../../component/ModuleTagList';\nimport Canvas from '../../component/Canvas';\nimport ModuleNav from '../../component/ModuleNav';\nimport store from '../../store';\nimport Topbar from '../../component/TopBar';\nimport Axios from '../../../node_modules/axios';\nimport INTERFACE from '../../common/script/INTERFACE';\n\nconst {\n\tBASE_DATA: {\n\t\tpageId,\n\t\tdbSource\n\t}\n} = window;\n\nwindow.resizeIframe = _.debounce(() => {\n\tlet height = document.querySelector('.J_canvas').contentWindow.document.body.scrollHeight + 'px';\n\tdocument.querySelector('iframe.J_canvas').style.height = height;\n}, 50);\n\ndocument.querySelector('.J_previewWrap .J_closeBtn').addEventListener('click', () => {\n\tdocument.querySelector('.J_previewWrap').classList.remove('active');\n\tdocument.querySelector('.J_previewContainer').innerHTML = '';\n});\n\nwindow.onload = () => {\n\tdocument.querySelector('.J_previewWrap').style.display = 'block';\n};\n\nfunction initComponents() {\n\n\tReactDOM.render(React.createElement(Topbar, null), document.querySelector('.J_topBar'));\n\n\tReactDOM.render(React.createElement(\n\t\tProvider,\n\t\t{ store: store },\n\t\tReact.createElement(Canvas, null)\n\t), document.querySelector('.J_canvas').contentDocument.querySelector('#Container'));\n\n\tReactDOM.render(React.createElement(\n\t\tProvider,\n\t\t{ store: store },\n\t\tReact.createElement(ConfigDialog, { store: store })\n\t), document.querySelector('.J_configDialog'));\n\n\tReactDOM.render(React.createElement(\n\t\tProvider,\n\t\t{ store: store },\n\t\tReact.createElement(ModuleList, null)\n\t), document.querySelector('.J_moduleList'));\n\n\tReactDOM.render(React.createElement(\n\t\tProvider,\n\t\t{ store: store },\n\t\tReact.createElement(ModuleBar, null)\n\t), document.querySelector('.J_ModuleBar'));\n\n\tReactDOM.render(React.createElement(\n\t\tProvider,\n\t\t{ store: store },\n\t\tReact.createElement(ModuleTagList, null)\n\t), document.querySelector('.J_moduleTagList'));\n\n\tReactDOM.render(React.createElement(\n\t\tProvider,\n\t\t{ store: store },\n\t\tReact.createElement(ModuleNav, null)\n\t), document.querySelector('.J_moduleNav'));\n};\n\ngetInitData().then(BASE_DATA => {\n\twindow.BASE_DATA = BASE_DATA;\n\tdocument.querySelector('.cd-iframe-warp').innerHTML = ` <iframe class=\"cd-canvas J_canvas\" src=\"/page/canvas.html\"></iframe>`;\n\n\tdocument.querySelector('.J_canvas').contentWindow.onload = () => {\n\t\tconsole.log(window.BASE_DATA);\n\t\tinitComponents();\n\t};\n});\n\n;\n\n(function () {\n\tvar reactHotLoader = require('react-hot-loader').default;\n\n\tvar leaveModule = require('react-hot-loader').leaveModule;\n\n\tif (!reactHotLoader) {\n\t\treturn;\n\t}\n\n\treactHotLoader.register(pageId, 'pageId', 'D:/Project/NaEditor/src/page/decorate/decorate.js');\n\treactHotLoader.register(dbSource, 'dbSource', 'D:/Project/NaEditor/src/page/decorate/decorate.js');\n\treactHotLoader.register(initComponents, 'initComponents', 'D:/Project/NaEditor/src/page/decorate/decorate.js');\n\treactHotLoader.register(getInitData, 'getInitData', 'D:/Project/NaEditor/src/page/decorate/decorate.js');\n\tleaveModule(module);\n})();\n\n;",{"version":3,"sources":["src\\page\\decorate\\decorate.js"],"names":["pageId","location","href","match","result","Axios","INTERFACE","getInitData","params","data","success","type","React","ReactDOM","Provider","_","ConfigDialog","ModuleList","ModuleBar","ModuleTagList","Canvas","ModuleNav","store","Topbar","BASE_DATA","dbSource","window","resizeIframe","debounce","height","document","querySelector","contentWindow","body","scrollHeight","style","addEventListener","classList","remove","innerHTML","onload","display","initComponents","render","contentDocument","then","console","log"],"mappings":"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","file":"decorate.js","sourceRoot":"D:/Project/NaEditor","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport _ from 'lodash';\n\nimport '../../db/createStore';\nimport ConfigDialog from '../../component/ConfigDialog';\nimport ModuleList from '../../component/ModuleList';\nimport ModuleBar from '../../component/ModuleBar';\nimport ModuleTagList from '../../component/ModuleTagList';\nimport Canvas from '../../component/Canvas';\nimport ModuleNav from '../../component/ModuleNav';\nimport store from '../../store';\nimport Topbar from '../../component/TopBar';\nimport Axios from '../../../node_modules/axios';\nimport INTERFACE from '../../common/script/INTERFACE';\n\nconst {\n\tBASE_DATA: {\n\t\tpageId,\n\t\tdbSource,\n\t}\n} = window;\n\nwindow.resizeIframe = _.debounce(() => {\n\tlet height = document.querySelector('.J_canvas').contentWindow.document.body.scrollHeight + 'px';\n\tdocument.querySelector('iframe.J_canvas').style.height = height;\n}, 50);\n\n\ndocument.querySelector('.J_previewWrap .J_closeBtn').addEventListener('click', () => {\n\tdocument.querySelector('.J_previewWrap').classList.remove('active');\n\tdocument.querySelector('.J_previewContainer').innerHTML = '';\n})\n\nwindow.onload = () => {\n\tdocument.querySelector('.J_previewWrap').style.display = 'block';\n}\n\n\nfunction initComponents() {\n\n\tReactDOM.render(\n\t\t<Topbar />,\n\t\tdocument.querySelector('.J_topBar'),\n\t)\n\n\tReactDOM.render(\n\t\t(<Provider store={store} >\n\t\t\t<Canvas />\n\t\t</Provider>),\n\t\tdocument.querySelector('.J_canvas').contentDocument.querySelector('#Container'));\n\n\n\tReactDOM.render(\n\t\t(\n\t\t\t<Provider store={store} >\n\t\t\t\t<ConfigDialog store={store} />\n\t\t\t</Provider >\n\t\t),\n\t\tdocument.querySelector('.J_configDialog')\n\t);\n\n\n\tReactDOM.render(\n\t\t<Provider store={store} >\n\t\t\t<ModuleList />\n\t\t</Provider >,\n\t\tdocument.querySelector('.J_moduleList')\n\t);\n\n\tReactDOM.render(\n\t\t<Provider store={store} >\n\t\t\t<ModuleBar />\n\t\t</Provider >,\n\t\tdocument.querySelector('.J_ModuleBar')\n\t);\n\n\tReactDOM.render(\n\t\t<Provider store={store} >\n\t\t\t<ModuleTagList />\n\t\t</Provider >,\n\t\tdocument.querySelector('.J_moduleTagList')\n\t);\n\n\n\tReactDOM.render(\n\t\t<Provider store={store} >\n\t\t\t<ModuleNav />\n\t\t</Provider >,\n\t\tdocument.querySelector('.J_moduleNav')\n\t);\n};\n\n\ngetInitData().then((BASE_DATA) => {\n\twindow.BASE_DATA = BASE_DATA;\n\tdocument.querySelector('.cd-iframe-warp').innerHTML = ` <iframe class=\"cd-canvas J_canvas\" src=\"/page/canvas.html\"></iframe>`;\n\n\tdocument.querySelector('.J_canvas').contentWindow.onload = () => {\n\t\tconsole.log(window.BASE_DATA)\n\t\tinitComponents();\n\t};\n\n})\n\n\nasync function getInitData() {\n\tconst pageId = location.href.match(/pageId=([0-9]+)/)[1];\n\tconst result = (await Axios(INTERFACE.getInitData, {\n\t\tparams: {\n\t\t\tpageId,\n\t\t}\n\t})).data;\n\tif (result.success) {\n\t\tresult.data.type = \"0\";\t//装修为0\n\t\treturn result.data;\n\t}\n}"]}]}