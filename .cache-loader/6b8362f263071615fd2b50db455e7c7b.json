{"remainingRequest":"D:\\Project\\NaEditor\\node_modules\\awesome-typescript-loader\\dist\\entry.js!D:\\Project\\NaEditor\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Project\\NaEditor\\src\\component\\ImageHotspotConfig\\ImageHotspotConfig.tsx","dependencies":[{"path":"D:\\Project\\NaEditor\\src\\component\\ImageHotspotConfig\\ImageHotspotConfig.tsx","mtime":1535074092000},{"path":"D:\\Project\\NaEditor\\src\\component\\ImageHotspotConfig\\ImageHotspotConfig.tsx","mtime":1535074092000},{"path":"D:\\Project\\NaEditor\\src\\component\\Hotspot\\index.ts","mtime":1535074092000},{"path":"D:\\Project\\NaEditor\\src\\component\\Hotspot\\Hotspot.tsx","mtime":1535074092000},{"path":"D:\\Project\\NaEditor\\src\\component\\Hotspot\\HotspotModal.tsx","mtime":1535223759208},{"path":"D:\\Project\\NaEditor\\src\\component\\Hotspot\\Area.tsx","mtime":1533698584000},{"path":"D:\\Project\\NaEditor\\src\\component\\interface.tsx","mtime":1535210015291},{"path":"D:\\Project\\NaEditor\\src\\component\\CarouselConfig\\interface.ts","mtime":1533698584000},{"path":"D:\\Project\\NaEditor\\src\\component\\ImageHotspotConfig\\interface.tsx","mtime":1533698584000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\version\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\upload\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\upload\\Dragger.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\upload\\interface.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\@types\\react\\index.d.ts","mtime":1532389452000},{"path":"D:\\Project\\NaEditor\\node_modules\\@types\\react\\global.d.ts","mtime":1532389452000},{"path":"D:\\Project\\NaEditor\\node_modules\\csstype\\index.d.ts","mtime":1532213362000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\upload\\Upload.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\upload\\utils.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\mention\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tooltip\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tooltip\\placements.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\timeline\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\timeline\\TimelineItem.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\timeline\\Timeline.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\time-picker\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\moment\\moment.d.ts","mtime":1527836312000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tag\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tag\\CheckableTag.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tabs\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tree-select\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\select\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tree-select\\interface.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tree\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tree\\DirectoryTree.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\tree\\Tree.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\transfer\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\transfer\\search.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\transfer\\operation.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\transfer\\list.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\table\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\table\\interface.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\pagination\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\pagination\\Pagination.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\checkbox\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\checkbox\\Group.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\checkbox\\Checkbox.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\radio\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\radio\\interface.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\radio\\radioButton.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\radio\\group.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\radio\\radio.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\table\\createStore.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\spin\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\table\\Table.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\table\\ColumnGroup.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\table\\Column.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\switch\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\steps\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\slider\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\row\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\grid\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\grid\\col.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\grid\\row.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\rate\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\progress\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\progress\\progress.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\popover\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\popconfirm\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\button\\button.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\button\\button-group.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\notification\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\modal\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\modal\\ActionButton.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\modal\\Modal.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\menu\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\layout\\Sider.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\menu\\MenuItem.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\menu\\SubMenu.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\message\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\locale-provider\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\modal\\locale.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\list\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\list\\Item.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\layout\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\layout\\layout.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\input-number\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\_util\\type.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\input\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\input\\TextArea.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\input\\Search.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\input\\Input.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\input\\Group.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\icon\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\form\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\form\\FormItem.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\form\\Form.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\drawer\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\dropdown\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\dropdown\\dropdown-button.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\dropdown\\dropdown.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\divider\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\date-picker\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\date-picker\\interface.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\col\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\cascader\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\carousel\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\collapse\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\collapse\\CollapsePanel.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\collapse\\Collapse.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\card\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\card\\Meta.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\card\\Grid.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\calendar\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\calendar\\Header.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\button\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\breadcrumb\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\breadcrumb\\BreadcrumbItem.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\breadcrumb\\Breadcrumb.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\badge\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\badge\\ScrollNumber.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\back-top\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\avatar\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\alert\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\auto-complete\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\anchor\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\anchor\\AnchorLink.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\anchor\\Anchor.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\antd\\lib\\affix\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\src\\component\\Hotspot\\HotspotLink.tsx","mtime":1533698584000},{"path":"D:\\Project\\NaEditor\\src\\OuterComponent.d.ts","mtime":1535074092000},{"path":"D:\\Project\\NaEditor\\src\\component\\ImageGroup\\index.ts","mtime":1533698584000},{"path":"D:\\Project\\NaEditor\\src\\component\\ImageGroup\\ImageGroup.tsx","mtime":1533698584000},{"path":"D:\\Project\\NaEditor\\src\\component\\PicLib\\index.ts","mtime":1533698584000},{"path":"D:\\Project\\NaEditor\\src\\component\\PicLib\\PicLib.tsx","mtime":1535074092000},{"path":"D:\\Project\\NaEditor\\src\\component\\PicLib\\PicLibModal.tsx","mtime":1535074092000},{"path":"D:\\Project\\NaEditor\\node_modules\\axios\\index.d.ts","mtime":1519077740000},{"path":"D:\\Project\\NaEditor\\src\\common\\script\\INTERFACE.ts","mtime":1535297432808},{"path":"D:\\Project\\NaEditor\\node_modules\\@types\\react-redux\\index.d.ts","mtime":1532389452000},{"path":"D:\\Project\\NaEditor\\node_modules\\@types\\react-redux\\node_modules\\redux\\index.d.ts","mtime":499162500000},{"path":"D:\\Project\\NaEditor\\node_modules\\cache-loader\\dist\\cjs.js","mtime":0},{"path":"D:\\Project\\NaEditor\\node_modules\\awesome-typescript-loader\\dist\\entry.js","mtime":1529596564000},{"path":"D:\\Project\\NaEditor\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000}],"contextDependencies":[],"result":["import * as React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ImageGroup from '../ImageGroup';\r\nimport Hotspot from '../Hotspot';\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        moduleConfig: state.moduleConfig,\r\n    };\r\n};\r\nclass ImageHotspotConfig extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.imageChange = (imgs) => {\r\n            this.setState({\r\n                imgs,\r\n            });\r\n        };\r\n        this.hotspotsChange = (hotspots) => {\r\n            this.setState({\r\n                hotspots,\r\n            });\r\n        };\r\n        const { imgs, hotspots } = this.getDataFromProps(props);\r\n        this.state = {\r\n            imgs,\r\n            hotspots,\r\n        };\r\n    }\r\n    getDataFromProps(props) {\r\n        let imgs;\r\n        let hotspots;\r\n        if (props.moduleData.configData === undefined) {\r\n            hotspots = [];\r\n            imgs = [];\r\n        }\r\n        else {\r\n            const configData = props.moduleData.configData;\r\n            imgs = configData ? configData.imgs || [] : [];\r\n            hotspots = configData ? configData.hotspots || [] : [];\r\n        }\r\n        return {\r\n            imgs,\r\n            hotspots,\r\n        };\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        const { imgs, hotspots } = this.getDataFromProps(nextProps);\r\n        this.setState({\r\n            imgs,\r\n            hotspots,\r\n        });\r\n    }\r\n    getConfigData() {\r\n        return {\r\n            imgs: this.state.imgs,\r\n            hotspots: this.state.hotspots,\r\n        };\r\n    }\r\n    toModuleData(configData) {\r\n        const { moduleConfig } = this.props;\r\n        const result = Object.assign({}, moduleConfig.moduleData, {\r\n            data: configData,\r\n        });\r\n        return result;\r\n    }\r\n    render() {\r\n        let { imgs, hotspots } = this.state;\r\n        if (imgs === undefined) {\r\n            imgs = [];\r\n        }\r\n        return (React.createElement(\"div\", null,\r\n            React.createElement(\"p\", { className: \"d-title\" }, \"\\u56FE\\u7247\\u9009\\u62E9\"),\r\n            React.createElement(ImageGroup, { imgs: imgs, onChange: (imgs) => { this.imageChange(imgs); } }),\r\n            React.createElement(\"p\", { className: \"d-title\" }, \"\\u70ED\\u533A\\u914D\\u7F6E\"),\r\n            React.createElement(Hotspot, { imgs: imgs, hotspots: hotspots, onChange: this.hotspotsChange })));\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {}, undefined, { withRef: true })(ImageHotspotConfig);\r\n",{"version":3,"file":"D:/Project/NaEditor/src/component/ImageHotspotConfig/ImageHotspotConfig.tsx","sourceRoot":"D:/Project/NaEditor/","sources":["node_modules\\thread-loader\\dist\\cjs.js!D:\\Project\\NaEditor\\src\\component\\ImageHotspotConfig\\ImageHotspotConfig.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { ImageHotspotConfData, ImageInfo, ImageHotspotConfigProps, ImageHotspotConfigState } from './interface';\nimport { IState, HotspotInfo } from '../interface';\nimport ImageGroup from '../ImageGroup';\nimport Hotspot from '../Hotspot';\n\nconst mapStateToProps = (state: IState) => {\n    return {\n        moduleConfig: state.moduleConfig,\n    };\n};\n\nclass ImageHotspotConfig extends Component<ImageHotspotConfigProps, ImageHotspotConfigState> {\n\n    constructor(props: ImageHotspotConfigProps) {\n        super(props);\n        const { imgs, hotspots } = this.getDataFromProps(props);\n        this.state = {\n            imgs,\n            hotspots,\n        };\n    }\n\n    getDataFromProps(props: ImageHotspotConfigProps) {\n        let imgs: ImageInfo[];\n        let hotspots: HotspotInfo[];\n        if (props.moduleData.configData === undefined) {\n            hotspots = [];\n            imgs = [];\n        } else {\n            const configData: ImageHotspotConfData = props.moduleData.configData;\n            imgs = configData ? configData.imgs || [] : [];\n            hotspots = configData ? configData.hotspots || [] : [];\n        }\n        return {\n            imgs,\n            hotspots,\n        };\n    }\n\n    componentWillReceiveProps(nextProps: ImageHotspotConfigProps) {\n        const { imgs, hotspots } = this.getDataFromProps(nextProps);\n        this.setState({\n            imgs,\n            hotspots,\n        });\n    }\n\n    getConfigData() {\n        return {\n            imgs: this.state.imgs,\n            hotspots: this.state.hotspots,\n        };\n    }\n\n    toModuleData(configData: ImageHotspotConfData) {\n        const { moduleConfig } = this.props;\n        const result = Object.assign({}, moduleConfig.moduleData, {\n            data: configData,\n        });\n        return result;\n    }\n\n    imageChange = (imgs: ImageInfo[]) => {\n        this.setState({\n            imgs,\n        });\n    }\n\n    hotspotsChange = (hotspots: HotspotInfo[]) => {\n        this.setState({\n            hotspots,\n        });\n    }\n\n    render() {\n        let { imgs, hotspots } = this.state;\n        if (imgs === undefined) {\n            imgs = [];\n        }\n        return (\n            <div>\n                <p className=\"d-title\">图片选择</p>\n                <ImageGroup\n                    imgs={imgs}\n                    onChange={(imgs: ImageInfo[]) => { this.imageChange(imgs); }}\n                />\n                <p className=\"d-title\">热区配置</p>\n                <Hotspot\n                    imgs={imgs}\n                    hotspots={hotspots}\n                    onChange={this.hotspotsChange}\n                />\n            </div>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, {}, undefined, { withRef: true })(ImageHotspotConfig);\n"]}]}