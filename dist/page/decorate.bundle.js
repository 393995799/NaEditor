!function(g){function I(I){for(var A,n,t=I[0],l=I[1],r=I[2],d=0,o=[];d<t.length;d++)n=t[d],e[n]&&o.push(e[n][0]),e[n]=0;for(A in l)Object.prototype.hasOwnProperty.call(l,A)&&(g[A]=l[A]);for(a&&a(I);o.length;)o.shift()();return c.push.apply(c,r||[]),C()}function C(){for(var g,I=0;I<c.length;I++){for(var C=c[I],A=!0,t=1;t<C.length;t++){var l=C[t];0!==e[l]&&(A=!1)}A&&(c.splice(I--,1),g=n(n.s=C[0]))}return g}var A={},e={7:0},c=[];function n(I){if(A[I])return A[I].exports;var C=A[I]={i:I,l:!1,exports:{}};return g[I].call(C.exports,C,C.exports,n),C.l=!0,C.exports}n.m=g,n.c=A,n.d=function(g,I,C){n.o(g,I)||Object.defineProperty(g,I,{enumerable:!0,get:C})},n.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},n.t=function(g,I){if(1&I&&(g=n(g)),8&I)return g;if(4&I&&"object"==typeof g&&g&&g.__esModule)return g;var C=Object.create(null);if(n.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:g}),2&I&&"string"!=typeof g)for(var A in g)n.d(C,A,function(I){return g[I]}.bind(null,A));return C},n.n=function(g){var I=g&&g.__esModule?function(){return g.default}:function(){return g};return n.d(I,"a",I),I},n.o=function(g,I){return Object.prototype.hasOwnProperty.call(g,I)},n.p="http://h5editor.cn:8080/";var t=window.webpackJsonp=window.webpackJsonp||[],l=t.push.bind(t);t.push=I,t=t.slice();for(var r=0;r<t.length;r++)I(t[r]);var a=l;c.push([400,0]),C()}({112:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9Ub3BCYXIvVG9wYmFyLnNjc3M/ODQ5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///112\n")},13:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("const { serverAddress } = __webpack_require__(30);\r\nconst SLD = {\r\n    backend: serverAddress,\r\n};\r\nconst prefix = '/api';\r\nconst INTERFACE = {\r\n    uploadImage: `${SLD.backend}${prefix}/uploadImage`,\r\n    getImageList: `${SLD.backend}${prefix}/getImageList`,\r\n    getAllModule: `${SLD.backend}${prefix}/getAllModule`,\r\n    getModuleList: `${SLD.backend}${prefix}/getModuleList`,\r\n    addModule: `${SLD.backend}${prefix}/addModule`,\r\n    removeModule: `${SLD.backend}${prefix}/removeModule`,\r\n    positionModule: `${SLD.backend}${prefix}/positionModule`,\r\n    updateModule: `${SLD.backend}${prefix}/updateModule`,\r\n    copyModule: `${SLD.backend}${prefix}/copyModule`,\r\n    getPageList: `${SLD.backend}${prefix}/getPageList`,\r\n    addPage: `${SLD.backend}${prefix}/addPage`,\r\n    deletePage: `${SLD.backend}${prefix}/deletePage`,\r\n    copyPage: `${SLD.backend}${prefix}/copyPage`,\r\n    getInitData: `${SLD.backend}${prefix}/getInitData`,\r\n    logout: `${SLD.backend}${prefix}/logout`,\r\n};\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (INTERFACE);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbW1vbi9zY3JpcHQvSU5URVJGQUNFLnRzPzEzMzAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBzZXJ2ZXJBZGRyZXNzIH0gPSByZXF1aXJlKCcuLi8uLi8uLi9jb25maWcnKTtcclxuXHJcbmNvbnN0IFNMRCA9IHtcclxuICAgIGJhY2tlbmQ6IHNlcnZlckFkZHJlc3MsXHJcbn1cclxuXHJcbmNvbnN0IHByZWZpeCA9ICcvYXBpJ1xyXG5cclxuY29uc3QgSU5URVJGQUNFID0ge1xyXG4gICAgdXBsb2FkSW1hZ2U6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS91cGxvYWRJbWFnZWAsXHJcbiAgICBnZXRJbWFnZUxpc3Q6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS9nZXRJbWFnZUxpc3RgLFxyXG4gICAgZ2V0QWxsTW9kdWxlOiBgJHtTTEQuYmFja2VuZH0ke3ByZWZpeH0vZ2V0QWxsTW9kdWxlYCxcclxuICAgIGdldE1vZHVsZUxpc3Q6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS9nZXRNb2R1bGVMaXN0YCxcclxuICAgIGFkZE1vZHVsZTogYCR7U0xELmJhY2tlbmR9JHtwcmVmaXh9L2FkZE1vZHVsZWAsXHJcbiAgICByZW1vdmVNb2R1bGU6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS9yZW1vdmVNb2R1bGVgLFxyXG4gICAgcG9zaXRpb25Nb2R1bGU6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS9wb3NpdGlvbk1vZHVsZWAsXHJcbiAgICB1cGRhdGVNb2R1bGU6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS91cGRhdGVNb2R1bGVgLFxyXG4gICAgY29weU1vZHVsZTogYCR7U0xELmJhY2tlbmR9JHtwcmVmaXh9L2NvcHlNb2R1bGVgLC8v5aSN5Yi25qih5Z2XXHJcblxyXG4gICAgZ2V0UGFnZUxpc3Q6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS9nZXRQYWdlTGlzdGAsIC8vIOiOt+WPlumhtemdouWIl+ihqFxyXG4gICAgYWRkUGFnZTogYCR7U0xELmJhY2tlbmR9JHtwcmVmaXh9L2FkZFBhZ2VgLCAvLyDmlrDlu7rpobXpnaJcclxuICAgIGRlbGV0ZVBhZ2U6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS9kZWxldGVQYWdlYCwgLy8g5Yig6Zmk6aG16Z2iXHJcbiAgICBjb3B5UGFnZTogYCR7U0xELmJhY2tlbmR9JHtwcmVmaXh9L2NvcHlQYWdlYCwgLy8g5aSN5Yi26aG16Z2iXHJcbiAgICBnZXRJbml0RGF0YTogYCR7U0xELmJhY2tlbmR9JHtwcmVmaXh9L2dldEluaXREYXRhYCwgLy8g6I635Y+W6aG16Z2i5Yid5aeL5YyW5pWw5o2uXHJcblxyXG4gICAgbG9nb3V0OiBgJHtTTEQuYmFja2VuZH0ke3ByZWZpeH0vbG9nb3V0YCwgLy8g6YCA5Ye655m75b2VXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IElOVEVSRkFDRTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n")},14:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(428);\n/* harmony import */ var _INTERFACE__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _isServer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(16);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n// let Action: any = {\r\n//     /**\r\n//      * 根据模块Id删除模块  \r\n//      * @param {Object}  入参 带moduleId和pageId\r\n//      */\r\n//     async removeModule({ moduleId, pageId }: { moduleId: number, pageId: number }) {\r\n//         return new Promise(async (resolve, reject) => {\r\n//             const db = await idb.open(DB.Name);\r\n//             const tx = db.transaction(['page', 'module'], 'readwrite');\r\n//             const pageStore = tx.objectStore('page');\r\n//             const moduleStore = tx.objectStore('module');\r\n//             // 删除页面引用\r\n//             let page = await pageStore.get(pageId);\r\n//             page.moduleList = page.moduleList.filter((v: number) => v !== moduleId);\r\n//             // 回填到页面\r\n//             await pageStore.put(page);\r\n//             // 删除模块实例\r\n//             await moduleStore.delete(moduleId);\r\n//             resolve({\r\n//                 result: true,\r\n//                 moduleId,\r\n//             })\r\n//         })\r\n//     },\r\n//     /**\r\n//      * 添加模块\r\n//      * @param {Object} args 入参，模块类型，位置等\r\n//      */\r\n//     async addModule(args = { preModuleId: undefined, moduleTypeId: 1, data: {}, pageId: 1 }) {\r\n//         let { preModuleId, moduleTypeId, data, pageId } = args;\r\n//         // 没有模块数据默认为空对象\r\n//         data === undefined && (data = {});\r\n//         // 根据moduleTypeId查模块名称\r\n//         const moduleName = await Action.getModuleName(moduleTypeId);\r\n//         const moduleData = {\r\n//             moduleTypeId,\r\n//             moduleName,\r\n//             data,\r\n//             pageId,\r\n//         }\r\n//         return new Promise(async (resolve, reject) => {\r\n//             const db = await idb.open(DB.Name);\r\n//             const tx = db.transaction(['module', 'page'], 'readwrite');\r\n//             const pageStore = tx.objectStore('page');\r\n//             const moduleStore = tx.objectStore('module');\r\n//             const moduleId = await moduleStore.add(moduleData);\r\n//             // 在该page中插入模块id\r\n//             let page = await pageStore.get(pageId);\r\n//             page.moduleList === undefined && (page.moduleList = []);\r\n//             //没有前一个模块的Id则默认添加到页面最后\r\n//             if (preModuleId === undefined) {\r\n//                 preModuleId = page.moduleList[page.moduleList.length - 1] || undefined;\r\n//             }\r\n//             const index = page.moduleList.indexOf(preModuleId);\r\n//             page.moduleList.splice(index + 1, 0, moduleId);\r\n//             // 更新page\r\n//             pageStore.put(page);\r\n//             resolve({\r\n//                 moduleData: await moduleStore.get(moduleId),\r\n//                 preModuleId,\r\n//             });\r\n//         })\r\n//     },\r\n//     /**\r\n//      * 更新模块\r\n//      */\r\n//     async updateModule(moduleData: IModuleData) {\r\n//         const db = await idb.open(DB.Name);\r\n//         delete moduleData.tempData; //  临时属性不存到库里\r\n//         const tx = db.transaction(['module'], 'readwrite');\r\n//         const moduleId = await tx.objectStore('module').put(moduleData);\r\n//         const result = await tx.objectStore('module').get(moduleId);\r\n//         return result;\r\n//     },\r\n//     /**\r\n//      * 移动模块\r\n//      */\r\n//     async positionModule({ moduleId, preModuleId, pageId }: { moduleId: number, preModuleId?: number, pageId: number }) {\r\n//         const db = await idb.open(DB.Name);\r\n//         const tx = db.transaction(['page'], 'readwrite');\r\n//         let page = await tx.objectStore('page').get(pageId);\r\n//         page.moduleList = page.moduleList.filter((v: number) => v !== moduleId); //先移除模块\r\n//         // 如果没有设置preModuleId，则说明移到第一个模块\r\n//         if (preModuleId === undefined) {\r\n//             page.moduleList = [moduleId].concat(page.moduleList)\r\n//         } else {\r\n//             const preIndex = page.moduleList.indexOf(preModuleId);\r\n//             page.moduleList.splice(preIndex + 1, 0, moduleId); //在preModule后添加模块\r\n//         }\r\n//         const result = await tx.objectStore('page').put(page);\r\n//         if (result) {\r\n//             return {\r\n//                 success: true,\r\n//                 moduleId,\r\n//                 preModuleId,\r\n//             }\r\n//         } else {\r\n//             return {\r\n//                 success: false,\r\n//             }\r\n//         }\r\n//     },\r\n//     /**\r\n//      * 获得页面所有模块数据\r\n//      * @param {String} pageId 页面Id\r\n//      */\r\n//     async getAllModule(pageId: number) {\r\n//         const db = await idb.open(DB.Name);\r\n//         const tx = db.transaction(['module', 'page'], 'readonly');\r\n//         const moduleInfos = await tx.objectStore('module').getAll();\r\n//         const pageInfo = await tx.objectStore('page').get(pageId);\r\n//         let promiseArr = [];\r\n//         for (let moduleId of pageInfo.moduleList) {\r\n//             if (moduleId !== undefined) {\r\n//                 promiseArr.push(tx.objectStore('module').get(moduleId))\r\n//             }\r\n//         }\r\n//         const result = await Promise.all(promiseArr);\r\n//         return result;\r\n//     },\r\n//     /**\r\n//      * 根据moduleTypeId获取模块名称\r\n//      * @param {Number} moduleTypeId 模块类型Id\r\n//      */\r\n//     async getModuleName(moduleTypeId: number) {\r\n//         const db = await idb.open(DB.Name);\r\n//         const result = await db.transaction('moduleName').objectStore('moduleName').get(moduleTypeId);\r\n//         return result.moduleName;\r\n//     },\r\n//     /**\r\n//      * 删除所有模块\r\n//      */\r\n//     async deleteAllModules() {\r\n//         const db = await idb.open(DB.Name);\r\n//         const moduleResult = await db.transaction('module').objectStore('module').getAll();\r\n//         const moduleIds = moduleResult.map(v => v.moduleId);\r\n//         return new Promise(async (resolve, reject) => {\r\n//             Promise.all(moduleIds.map((moduleId) => new Promise((resolve, reject) => {\r\n//                 const tx = db.transaction('module', 'readwrite').objectStore('module');\r\n//                 const result = (tx.delete(moduleId) as any).request;\r\n//                 result.onsuccess = () => {\r\n//                     resolve({ result: true });\r\n//                 }\r\n//                 result.onerror = () => {\r\n//                     reject({ result: false });\r\n//                 }\r\n//             }))).then(() => {\r\n//                 resolve(true);\r\n//             });\r\n//         })\r\n//     },\r\n//     /**\r\n//      * 新增页面\r\n//      */\r\n//     async addPage(pageData = { name: '页面名称' }) {\r\n//         const NAME = `page`\r\n//         const db = await idb.open(DB.Name);\r\n//         const tx = db.transaction(NAME, 'readwrite').objectStore(NAME);\r\n//         const pageId = await tx.put(pageData)\r\n//         return await db.transaction(NAME, 'readonly').objectStore(NAME).get(pageId);\r\n//     }\r\n// }\r\nconst DBAction = {\r\n    getAllModule(pageId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { data } = (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].getAllModule, {\r\n                params: {\r\n                    pageId,\r\n                }\r\n            }));\r\n            if (data.success === true) {\r\n                return data.data;\r\n            }\r\n            else {\r\n                return [];\r\n            }\r\n        });\r\n    },\r\n    /**\r\n    * 添加模块\r\n    * @param {Object} args 入参，模块类型，位置等\r\n    */\r\n    addModule(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { data } = (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].addModule, {\r\n                params: args,\r\n            }));\r\n            if (data.success === true) {\r\n                antd__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].success('添加成功', 1);\r\n                return data.data;\r\n            }\r\n            else {\r\n                antd__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].error(data.message);\r\n                return {};\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * 根据模块Id删除模块\r\n     * @param {Object}  入参 带moduleId和pageId\r\n     */\r\n    removeModule({ moduleId, pageId }) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].removeModule, {\r\n                params: {\r\n                    moduleId,\r\n                    pageId\r\n                }\r\n            })).data;\r\n            if (result.success === true) {\r\n                return {\r\n                    result: true,\r\n                    moduleId,\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    result: false,\r\n                };\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * 移动模块\r\n     */\r\n    positionModule({ moduleId, preModuleId, pageId }) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].positionModule, {\r\n                params: { moduleId, preModuleId, pageId }\r\n            })).data;\r\n            if (result.success === true) {\r\n                return {\r\n                    success: true,\r\n                    moduleId,\r\n                    preModuleId,\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    success: false,\r\n                };\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * 更新模块\r\n     */\r\n    updateModule(moduleData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            delete moduleData.tempData; // 删除临时数据\r\n            const result = (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].updateModule, {\r\n                params: {\r\n                    moduleData,\r\n                },\r\n            })).data;\r\n            if (result.success === true) {\r\n                antd__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].success('保存成功', 1);\r\n                return result.data;\r\n            }\r\n            else {\r\n                return {};\r\n            }\r\n            ;\r\n        });\r\n    },\r\n    /**\r\n     * 复制模块\r\n     */\r\n    copyModule(moduleId, pageId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].copyModule, {\r\n                params: {\r\n                    moduleId,\r\n                    pageId,\r\n                }\r\n            })).data;\r\n            if (result.success === true) {\r\n                antd__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].success('复制成功');\r\n                return result.data;\r\n            }\r\n            else {\r\n                return {};\r\n            }\r\n            ;\r\n        });\r\n    },\r\n    /**\r\n     * 获取页面初始化数据\r\n     * @param pageType 页面类型 0：装修 1：预览 2：浏览\r\n     */\r\n    getInitData(pageType, pageId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!pageId && !Object(_isServer__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])()) {\r\n                pageId = window.location.href.match(/pageId=([0-9]+)/)[1];\r\n            }\r\n            const result = (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].getInitData, {\r\n                params: {\r\n                    pageId,\r\n                }\r\n            })).data;\r\n            if (result.success) {\r\n                result.data.pageType = pageType;\r\n                return result.data;\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * 退出登录\r\n     */\r\n    logout() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].logout)).data;\r\n        });\r\n    }\r\n};\r\nconst Action = DBAction;\r\nif (!_isServer__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"]) {\r\n    window.Action = Action;\r\n}\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Action);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbW1vbi9zY3JpcHQvYWN0aW9uLnRzP2NkOTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWVzc2FnZSB9IGZyb20gJ2FudGQnO1xyXG5pbXBvcnQgeyBJTW9kdWxlRGF0YSwgSU1vZHVsZSB9IGZyb20gJy4vLi4vLi4vY29tcG9uZW50L2ludGVyZmFjZSc7XHJcbmltcG9ydCBpZGIgZnJvbSAnaWRiJztcclxuaW1wb3J0IERCIGZyb20gJy4uLy4uL2RiL2RiQ29uZmlnJztcclxuaW1wb3J0IElOVEVSRkFDRSBmcm9tICcuL0lOVEVSRkFDRSc7XHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBpc1NlcnZlciBmcm9tICcuL2lzU2VydmVyJztcclxuXHJcbi8vIGxldCBBY3Rpb246IGFueSA9IHtcclxuLy8gICAgIC8qKlxyXG4vLyAgICAgICog5qC55o2u5qih5Z2XSWTliKDpmaTmqKHlnZcgIFxyXG4vLyAgICAgICogQHBhcmFtIHtPYmplY3R9ICDlhaXlj4Ig5bimbW9kdWxlSWTlkoxwYWdlSWRcclxuLy8gICAgICAqL1xyXG4vLyAgICAgYXN5bmMgcmVtb3ZlTW9kdWxlKHsgbW9kdWxlSWQsIHBhZ2VJZCB9OiB7IG1vZHVsZUlkOiBudW1iZXIsIHBhZ2VJZDogbnVtYmVyIH0pIHtcclxuLy8gICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4vLyAgICAgICAgICAgICBjb25zdCBkYiA9IGF3YWl0IGlkYi5vcGVuKERCLk5hbWUpO1xyXG4vLyAgICAgICAgICAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKFsncGFnZScsICdtb2R1bGUnXSwgJ3JlYWR3cml0ZScpO1xyXG4vLyAgICAgICAgICAgICBjb25zdCBwYWdlU3RvcmUgPSB0eC5vYmplY3RTdG9yZSgncGFnZScpO1xyXG4vLyAgICAgICAgICAgICBjb25zdCBtb2R1bGVTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCdtb2R1bGUnKTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIOWIoOmZpOmhtemdouW8leeUqFxyXG4vLyAgICAgICAgICAgICBsZXQgcGFnZSA9IGF3YWl0IHBhZ2VTdG9yZS5nZXQocGFnZUlkKTtcclxuLy8gICAgICAgICAgICAgcGFnZS5tb2R1bGVMaXN0ID0gcGFnZS5tb2R1bGVMaXN0LmZpbHRlcigodjogbnVtYmVyKSA9PiB2ICE9PSBtb2R1bGVJZCk7XHJcbi8vICAgICAgICAgICAgIC8vIOWbnuWhq+WIsOmhtemdolxyXG4vLyAgICAgICAgICAgICBhd2FpdCBwYWdlU3RvcmUucHV0KHBhZ2UpO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8g5Yig6Zmk5qih5Z2X5a6e5L6LXHJcbi8vICAgICAgICAgICAgIGF3YWl0IG1vZHVsZVN0b3JlLmRlbGV0ZShtb2R1bGVJZCk7XHJcblxyXG4vLyAgICAgICAgICAgICByZXNvbHZlKHtcclxuLy8gICAgICAgICAgICAgICAgIHJlc3VsdDogdHJ1ZSxcclxuLy8gICAgICAgICAgICAgICAgIG1vZHVsZUlkLFxyXG4vLyAgICAgICAgICAgICB9KVxyXG5cclxuLy8gICAgICAgICB9KVxyXG4vLyAgICAgfSxcclxuLy8gICAgIC8qKlxyXG4vLyAgICAgICog5re75Yqg5qih5Z2XXHJcbi8vICAgICAgKiBAcGFyYW0ge09iamVjdH0gYXJncyDlhaXlj4LvvIzmqKHlnZfnsbvlnovvvIzkvY3nva7nrYlcclxuLy8gICAgICAqL1xyXG4vLyAgICAgYXN5bmMgYWRkTW9kdWxlKGFyZ3MgPSB7IHByZU1vZHVsZUlkOiB1bmRlZmluZWQsIG1vZHVsZVR5cGVJZDogMSwgZGF0YToge30sIHBhZ2VJZDogMSB9KSB7XHJcblxyXG4vLyAgICAgICAgIGxldCB7IHByZU1vZHVsZUlkLCBtb2R1bGVUeXBlSWQsIGRhdGEsIHBhZ2VJZCB9ID0gYXJncztcclxuXHJcbi8vICAgICAgICAgLy8g5rKh5pyJ5qih5Z2X5pWw5o2u6buY6K6k5Li656m65a+56LGhXHJcbi8vICAgICAgICAgZGF0YSA9PT0gdW5kZWZpbmVkICYmIChkYXRhID0ge30pO1xyXG5cclxuXHJcbi8vICAgICAgICAgLy8g5qC55o2ubW9kdWxlVHlwZUlk5p+l5qih5Z2X5ZCN56ewXHJcbi8vICAgICAgICAgY29uc3QgbW9kdWxlTmFtZSA9IGF3YWl0IEFjdGlvbi5nZXRNb2R1bGVOYW1lKG1vZHVsZVR5cGVJZCk7XHJcblxyXG4vLyAgICAgICAgIGNvbnN0IG1vZHVsZURhdGEgPSB7XHJcbi8vICAgICAgICAgICAgIG1vZHVsZVR5cGVJZCxcclxuLy8gICAgICAgICAgICAgbW9kdWxlTmFtZSxcclxuLy8gICAgICAgICAgICAgZGF0YSxcclxuLy8gICAgICAgICAgICAgcGFnZUlkLFxyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuLy8gICAgICAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBpZGIub3BlbihEQi5OYW1lKTtcclxuLy8gICAgICAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ21vZHVsZScsICdwYWdlJ10sICdyZWFkd3JpdGUnKTtcclxuXHJcbi8vICAgICAgICAgICAgIGNvbnN0IHBhZ2VTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCdwYWdlJyk7XHJcbi8vICAgICAgICAgICAgIGNvbnN0IG1vZHVsZVN0b3JlID0gdHgub2JqZWN0U3RvcmUoJ21vZHVsZScpO1xyXG5cclxuLy8gICAgICAgICAgICAgY29uc3QgbW9kdWxlSWQgPSBhd2FpdCBtb2R1bGVTdG9yZS5hZGQobW9kdWxlRGF0YSk7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyDlnKjor6VwYWdl5Lit5o+S5YWl5qih5Z2XaWRcclxuLy8gICAgICAgICAgICAgbGV0IHBhZ2UgPSBhd2FpdCBwYWdlU3RvcmUuZ2V0KHBhZ2VJZCk7XHJcbi8vICAgICAgICAgICAgIHBhZ2UubW9kdWxlTGlzdCA9PT0gdW5kZWZpbmVkICYmIChwYWdlLm1vZHVsZUxpc3QgPSBbXSk7XHJcblxyXG4vLyAgICAgICAgICAgICAvL+ayoeacieWJjeS4gOS4quaooeWdl+eahElk5YiZ6buY6K6k5re75Yqg5Yiw6aG16Z2i5pyA5ZCOXHJcbi8vICAgICAgICAgICAgIGlmIChwcmVNb2R1bGVJZCA9PT0gdW5kZWZpbmVkKSB7XHJcbi8vICAgICAgICAgICAgICAgICBwcmVNb2R1bGVJZCA9IHBhZ2UubW9kdWxlTGlzdFtwYWdlLm1vZHVsZUxpc3QubGVuZ3RoIC0gMV0gfHwgdW5kZWZpbmVkO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFnZS5tb2R1bGVMaXN0LmluZGV4T2YocHJlTW9kdWxlSWQpO1xyXG4vLyAgICAgICAgICAgICBwYWdlLm1vZHVsZUxpc3Quc3BsaWNlKGluZGV4ICsgMSwgMCwgbW9kdWxlSWQpO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8g5pu05pawcGFnZVxyXG4vLyAgICAgICAgICAgICBwYWdlU3RvcmUucHV0KHBhZ2UpO1xyXG5cclxuLy8gICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbi8vICAgICAgICAgICAgICAgICBtb2R1bGVEYXRhOiBhd2FpdCBtb2R1bGVTdG9yZS5nZXQobW9kdWxlSWQpLFxyXG4vLyAgICAgICAgICAgICAgICAgcHJlTW9kdWxlSWQsXHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgIH0pXHJcbi8vICAgICB9LFxyXG4vLyAgICAgLyoqXHJcbi8vICAgICAgKiDmm7TmlrDmqKHlnZdcclxuLy8gICAgICAqL1xyXG4vLyAgICAgYXN5bmMgdXBkYXRlTW9kdWxlKG1vZHVsZURhdGE6IElNb2R1bGVEYXRhKSB7XHJcbi8vICAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBpZGIub3BlbihEQi5OYW1lKTtcclxuLy8gICAgICAgICBkZWxldGUgbW9kdWxlRGF0YS50ZW1wRGF0YTsgLy8gIOS4tOaXtuWxnuaAp+S4jeWtmOWIsOW6k+mHjFxyXG4vLyAgICAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oWydtb2R1bGUnXSwgJ3JlYWR3cml0ZScpO1xyXG4vLyAgICAgICAgIGNvbnN0IG1vZHVsZUlkID0gYXdhaXQgdHgub2JqZWN0U3RvcmUoJ21vZHVsZScpLnB1dChtb2R1bGVEYXRhKTtcclxuLy8gICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0eC5vYmplY3RTdG9yZSgnbW9kdWxlJykuZ2V0KG1vZHVsZUlkKTtcclxuLy8gICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4vLyAgICAgfSxcclxuLy8gICAgIC8qKlxyXG4vLyAgICAgICog56e75Yqo5qih5Z2XXHJcbi8vICAgICAgKi9cclxuLy8gICAgIGFzeW5jIHBvc2l0aW9uTW9kdWxlKHsgbW9kdWxlSWQsIHByZU1vZHVsZUlkLCBwYWdlSWQgfTogeyBtb2R1bGVJZDogbnVtYmVyLCBwcmVNb2R1bGVJZD86IG51bWJlciwgcGFnZUlkOiBudW1iZXIgfSkge1xyXG4vLyAgICAgICAgIGNvbnN0IGRiID0gYXdhaXQgaWRiLm9wZW4oREIuTmFtZSk7XHJcbi8vICAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ3BhZ2UnXSwgJ3JlYWR3cml0ZScpO1xyXG4vLyAgICAgICAgIGxldCBwYWdlID0gYXdhaXQgdHgub2JqZWN0U3RvcmUoJ3BhZ2UnKS5nZXQocGFnZUlkKTtcclxuLy8gICAgICAgICBwYWdlLm1vZHVsZUxpc3QgPSBwYWdlLm1vZHVsZUxpc3QuZmlsdGVyKCh2OiBudW1iZXIpID0+IHYgIT09IG1vZHVsZUlkKTsgLy/lhYjnp7vpmaTmqKHlnZdcclxuLy8gICAgICAgICAvLyDlpoLmnpzmsqHmnInorr7nva5wcmVNb2R1bGVJZO+8jOWImeivtOaYjuenu+WIsOesrOS4gOS4quaooeWdl1xyXG4vLyAgICAgICAgIGlmIChwcmVNb2R1bGVJZCA9PT0gdW5kZWZpbmVkKSB7XHJcbi8vICAgICAgICAgICAgIHBhZ2UubW9kdWxlTGlzdCA9IFttb2R1bGVJZF0uY29uY2F0KHBhZ2UubW9kdWxlTGlzdClcclxuLy8gICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICBjb25zdCBwcmVJbmRleCA9IHBhZ2UubW9kdWxlTGlzdC5pbmRleE9mKHByZU1vZHVsZUlkKTtcclxuLy8gICAgICAgICAgICAgcGFnZS5tb2R1bGVMaXN0LnNwbGljZShwcmVJbmRleCArIDEsIDAsIG1vZHVsZUlkKTsgLy/lnKhwcmVNb2R1bGXlkI7mt7vliqDmqKHlnZdcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdHgub2JqZWN0U3RvcmUoJ3BhZ2UnKS5wdXQocGFnZSk7XHJcbi8vICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuLy8gICAgICAgICAgICAgICAgIG1vZHVsZUlkLFxyXG4vLyAgICAgICAgICAgICAgICAgcHJlTW9kdWxlSWQsXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG4vLyAgICAgLyoqXHJcbi8vICAgICAgKiDojrflvpfpobXpnaLmiYDmnInmqKHlnZfmlbDmja5cclxuLy8gICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYWdlSWQg6aG16Z2iSWRcclxuLy8gICAgICAqL1xyXG4vLyAgICAgYXN5bmMgZ2V0QWxsTW9kdWxlKHBhZ2VJZDogbnVtYmVyKSB7XHJcblxyXG4vLyAgICAgICAgIGNvbnN0IGRiID0gYXdhaXQgaWRiLm9wZW4oREIuTmFtZSk7XHJcbi8vICAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ21vZHVsZScsICdwYWdlJ10sICdyZWFkb25seScpO1xyXG4vLyAgICAgICAgIGNvbnN0IG1vZHVsZUluZm9zID0gYXdhaXQgdHgub2JqZWN0U3RvcmUoJ21vZHVsZScpLmdldEFsbCgpO1xyXG5cclxuLy8gICAgICAgICBjb25zdCBwYWdlSW5mbyA9IGF3YWl0IHR4Lm9iamVjdFN0b3JlKCdwYWdlJykuZ2V0KHBhZ2VJZCk7XHJcbi8vICAgICAgICAgbGV0IHByb21pc2VBcnIgPSBbXTtcclxuLy8gICAgICAgICBmb3IgKGxldCBtb2R1bGVJZCBvZiBwYWdlSW5mby5tb2R1bGVMaXN0KSB7XHJcbi8vICAgICAgICAgICAgIGlmIChtb2R1bGVJZCAhPT0gdW5kZWZpbmVkKSB7XHJcbi8vICAgICAgICAgICAgICAgICBwcm9taXNlQXJyLnB1c2godHgub2JqZWN0U3RvcmUoJ21vZHVsZScpLmdldChtb2R1bGVJZCkpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZUFycik7XHJcbi8vICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuLy8gICAgIH0sXHJcbi8vICAgICAvKipcclxuLy8gICAgICAqIOagueaNrm1vZHVsZVR5cGVJZOiOt+WPluaooeWdl+WQjeensFxyXG4vLyAgICAgICogQHBhcmFtIHtOdW1iZXJ9IG1vZHVsZVR5cGVJZCDmqKHlnZfnsbvlnotJZFxyXG4vLyAgICAgICovXHJcbi8vICAgICBhc3luYyBnZXRNb2R1bGVOYW1lKG1vZHVsZVR5cGVJZDogbnVtYmVyKSB7XHJcbi8vICAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBpZGIub3BlbihEQi5OYW1lKTtcclxuLy8gICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi50cmFuc2FjdGlvbignbW9kdWxlTmFtZScpLm9iamVjdFN0b3JlKCdtb2R1bGVOYW1lJykuZ2V0KG1vZHVsZVR5cGVJZCk7XHJcbi8vICAgICAgICAgcmV0dXJuIHJlc3VsdC5tb2R1bGVOYW1lO1xyXG4vLyAgICAgfSxcclxuLy8gICAgIC8qKlxyXG4vLyAgICAgICog5Yig6Zmk5omA5pyJ5qih5Z2XXHJcbi8vICAgICAgKi9cclxuLy8gICAgIGFzeW5jIGRlbGV0ZUFsbE1vZHVsZXMoKSB7XHJcblxyXG4vLyAgICAgICAgIGNvbnN0IGRiID0gYXdhaXQgaWRiLm9wZW4oREIuTmFtZSk7XHJcbi8vICAgICAgICAgY29uc3QgbW9kdWxlUmVzdWx0ID0gYXdhaXQgZGIudHJhbnNhY3Rpb24oJ21vZHVsZScpLm9iamVjdFN0b3JlKCdtb2R1bGUnKS5nZXRBbGwoKTtcclxuLy8gICAgICAgICBjb25zdCBtb2R1bGVJZHMgPSBtb2R1bGVSZXN1bHQubWFwKHYgPT4gdi5tb2R1bGVJZCk7XHJcblxyXG4vLyAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbi8vICAgICAgICAgICAgIFByb21pc2UuYWxsKG1vZHVsZUlkcy5tYXAoKG1vZHVsZUlkKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbi8vICAgICAgICAgICAgICAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKCdtb2R1bGUnLCAncmVhZHdyaXRlJykub2JqZWN0U3RvcmUoJ21vZHVsZScpO1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKHR4LmRlbGV0ZShtb2R1bGVJZCkgYXMgYW55KS5yZXF1ZXN0O1xyXG5cclxuLy8gICAgICAgICAgICAgICAgIHJlc3VsdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHJlc3VsdDogdHJ1ZSB9KTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIHJlc3VsdC5vbmVycm9yID0gKCkgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh7IHJlc3VsdDogZmFsc2UgfSk7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH0pKSkudGhlbigoKSA9PiB7XHJcbi8vICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4vLyAgICAgICAgICAgICB9KTtcclxuXHJcbi8vICAgICAgICAgfSlcclxuXHJcbi8vICAgICB9LFxyXG4vLyAgICAgLyoqXHJcbi8vICAgICAgKiDmlrDlop7pobXpnaJcclxuLy8gICAgICAqL1xyXG4vLyAgICAgYXN5bmMgYWRkUGFnZShwYWdlRGF0YSA9IHsgbmFtZTogJ+mhtemdouWQjeensCcgfSkge1xyXG4vLyAgICAgICAgIGNvbnN0IE5BTUUgPSBgcGFnZWBcclxuLy8gICAgICAgICBjb25zdCBkYiA9IGF3YWl0IGlkYi5vcGVuKERCLk5hbWUpO1xyXG4vLyAgICAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oTkFNRSwgJ3JlYWR3cml0ZScpLm9iamVjdFN0b3JlKE5BTUUpO1xyXG4vLyAgICAgICAgIGNvbnN0IHBhZ2VJZCA9IGF3YWl0IHR4LnB1dChwYWdlRGF0YSlcclxuLy8gICAgICAgICByZXR1cm4gYXdhaXQgZGIudHJhbnNhY3Rpb24oTkFNRSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoTkFNRSkuZ2V0KHBhZ2VJZCk7XHJcbi8vICAgICB9XHJcblxyXG4vLyB9XHJcblxyXG5jb25zdCBEQkFjdGlvbiA9IHtcclxuICAgIGFzeW5jIGdldEFsbE1vZHVsZShwYWdlSWQ6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gKGF3YWl0IGF4aW9zKElOVEVSRkFDRS5nZXRBbGxNb2R1bGUsIHtcclxuICAgICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICBwYWdlSWQsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgaWYgKGRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YS5kYXRhO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIOa3u+WKoOaooeWdl1xyXG4gICAgKiBAcGFyYW0ge09iamVjdH0gYXJncyDlhaXlj4LvvIzmqKHlnZfnsbvlnovvvIzkvY3nva7nrYlcclxuICAgICovXHJcbiAgICBhc3luYyBhZGRNb2R1bGUoYXJnczogeyBwcmVNb2R1bGVJZD86IG51bWJlciwgbW9kdWxlVHlwZUlkOiBudW1iZXIsIGRhdGE/OiBhbnksIHBhZ2VJZDogbnVtYmVyIH0pIHtcclxuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IChhd2FpdCBheGlvcyhJTlRFUkZBQ0UuYWRkTW9kdWxlLCB7XHJcbiAgICAgICAgICAgIHBhcmFtczogYXJncyxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgaWYgKGRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycsIDEpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YS5kYXRhO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOagueaNruaooeWdl0lk5Yig6Zmk5qih5Z2XICBcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAg5YWl5Y+CIOW4pm1vZHVsZUlk5ZKMcGFnZUlkXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHJlbW92ZU1vZHVsZSh7IG1vZHVsZUlkLCBwYWdlSWQgfTogeyBtb2R1bGVJZDogbnVtYmVyLCBwYWdlSWQ6IG51bWJlciB9KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IGF4aW9zKElOVEVSRkFDRS5yZW1vdmVNb2R1bGUsIHtcclxuICAgICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICBtb2R1bGVJZCxcclxuICAgICAgICAgICAgICAgIHBhZ2VJZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpLmRhdGE7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtb2R1bGVJZCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQ6IGZhbHNlLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog56e75Yqo5qih5Z2XXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHBvc2l0aW9uTW9kdWxlKHsgbW9kdWxlSWQsIHByZU1vZHVsZUlkLCBwYWdlSWQgfTogeyBtb2R1bGVJZDogbnVtYmVyLCBwcmVNb2R1bGVJZD86IG51bWJlciwgcGFnZUlkOiBudW1iZXIgfSkge1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgYXhpb3MoSU5URVJGQUNFLnBvc2l0aW9uTW9kdWxlLCB7XHJcbiAgICAgICAgICAgIHBhcmFtczogeyBtb2R1bGVJZCwgcHJlTW9kdWxlSWQsIHBhZ2VJZCB9XHJcbiAgICAgICAgfSkpLmRhdGE7XHJcblxyXG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1vZHVsZUlkLFxyXG4gICAgICAgICAgICAgICAgcHJlTW9kdWxlSWQsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiDmm7TmlrDmqKHlnZdcclxuICAgICAqL1xyXG4gICAgYXN5bmMgdXBkYXRlTW9kdWxlKG1vZHVsZURhdGE6IElNb2R1bGVEYXRhKSB7XHJcbiAgICAgICAgZGVsZXRlIG1vZHVsZURhdGEudGVtcERhdGE7IC8vIOWIoOmZpOS4tOaXtuaVsOaNrlxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCBheGlvcyhJTlRFUkZBQ0UudXBkYXRlTW9kdWxlLCB7XHJcbiAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgbW9kdWxlRGF0YSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KSkuZGF0YTtcclxuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgbWVzc2FnZS5zdWNjZXNzKCfkv53lrZjmiJDlip8nLCAxKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog5aSN5Yi25qih5Z2XXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGNvcHlNb2R1bGUobW9kdWxlSWQ6IG51bWJlciwgcGFnZUlkOiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgYXhpb3MoSU5URVJGQUNFLmNvcHlNb2R1bGUsIHtcclxuICAgICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICBtb2R1bGVJZCxcclxuICAgICAgICAgICAgICAgIHBhZ2VJZCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKS5kYXRhO1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoJ+WkjeWItuaIkOWKnycpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bpobXpnaLliJ3lp4vljJbmlbDmja5cclxuICAgICAqIEBwYXJhbSBwYWdlVHlwZSDpobXpnaLnsbvlnosgMO+8muijheS/riAx77ya6aKE6KeIIDLvvJrmtY/op4hcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0SW5pdERhdGEocGFnZVR5cGU6IG51bWJlciwgcGFnZUlkPzogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKCFwYWdlSWQgJiYgIWlzU2VydmVyKCkpIHtcclxuICAgICAgICAgICAgcGFnZUlkID0gKHdpbmRvdyBhcyBhbnkpLmxvY2F0aW9uLmhyZWYubWF0Y2goL3BhZ2VJZD0oWzAtOV0rKS8pWzFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgYXhpb3MoSU5URVJGQUNFLmdldEluaXREYXRhLCB7XHJcbiAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgcGFnZUlkLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpLmRhdGE7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5kYXRhLnBhZ2VUeXBlID0gcGFnZVR5cGU7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiDpgIDlh7rnmbvlvZVcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9nb3V0KCkge1xyXG4gICAgICAgIHJldHVybiAoYXdhaXQgYXhpb3MoSU5URVJGQUNFLmxvZ291dCkpLmRhdGE7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IEFjdGlvbiA9IERCQWN0aW9uO1xyXG5cclxuaWYgKCFpc1NlcnZlcikge1xyXG4gICAgKHdpbmRvdyBhcyBhbnkpLkFjdGlvbiA9IEFjdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQWN0aW9uOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFHQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFHQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n")},16:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony default export */ __webpack_exports__[\"a\"] = (function () {\r\n    return typeof window === 'undefined';\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbW1vbi9zY3JpcHQvaXNTZXJ2ZXIudHM/NTc1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCc7XHJcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n")},178:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 19 modules\nvar es = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(1);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__(428);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/tooltip/index.js + 5 modules\nvar tooltip = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/icon/index.js\nvar icon = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./src/actions/index.js\nvar actions = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/component/ModuleBar/ModuleBar.tsx\n\r\n\r\n\r\n\r\n\r\nclass ModuleBar_ModuleBar extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        /**\r\n         * 上移模块\r\n         */\r\n        this.up = (moduleId) => {\r\n            const { pageId } = this.context.BASE_DATA;\r\n            const preModuleId = this.props.module.moduleList.reduce((acc, v, i, array) => {\r\n                if (v.moduleId === moduleId) {\r\n                    // 如果这不是第一个模块\r\n                    if (i > 1) {\r\n                        acc = array[i - 2].moduleId;\r\n                    }\r\n                    if (i === 0) {\r\n                        acc = -1;\r\n                    }\r\n                }\r\n                return acc;\r\n            }, 0);\r\n            if (preModuleId === -1) {\r\n                message["a" /* default */].error(\'当前模块已是第一个模块\');\r\n            }\r\n            else {\r\n                this.props.positionModuleRequest({\r\n                    preModuleId,\r\n                    moduleId,\r\n                    pageId,\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * 下移模块\r\n         */\r\n        this.down = (moduleId) => {\r\n            const { pageId } = this.context.BASE_DATA;\r\n            const preModuleId = this.props.module.moduleList.reduce((acc, v, i, array) => {\r\n                if (v.moduleId === moduleId) {\r\n                    let nextModule = array[i + 1];\r\n                    if (nextModule !== undefined) {\r\n                        acc = nextModule.moduleId;\r\n                    }\r\n                }\r\n                return acc;\r\n            }, 0);\r\n            if (preModuleId === undefined) {\r\n                message["a" /* default */].error(\'当前模块已是最后一个模块\');\r\n            }\r\n            else {\r\n                this.props.positionModuleRequest({\r\n                    preModuleId,\r\n                    moduleId,\r\n                    pageId,\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * 复制模块\r\n         */\r\n        this.copy = (moduleId) => {\r\n            let { pageId } = this.context.BASE_DATA;\r\n            pageId = Number.parseInt(pageId, 10);\r\n            this.props.copyModuleRequest({\r\n                moduleId,\r\n                pageId,\r\n            });\r\n        };\r\n    }\r\n    render() {\r\n        const { pageId } = this.context.BASE_DATA;\r\n        const { showConfig, module, moduleConfig, hideConfig, removeModuleRequest } = this.props;\r\n        const activeModule = module.moduleList.filter((v) => v.tempData && v.tempData.isActive === true);\r\n        const configVisiable = moduleConfig.isVisible;\r\n        const activeModuleData = activeModule && activeModule[0];\r\n        const activeModuleId = activeModuleData && activeModuleData.moduleId;\r\n        let top = 90;\r\n        if (activeModuleData && activeModuleData.tempData) {\r\n            top += activeModuleData.tempData.top || 0;\r\n        }\r\n        if (activeModuleData === undefined) {\r\n            return null;\r\n        }\r\n        const removeModule = (moduleId) => {\r\n            removeModuleRequest({\r\n                pageId,\r\n                moduleId: activeModuleId,\r\n            });\r\n        };\r\n        return (react_default.a.createElement("div", { className: "d-module-bar", style: { top } },\r\n            react_default.a.createElement(tooltip["a" /* default */], { title: "\\u6A21\\u5757\\u914D\\u7F6E", placement: "right" },\r\n                react_default.a.createElement(icon["a" /* default */], { type: "setting", onClick: () => { configVisiable ? hideConfig() : showConfig(activeModuleData); }, style: { fontSize: \'20px\', color: `${configVisiable ? \'#3089DC\' : \'\'}` } })),\r\n            react_default.a.createElement(tooltip["a" /* default */], { title: "\\u4E0A\\u79FB", placement: "right" },\r\n                react_default.a.createElement(icon["a" /* default */], { type: "caret-up", onClick: this.up.bind(this, activeModuleId), style: { fontSize: \'20px\' } })),\r\n            react_default.a.createElement(tooltip["a" /* default */], { title: "\\u4E0B\\u79FB", placement: "right" },\r\n                react_default.a.createElement(icon["a" /* default */], { type: "caret-down", style: { fontSize: \'20px\' }, onClick: this.down.bind(this, activeModuleId) })),\r\n            react_default.a.createElement(tooltip["a" /* default */], { title: "\\u590D\\u5236", placement: "right" },\r\n                react_default.a.createElement(icon["a" /* default */], { type: "copy", style: { fontSize: \'20px\' }, onClick: this.copy.bind(this, activeModuleId) })),\r\n            react_default.a.createElement(tooltip["a" /* default */], { title: "\\u5220\\u9664", placement: "right" },\r\n                react_default.a.createElement(icon["a" /* default */], { type: "delete", style: { fontSize: \'20px\' }, onClick: () => { removeModule(activeModuleId); } }))));\r\n    }\r\n}\r\nModuleBar_ModuleBar.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        module: state.module,\r\n        moduleConfig: state.moduleConfig,\r\n    };\r\n};\r\n/* harmony default export */ var component_ModuleBar_ModuleBar = (Object(es["b" /* connect */])(mapStateToProps, {\r\n    showConfig: actions["y" /* showConfig */],\r\n    hideConfig: actions["s" /* hideConfig */],\r\n    removeModuleRequest: actions["w" /* removeModuleRequest */],\r\n    positionModuleRequest: actions["v" /* positionModuleRequest */],\r\n    copyModuleRequest: actions["p" /* copyModuleRequest */],\r\n})(ModuleBar_ModuleBar));\r\n\n// EXTERNAL MODULE: ./src/component/ModuleBar/ModuleBar.scss\nvar src_component_ModuleBar_ModuleBar = __webpack_require__(298);\n\n// CONCATENATED MODULE: ./src/component/ModuleBar/index.ts\n\r\n\r\n/* harmony default export */ var component_ModuleBar = __webpack_exports__["a"] = (component_ModuleBar_ModuleBar);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvTW9kdWxlQmFyL01vZHVsZUJhci50c3g/YzFmNyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9Nb2R1bGVCYXIvaW5kZXgudHM/Y2JjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyBJY29uLCBUb29sdGlwLCBtZXNzYWdlIH0gZnJvbSAnYW50ZCc7XHJcblxyXG5pbXBvcnQgeyBzaG93Q29uZmlnLCBoaWRlQ29uZmlnLCByZW1vdmVNb2R1bGVSZXF1ZXN0LCBwb3NpdGlvbk1vZHVsZVJlcXVlc3QsIGNvcHlNb2R1bGVSZXF1ZXN0IH0gZnJvbSAnLi4vLi4vYWN0aW9ucyc7XHJcbmltcG9ydCB7IElNb2R1bGUsIElTdGF0ZSwgSU1vZHVsZUNvbmZpZyB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcblxyXG5pbnRlcmZhY2UgTW9kdWxlQmFyUHJvcHMge1xyXG4gICAgbW9kdWxlOiBJTW9kdWxlO1xyXG4gICAgcG9zaXRpb25Nb2R1bGVSZXF1ZXN0OiAoYXJnczogYW55KSA9PiB2b2lkO1xyXG4gICAgc2hvd0NvbmZpZzogYW55O1xyXG4gICAgbW9kdWxlQ29uZmlnOiBJTW9kdWxlQ29uZmlnO1xyXG4gICAgaGlkZUNvbmZpZzogYW55O1xyXG4gICAgcmVtb3ZlTW9kdWxlUmVxdWVzdDogYW55O1xyXG4gICAgY29weU1vZHVsZVJlcXVlc3Q6IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIE1vZHVsZUJhclN0YXRlIHtcclxuXHJcbn1cclxuXHJcbmNsYXNzIE1vZHVsZUJhciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxNb2R1bGVCYXJQcm9wcywgTW9kdWxlQmFyU3RhdGU+IHtcclxuXHJcbiAgICBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xyXG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBNb2R1bGVCYXJQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4iuenu+aooeWdl1xyXG4gICAgICovXHJcbiAgICB1cCA9IChtb2R1bGVJZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBwYWdlSWQgfSA9IHRoaXMuY29udGV4dC5CQVNFX0RBVEE7XHJcbiAgICAgICAgY29uc3QgcHJlTW9kdWxlSWQgPSB0aGlzLnByb3BzLm1vZHVsZS5tb2R1bGVMaXN0LnJlZHVjZSgoYWNjLCB2LCBpLCBhcnJheSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodi5tb2R1bGVJZCA9PT0gbW9kdWxlSWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIOWmguaenOi/meS4jeaYr+esrOS4gOS4quaooeWdl1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWNjID0gYXJyYXlbaSAtIDJdLm1vZHVsZUlkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBhY2MgPSAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgIH0sIDApO1xyXG4gICAgICAgIGlmIChwcmVNb2R1bGVJZCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgbWVzc2FnZS5lcnJvcign5b2T5YmN5qih5Z2X5bey5piv56ys5LiA5Liq5qih5Z2XJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5wb3NpdGlvbk1vZHVsZVJlcXVlc3Qoe1xyXG4gICAgICAgICAgICAgICAgcHJlTW9kdWxlSWQsXHJcbiAgICAgICAgICAgICAgICBtb2R1bGVJZCxcclxuICAgICAgICAgICAgICAgIHBhZ2VJZCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5LiL56e75qih5Z2XXHJcbiAgICAgKi9cclxuICAgIGRvd24gPSAobW9kdWxlSWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgcGFnZUlkIH0gPSB0aGlzLmNvbnRleHQuQkFTRV9EQVRBO1xyXG4gICAgICAgIGNvbnN0IHByZU1vZHVsZUlkID0gdGhpcy5wcm9wcy5tb2R1bGUubW9kdWxlTGlzdC5yZWR1Y2UoKGFjYywgdiwgaSwgYXJyYXkpID0+IHtcclxuICAgICAgICAgICAgaWYgKHYubW9kdWxlSWQgPT09IG1vZHVsZUlkKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV4dE1vZHVsZSA9IGFycmF5W2kgKyAxXTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0TW9kdWxlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhY2MgPSBuZXh0TW9kdWxlLm1vZHVsZUlkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgaWYgKHByZU1vZHVsZUlkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbWVzc2FnZS5lcnJvcign5b2T5YmN5qih5Z2X5bey5piv5pyA5ZCO5LiA5Liq5qih5Z2XJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5wb3NpdGlvbk1vZHVsZVJlcXVlc3Qoe1xyXG4gICAgICAgICAgICAgICAgcHJlTW9kdWxlSWQsXHJcbiAgICAgICAgICAgICAgICBtb2R1bGVJZCxcclxuICAgICAgICAgICAgICAgIHBhZ2VJZCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5aSN5Yi25qih5Z2XXHJcbiAgICAgKi9cclxuICAgIGNvcHkgPSAobW9kdWxlSWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGxldCB7IHBhZ2VJZCB9ID0gdGhpcy5jb250ZXh0LkJBU0VfREFUQTtcclxuICAgICAgICBwYWdlSWQgPSBOdW1iZXIucGFyc2VJbnQocGFnZUlkLCAxMCk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5jb3B5TW9kdWxlUmVxdWVzdCh7XHJcbiAgICAgICAgICAgIG1vZHVsZUlkLFxyXG4gICAgICAgICAgICBwYWdlSWQsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgcGFnZUlkIH0gPSB0aGlzLmNvbnRleHQuQkFTRV9EQVRBO1xyXG4gICAgICAgIGNvbnN0IHsgc2hvd0NvbmZpZywgbW9kdWxlLCBtb2R1bGVDb25maWcsIGhpZGVDb25maWcsIHJlbW92ZU1vZHVsZVJlcXVlc3QgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgYWN0aXZlTW9kdWxlID0gbW9kdWxlLm1vZHVsZUxpc3QuZmlsdGVyKCh2KSA9PiB2LnRlbXBEYXRhICYmIHYudGVtcERhdGEuaXNBY3RpdmUgPT09IHRydWUpO1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZ1Zpc2lhYmxlID0gbW9kdWxlQ29uZmlnLmlzVmlzaWJsZTtcclxuICAgICAgICBjb25zdCBhY3RpdmVNb2R1bGVEYXRhID0gYWN0aXZlTW9kdWxlICYmIGFjdGl2ZU1vZHVsZVswXTtcclxuICAgICAgICBjb25zdCBhY3RpdmVNb2R1bGVJZCA9IGFjdGl2ZU1vZHVsZURhdGEgJiYgYWN0aXZlTW9kdWxlRGF0YS5tb2R1bGVJZDtcclxuICAgICAgICBsZXQgdG9wID0gOTA7XHJcbiAgICAgICAgaWYgKGFjdGl2ZU1vZHVsZURhdGEgJiYgYWN0aXZlTW9kdWxlRGF0YS50ZW1wRGF0YSkge1xyXG4gICAgICAgICAgICB0b3AgKz0gYWN0aXZlTW9kdWxlRGF0YS50ZW1wRGF0YS50b3AgfHwgMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFjdGl2ZU1vZHVsZURhdGEgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gbnVsbDsgfVxyXG5cclxuICAgICAgICBjb25zdCByZW1vdmVNb2R1bGUgPSAobW9kdWxlSWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICByZW1vdmVNb2R1bGVSZXF1ZXN0KHtcclxuICAgICAgICAgICAgICAgIHBhZ2VJZCxcclxuICAgICAgICAgICAgICAgIG1vZHVsZUlkOiBhY3RpdmVNb2R1bGVJZCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZC1tb2R1bGUtYmFyXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHRvcCB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8VG9vbHRpcCB0aXRsZT1cIuaooeWdl+mFjee9rlwiIHBsYWNlbWVudD1cInJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInNldHRpbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IGNvbmZpZ1Zpc2lhYmxlID8gaGlkZUNvbmZpZygpIDogc2hvd0NvbmZpZyhhY3RpdmVNb2R1bGVEYXRhKTsgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcyMHB4JywgY29sb3I6IGAke2NvbmZpZ1Zpc2lhYmxlID8gJyMzMDg5REMnIDogJyd9YCB9fVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XHJcbiAgICAgICAgICAgICAgICA8VG9vbHRpcCB0aXRsZT1cIuS4iuenu1wiIHBsYWNlbWVudD1cInJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNhcmV0LXVwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy51cC5iaW5kKHRoaXMsIGFjdGl2ZU1vZHVsZUlkKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcyMHB4JyB9fVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XHJcbiAgICAgICAgICAgICAgICA8VG9vbHRpcCB0aXRsZT1cIuS4i+enu1wiIHBsYWNlbWVudD1cInJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNhcmV0LWRvd25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzIwcHgnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZG93bi5iaW5kKHRoaXMsIGFjdGl2ZU1vZHVsZUlkKX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxyXG4gICAgICAgICAgICAgICAgPFRvb2x0aXAgdGl0bGU9XCLlpI3liLZcIiBwbGFjZW1lbnQ9XCJyaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxJY29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjb3B5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcyMHB4JyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNvcHkuYmluZCh0aGlzLCBhY3RpdmVNb2R1bGVJZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cclxuICAgICAgICAgICAgICAgIDxUb29sdGlwIHRpdGxlPVwi5Yig6ZmkXCIgcGxhY2VtZW50PVwicmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8SWNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGVsZXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcyMHB4JyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHJlbW92ZU1vZHVsZShhY3RpdmVNb2R1bGVJZCk7IH19XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBJU3RhdGUpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbW9kdWxlOiBzdGF0ZS5tb2R1bGUsXHJcbiAgICAgICAgbW9kdWxlQ29uZmlnOiBzdGF0ZS5tb2R1bGVDb25maWcsXHJcbiAgICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIHtcclxuICAgIHNob3dDb25maWcsXHJcbiAgICBoaWRlQ29uZmlnLFxyXG4gICAgcmVtb3ZlTW9kdWxlUmVxdWVzdCxcclxuICAgIHBvc2l0aW9uTW9kdWxlUmVxdWVzdCxcclxuICAgIGNvcHlNb2R1bGVSZXF1ZXN0LFxyXG59KShNb2R1bGVCYXIpOyIsImltcG9ydCBNb2R1bGVCYXIgZnJvbSAnLi9Nb2R1bGVCYXInO1xuaW1wb3J0ICcuL01vZHVsZUJhci5zY3NzJztcbmV4cG9ydCBkZWZhdWx0IE1vZHVsZUJhcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBaUJBO0FBTUE7QUFDQTtBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBakVBO0FBbUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFNQTtBQUNBO0FBTUE7QUFDQTtBQU1BO0FBQ0E7QUFNQTtBQUNBO0FBUUE7O0FBdklBO0FBQ0E7QUFDQTtBQXdJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDL0tBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///178\n')},179:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./src/actions/index.js\nvar actions = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 19 modules\nvar es = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(11);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/icon/index.js\nvar icon = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(1);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: ./src/component/ModuleList/ModuleList.scss\nvar ModuleList_ModuleList = __webpack_require__(300);\n\n// EXTERNAL MODULE: ./src/common/script/INTERFACE.ts\nvar INTERFACE = __webpack_require__(13);\n\n// CONCATENATED MODULE: ./src/component/ModuleList/ModuleList.tsx\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ModuleList_ModuleList_ModuleList extends react["Component"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.moduleDragStart = (moduleTypeId, e) => {\r\n            e.dataTransfer.setData(\'moduleTypeId\', moduleTypeId);\r\n        };\r\n        this.activeChange = (index) => {\r\n            const { list } = this.state;\r\n            const newList = list.map((v, i) => {\r\n                if (i === index) {\r\n                    v.isActive = !v.isActive;\r\n                }\r\n                return v;\r\n            });\r\n            this.setState({\r\n                list: newList,\r\n            });\r\n        };\r\n        this.addModule = this.addModule.bind(this);\r\n        this.state = {\r\n            list: [],\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = (yield axios_default()(INTERFACE["a" /* default */].getModuleList)).data;\r\n            if (result.success === true) {\r\n                const list = result.data.map((v) => {\r\n                    v.isActive = true;\r\n                    return v;\r\n                });\r\n                this.setState({\r\n                    list,\r\n                });\r\n                // 将moduleList挂载到上，供其他地方调用\r\n            }\r\n        });\r\n    }\r\n    addModule(moduleTypeId) {\r\n        const { addModuleRequest } = this.props;\r\n        const pageId = this.context.BASE_DATA.pageId;\r\n        const args = {\r\n            moduleTypeId,\r\n            pageId,\r\n        };\r\n        addModuleRequest(args);\r\n    }\r\n    render() {\r\n        const { list } = this.state;\r\n        if (list.length > 0) {\r\n            return (react_default.a.createElement("div", { className: "d-module-list" }, list.map((moduleCate, i) => react_default.a.createElement(react_default.a.Fragment, { key: i },\r\n                react_default.a.createElement("div", { className: `d-module-cate ${moduleCate.isActive === true ? \'active\' : \'\'}`, onClick: () => { this.activeChange(i); } },\r\n                    react_default.a.createElement(icon["a" /* default */], { type: "caret-right" }),\r\n                    react_default.a.createElement("span", { className: "d-cate-name" }, moduleCate.name)),\r\n                react_default.a.createElement("div", { className: "d-sub-list" }, moduleCate.list.map((module, i) => react_default.a.createElement("div", { key: module.moduleTypeId, className: "d-module-item", "data-type-id": module.moduleTypeId, draggable: true, onDoubleClick: (e) => { this.addModule(module.moduleTypeId); }, onDragStart: this.moduleDragStart.bind(this, module.moduleTypeId) },\r\n                    react_default.a.createElement("div", { className: "d-module-icon" },\r\n                        react_default.a.createElement("span", { style: { backgroundImage: `url(${module.iconUrl})` } })),\r\n                    react_default.a.createElement("span", { className: "d-module-name" }, module.moduleName))))))));\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\nModuleList_ModuleList_ModuleList.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\nconst mapStateToProps = (state) => ({\r\n    moduleConfig: state.moduleConfig,\r\n    module: state.module,\r\n});\r\n/* harmony default export */ var component_ModuleList_ModuleList = (Object(es["b" /* connect */])(mapStateToProps, { addModuleRequest: actions["n" /* addModuleRequest */] })(ModuleList_ModuleList_ModuleList));\r\n\n// CONCATENATED MODULE: ./src/component/ModuleList/index.ts\n\r\n/* harmony default export */ var component_ModuleList = __webpack_exports__["a"] = (component_ModuleList_ModuleList);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvTW9kdWxlTGlzdC9Nb2R1bGVMaXN0LnRzeD8wMjE0Iiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L01vZHVsZUxpc3QvaW5kZXgudHM/OWFiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYWRkTW9kdWxlUmVxdWVzdCB9IGZyb20gJy4uLy4uL2FjdGlvbnMnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IEljb24gfSBmcm9tICdhbnRkJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCAnLi9Nb2R1bGVMaXN0LnNjc3MnO1xuaW1wb3J0IHsgSVN0YXRlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcbmltcG9ydCBJTlRFUkZBQ0UgZnJvbSAnLi4vLi4vY29tbW9uL3NjcmlwdC9JTlRFUkZBQ0UnO1xuXG5pbnRlcmZhY2UgTW9kdWxlTGlzdFByb3BzIHtcbiAgICBhZGRNb2R1bGVSZXF1ZXN0OiAoYXJnczogYW55KSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgTW9kdWxlTGlzdFN0YXRlIHtcbiAgICBsaXN0OiBhbnk7XG59XG5cbmNsYXNzIE1vZHVsZUxpc3QgZXh0ZW5kcyBDb21wb25lbnQ8TW9kdWxlTGlzdFByb3BzLCBNb2R1bGVMaXN0U3RhdGU+IHtcblxuICAgIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdFxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBNb2R1bGVMaXN0UHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLmFkZE1vZHVsZSA9IHRoaXMuYWRkTW9kdWxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBsaXN0OiBbXSxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgYXhpb3MoSU5URVJGQUNFLmdldE1vZHVsZUxpc3QpKS5kYXRhO1xuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSByZXN1bHQuZGF0YS5tYXAoKHY6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHYuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGxpc3QsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8g5bCGbW9kdWxlTGlzdOaMgui9veWIsOS4iu+8jOS+m+WFtuS7luWcsOaWueiwg+eUqFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkTW9kdWxlKG1vZHVsZVR5cGVJZDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHsgYWRkTW9kdWxlUmVxdWVzdCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgcGFnZUlkID0gdGhpcy5jb250ZXh0LkJBU0VfREFUQS5wYWdlSWQ7XG5cbiAgICAgICAgY29uc3QgYXJncyA9IHtcbiAgICAgICAgICAgIG1vZHVsZVR5cGVJZCxcbiAgICAgICAgICAgIHBhZ2VJZCxcbiAgICAgICAgfVxuICAgICAgICBhZGRNb2R1bGVSZXF1ZXN0KGFyZ3MpO1xuICAgIH1cblxuICAgIG1vZHVsZURyYWdTdGFydCA9IChtb2R1bGVUeXBlSWQ6IHN0cmluZywgZTogRHJhZ0V2ZW50KSA9PiB7XG4gICAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ21vZHVsZVR5cGVJZCcsIG1vZHVsZVR5cGVJZCk7XG4gICAgfVxuXG4gICAgYWN0aXZlQ2hhbmdlID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgeyBsaXN0IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBjb25zdCBuZXdMaXN0ID0gbGlzdC5tYXAoKHY6IGFueSwgaTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2LmlzQWN0aXZlID0gIXYuaXNBY3RpdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBsaXN0OiBuZXdMaXN0LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG5cbiAgICAgICAgY29uc3QgeyBsaXN0IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBpZiAobGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1tb2R1bGUtbGlzdFwiID5cbiAgICAgICAgICAgICAgICAgICAge2xpc3QubWFwKChtb2R1bGVDYXRlOiBhbnksIGk6IG51bWJlcikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudCBrZXk9e2l9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZC1tb2R1bGUtY2F0ZSAke21vZHVsZUNhdGUuaXNBY3RpdmUgPT09IHRydWUgPyAnYWN0aXZlJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgdGhpcy5hY3RpdmVDaGFuZ2UoaSkgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHR5cGU9XCJjYXJldC1yaWdodFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImQtY2F0ZS1uYW1lXCI+e21vZHVsZUNhdGUubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLXN1Yi1saXN0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttb2R1bGVDYXRlLmxpc3QubWFwKChtb2R1bGU6IGFueSwgaTogbnVtYmVyKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17bW9kdWxlLm1vZHVsZVR5cGVJZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkLW1vZHVsZS1pdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXR5cGUtaWQ9e21vZHVsZS5tb2R1bGVUeXBlSWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRG91YmxlQ2xpY2s9eyhlKSA9PiB7IHRoaXMuYWRkTW9kdWxlKG1vZHVsZS5tb2R1bGVUeXBlSWQpIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9e3RoaXMubW9kdWxlRHJhZ1N0YXJ0LmJpbmQodGhpcywgbW9kdWxlLm1vZHVsZVR5cGVJZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLW1vZHVsZS1pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogYHVybCgke21vZHVsZS5pY29uVXJsfSlgIH19Pjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkLW1vZHVsZS1uYW1lXCI+e21vZHVsZS5tb2R1bGVOYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGU6IElTdGF0ZSkgPT4gKHtcbiAgICBtb2R1bGVDb25maWc6IHN0YXRlLm1vZHVsZUNvbmZpZyxcbiAgICBtb2R1bGU6IHN0YXRlLm1vZHVsZSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgeyBhZGRNb2R1bGVSZXF1ZXN0IH0pKE1vZHVsZUxpc3QpOyIsImltcG9ydCBNb2R1bGVMaXN0IGZyb20gJy4vTW9kdWxlTGlzdCc7XG5leHBvcnQgZGVmYXVsdCBNb2R1bGVMaXN0OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFVQTtBQU1BO0FBQ0E7QUFpQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW1CQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFDQTtBQUVBO0FBVUE7QUFDQTtBQUVBO0FBUUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUE5RkE7QUFDQTtBQUNBO0FBK0ZBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQzNIQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///179\n')},180:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/icon/index.js\nvar icon = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 19 modules\nvar es = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(1);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: ./src/actions/index.js\nvar actions = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/component/ModuleNav/ModuleNavItem.tsx\n\r\n\r\n\r\n\r\n\r\nclass ModuleNavItem_ModuleNavItem extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onDragStart = (e) => {\r\n            const { moduleData: { moduleId, }, onDragedChange, } = this.props;\r\n            this.setState({\r\n                isVisible: false,\r\n            });\r\n            onDragedChange(moduleId);\r\n            e.dataTransfer.setData(\'moduleId\', moduleId);\r\n        };\r\n        this.onDragEnter = (e) => {\r\n            const { moduleData: { moduleId, } } = this.props;\r\n            const { currentDrag } = this.props;\r\n            if (moduleId !== currentDrag) {\r\n                this.setState({\r\n                    isDragOver: true,\r\n                });\r\n            }\r\n        };\r\n        this.onDragLeave = () => {\r\n            this.setState({\r\n                isDragOver: false,\r\n            });\r\n        };\r\n        this.onDrop = (e) => {\r\n            const targetModuleId = Number.parseInt(e.dataTransfer.getData(\'moduleId\'), 10);\r\n            const { moduleData: { moduleId, }, currentDrag, positionModuleRequest, onDragedChange, } = this.props;\r\n            const { pageId } = this.context.BASE_DATA;\r\n            // 移动自己不生效\r\n            if (currentDrag === moduleId) {\r\n                return;\r\n            }\r\n            positionModuleRequest({\r\n                moduleId: targetModuleId,\r\n                preModuleId: moduleId,\r\n                pageId,\r\n            });\r\n            onDragedChange(undefined);\r\n        };\r\n        this.state = {\r\n            isDragOver: false,\r\n            isVisible: true,\r\n        };\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.currentDrag === undefined) {\r\n            this.setState({\r\n                isDragOver: false,\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        const { moduleData, moduleConfig: { isVisiable: isConfigVisiable, }, moduleData: { moduleName, moduleId, tempData: { isActive, }, }, showConfig, focusModule, removeModuleRequest, } = this.props;\r\n        const { isDragOver, isVisible } = this.state;\r\n        const { pageId } = this.context.BASE_DATA;\r\n        return (react_default.a.createElement(react_default.a.Fragment, null,\r\n            react_default.a.createElement("li", { className: `d-module-nav-item ${isActive ? \'active\' : \'\'}`, onClick: (e) => { focusModule(moduleId); if (isConfigVisiable) {\r\n                    showConfig(moduleData);\r\n                } }, onDragStart: (e) => { this.onDragStart(e); }, onDragEnter: (e) => { this.onDragEnter(e); }, onDragOver: (e) => { e.preventDefault(); }, onDrop: (e) => { this.onDrop(e); }, onDragLeave: this.onDragLeave, draggable: true },\r\n                react_default.a.createElement("span", { className: "d-module-name" }, moduleName),\r\n                react_default.a.createElement("span", { className: "d-module-operate" },\r\n                    react_default.a.createElement(icon["a" /* default */], { className: "d-operate-icon", type: "setting", onClick: (e) => { showConfig(moduleData); } }),\r\n                    react_default.a.createElement(icon["a" /* default */], { className: "d-operate-icon", type: "delete", onClick: (e) => { removeModuleRequest({ moduleId, pageId }); } }))),\r\n            isDragOver ? react_default.a.createElement("div", { className: "d-placeholder" }) : null));\r\n    }\r\n}\r\nModuleNavItem_ModuleNavItem.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        module: state.module,\r\n        moduleConfig: state.moduleConfig,\r\n    };\r\n};\r\n/* harmony default export */ var ModuleNav_ModuleNavItem = (Object(es["b" /* connect */])(mapStateToProps, {\r\n    showConfig: actions["y" /* showConfig */],\r\n    focusModule: actions["r" /* focusModule */],\r\n    removeModuleRequest: actions["w" /* removeModuleRequest */],\r\n    positionModuleRequest: actions["v" /* positionModuleRequest */],\r\n})(ModuleNavItem_ModuleNavItem));\r\n\n// CONCATENATED MODULE: ./src/component/ModuleNav/ModuleNavList.tsx\n\r\n\r\n\r\n\r\n\r\nclass ModuleNavList_ModuleNavList extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        /**\r\n         * 当前被拖动的元素发生改变\r\n         */\r\n        this.onDragedChange = (moduleId) => {\r\n            this.setState({\r\n                currentDrag: moduleId,\r\n            });\r\n        };\r\n        this.state = {\r\n            currentDrag: undefined,\r\n        };\r\n    }\r\n    render() {\r\n        const { onClose, module: { moduleList } } = this.props;\r\n        const { currentDrag } = this.state;\r\n        return (react_default.a.createElement("div", { className: "d-module-nav-list" },\r\n            react_default.a.createElement("div", { className: "d-header" },\r\n                react_default.a.createElement("p", { className: "d-modal-title" }, "\\u6A21\\u5757\\u5BFC\\u822A"),\r\n                react_default.a.createElement(icon["a" /* default */], { className: "d-close-icon", type: "close", onClick: onClose })),\r\n            react_default.a.createElement("ul", null, moduleList.map((v) => (react_default.a.createElement(ModuleNav_ModuleNavItem, { key: v.moduleId, moduleData: v, onDragedChange: this.onDragedChange, currentDrag: currentDrag }))))));\r\n    }\r\n}\r\nconst ModuleNavList_mapStateToProps = (state) => {\r\n    return {\r\n        module: state.module,\r\n        moduleConfig: state.moduleConfig,\r\n    };\r\n};\r\n/* harmony default export */ var ModuleNav_ModuleNavList = (Object(es["b" /* connect */])(ModuleNavList_mapStateToProps, {\r\n    showConfig: actions["y" /* showConfig */],\r\n    focusModule: actions["r" /* focusModule */],\r\n    removeModuleRequest: actions["w" /* removeModuleRequest */],\r\n})(ModuleNavList_ModuleNavList));\r\n\n// CONCATENATED MODULE: ./src/component/ModuleNav/ModuleNav.tsx\n\r\n\r\n\r\nclass ModuleNav_ModuleNav extends react["Component"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onClose = () => {\r\n            this.setState({\r\n                isActive: false,\r\n            });\r\n        };\r\n        this.open = () => {\r\n            this.setState({\r\n                isActive: true,\r\n            });\r\n        };\r\n        this.toggle = () => {\r\n            if (this.state.isActive === true) {\r\n                this.onClose();\r\n            }\r\n            else {\r\n                this.open();\r\n            }\r\n        };\r\n        this.state = {\r\n            isActive: false,\r\n        };\r\n    }\r\n    render() {\r\n        const { isActive } = this.state;\r\n        return (react["createElement"]("div", { className: `d-module-nav ${isActive ? \'active\' : \'\'}` },\r\n            react["createElement"]("div", { className: "d-btn", onClick: this.toggle },\r\n                react["createElement"](icon["a" /* default */], { className: "d-icon", type: "bars" })),\r\n            react["createElement"](ModuleNav_ModuleNavList, { onClose: this.onClose })));\r\n    }\r\n}\r\n/* harmony default export */ var component_ModuleNav_ModuleNav = (ModuleNav_ModuleNav);\r\n\n// EXTERNAL MODULE: ./src/component/ModuleNav/ModuleNav.scss\nvar src_component_ModuleNav_ModuleNav = __webpack_require__(281);\n\n// CONCATENATED MODULE: ./src/component/ModuleNav/index.ts\n\r\n\r\n/* harmony default export */ var component_ModuleNav = __webpack_exports__["a"] = (component_ModuleNav_ModuleNav);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvTW9kdWxlTmF2L01vZHVsZU5hdkl0ZW0udHN4PzMyNGEiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvTW9kdWxlTmF2L01vZHVsZU5hdkxpc3QudHN4PzU4ZGIiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvTW9kdWxlTmF2L01vZHVsZU5hdi50c3g/NjM0MiIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9Nb2R1bGVOYXYvaW5kZXgudHM/MWY1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnYW50ZCc7XG5cbmltcG9ydCB7IHNob3dDb25maWcsIGZvY3VzTW9kdWxlLCByZW1vdmVNb2R1bGVSZXF1ZXN0LCBwb3NpdGlvbk1vZHVsZVJlcXVlc3QgfSBmcm9tICcuLi8uLi9hY3Rpb25zJztcbmltcG9ydCB7IElTdGF0ZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5cbmludGVyZmFjZSBNb2R1bGVOYXZJdGVtUHJvcHMge1xuICAgIHNob3dDb25maWc/OiBhbnk7XG4gICAgbW9kdWxlRGF0YT86IGFueTtcbiAgICBtb2R1bGVDb25maWc/OiBhbnk7XG4gICAgY3VycmVudERyYWc/OiBudW1iZXI7XG4gICAgZm9jdXNNb2R1bGU6IChtb2R1bGVJZDogbnVtYmVyKSA9PiB2b2lkO1xuICAgIHJlbW92ZU1vZHVsZVJlcXVlc3Q6IChhcmdzOiBhbnkpID0+IHZvaWQ7XG4gICAgb25EcmFnZWRDaGFuZ2U6IChtb2R1bGVJZDogbnVtYmVyIHwgdW5kZWZpbmVkKSA9PiB2b2lkO1xuICAgIHBvc2l0aW9uTW9kdWxlUmVxdWVzdDogKGFyZ3M6IGFueSkgPT4gdm9pZDtcbn1cblxuaW50ZXJmYWNlIE1vZHVsZU5hdkl0ZW1TdGF0ZSB7XG4gICAgaXNEcmFnT3ZlcjogYm9vbGVhbjtcbiAgICBpc1Zpc2libGU6IGJvb2xlYW47XG59XG5cbmNsYXNzIE1vZHVsZU5hdkl0ZW0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8TW9kdWxlTmF2SXRlbVByb3BzLCBNb2R1bGVOYXZJdGVtU3RhdGU+IHtcblxuICAgIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdFxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBNb2R1bGVOYXZJdGVtUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaXNEcmFnT3ZlcjogZmFsc2UsXG4gICAgICAgICAgICBpc1Zpc2libGU6IHRydWUsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wczogTW9kdWxlTmF2SXRlbVByb3BzKSB7XG4gICAgICAgIGlmIChuZXh0UHJvcHMuY3VycmVudERyYWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaXNEcmFnT3ZlcjogZmFsc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRHJhZ1N0YXJ0ID0gKGU6IERyYWdFdmVudCkgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBtb2R1bGVEYXRhOiB7XG4gICAgICAgICAgICAgICAgbW9kdWxlSWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25EcmFnZWRDaGFuZ2UsXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzVmlzaWJsZTogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICBvbkRyYWdlZENoYW5nZShtb2R1bGVJZCk7XG4gICAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ21vZHVsZUlkJywgbW9kdWxlSWQpO1xuICAgIH1cblxuICAgIG9uRHJhZ0VudGVyID0gKGU6IERyYWdFdmVudCkgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBtb2R1bGVEYXRhOiB7XG4gICAgICAgICAgICAgICAgbW9kdWxlSWQsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCB7IGN1cnJlbnREcmFnIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICAgIGlmIChtb2R1bGVJZCAhPT0gY3VycmVudERyYWcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGlzRHJhZ092ZXI6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRHJhZ0xlYXZlID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzRHJhZ092ZXI6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkRyb3AgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldE1vZHVsZUlkOiBudW1iZXIgPSBOdW1iZXIucGFyc2VJbnQoZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgnbW9kdWxlSWQnKSwgMTApO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBtb2R1bGVEYXRhOiB7XG4gICAgICAgICAgICAgICAgbW9kdWxlSWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VycmVudERyYWcsXG4gICAgICAgICAgICBwb3NpdGlvbk1vZHVsZVJlcXVlc3QsXG4gICAgICAgICAgICBvbkRyYWdlZENoYW5nZSxcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHsgcGFnZUlkIH0gPSB0aGlzLmNvbnRleHQuQkFTRV9EQVRBO1xuICAgICAgICAvLyDnp7vliqjoh6rlt7HkuI3nlJ/mlYhcbiAgICAgICAgaWYgKGN1cnJlbnREcmFnID09PSBtb2R1bGVJZCkgeyByZXR1cm47IH1cbiAgICAgICAgcG9zaXRpb25Nb2R1bGVSZXF1ZXN0KHtcbiAgICAgICAgICAgIG1vZHVsZUlkOiB0YXJnZXRNb2R1bGVJZCxcbiAgICAgICAgICAgIHByZU1vZHVsZUlkOiBtb2R1bGVJZCxcbiAgICAgICAgICAgIHBhZ2VJZCxcbiAgICAgICAgfSk7XG4gICAgICAgIG9uRHJhZ2VkQ2hhbmdlKHVuZGVmaW5lZCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIG1vZHVsZURhdGEsXG4gICAgICAgICAgICBtb2R1bGVDb25maWc6IHtcbiAgICAgICAgICAgICAgICBpc1Zpc2lhYmxlOiBpc0NvbmZpZ1Zpc2lhYmxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vZHVsZURhdGE6IHtcbiAgICAgICAgICAgICAgICBtb2R1bGVOYW1lLFxuICAgICAgICAgICAgICAgIG1vZHVsZUlkLFxuICAgICAgICAgICAgICAgIHRlbXBEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2hvd0NvbmZpZyxcbiAgICAgICAgICAgIGZvY3VzTW9kdWxlLFxuICAgICAgICAgICAgcmVtb3ZlTW9kdWxlUmVxdWVzdCxcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAgICAgY29uc3QgeyBpc0RyYWdPdmVyLCBpc1Zpc2libGUgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGNvbnN0IHsgcGFnZUlkIH0gPSB0aGlzLmNvbnRleHQuQkFTRV9EQVRBO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BkLW1vZHVsZS1uYXYtaXRlbSAke2lzQWN0aXZlID8gJ2FjdGl2ZScgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4geyBmb2N1c01vZHVsZShtb2R1bGVJZCk7IGlmIChpc0NvbmZpZ1Zpc2lhYmxlKSB7IHNob3dDb25maWcobW9kdWxlRGF0YSk7IH0gfX1cbiAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9eyhlOiBhbnkpID0+IHsgdGhpcy5vbkRyYWdTdGFydChlKTsgfX1cbiAgICAgICAgICAgICAgICAgICAgb25EcmFnRW50ZXI9eyhlOiBhbnkpID0+IHsgdGhpcy5vbkRyYWdFbnRlcihlKTsgfX1cbiAgICAgICAgICAgICAgICAgICAgb25EcmFnT3Zlcj17KGU6IFJlYWN0LkRyYWdFdmVudCkgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IH19XG4gICAgICAgICAgICAgICAgICAgIG9uRHJvcD17KGU6IGFueSkgPT4geyB0aGlzLm9uRHJvcChlKTsgfX1cbiAgICAgICAgICAgICAgICAgICAgb25EcmFnTGVhdmU9e3RoaXMub25EcmFnTGVhdmV9XG4gICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZT17dHJ1ZX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImQtbW9kdWxlLW5hbWVcIj57bW9kdWxlTmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImQtbW9kdWxlLW9wZXJhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZC1vcGVyYXRlLWljb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJzZXR0aW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4geyBzaG93Q29uZmlnKG1vZHVsZURhdGEpOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZC1vcGVyYXRlLWljb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJkZWxldGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7IHJlbW92ZU1vZHVsZVJlcXVlc3QoeyBtb2R1bGVJZCwgcGFnZUlkIH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAge2lzRHJhZ092ZXIgPyA8ZGl2IGNsYXNzTmFtZT1cImQtcGxhY2Vob2xkZXJcIiAvPiA6IG51bGx9XG4gICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBJU3RhdGUpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtb2R1bGU6IHN0YXRlLm1vZHVsZSxcbiAgICAgICAgbW9kdWxlQ29uZmlnOiBzdGF0ZS5tb2R1bGVDb25maWcsXG4gICAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCB7XG4gICAgc2hvd0NvbmZpZyxcbiAgICBmb2N1c01vZHVsZSxcbiAgICByZW1vdmVNb2R1bGVSZXF1ZXN0LFxuICAgIHBvc2l0aW9uTW9kdWxlUmVxdWVzdCxcbn0pKE1vZHVsZU5hdkl0ZW0pOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSb3csIENvbCwgSWNvbiB9IGZyb20gJ2FudGQnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcblxuaW1wb3J0IE1vZHVsZU5hdkl0ZW0gZnJvbSAnLi9Nb2R1bGVOYXZJdGVtJztcbmltcG9ydCB7IHNob3dDb25maWcsIGZvY3VzTW9kdWxlLCByZW1vdmVNb2R1bGVSZXF1ZXN0IH0gZnJvbSAnLi4vLi4vYWN0aW9ucyc7XG5pbXBvcnQgeyBJU3RhdGUsIElNb2R1bGVEYXRhIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcblxuaW50ZXJmYWNlIE1vZHVsZU5hdkxpc3RQcm9wcyB7XG4gICAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgICBtb2R1bGU6IGFueTtcbn1cblxuaW50ZXJmYWNlIE1vZHVsZU5hdkxpc3RTdGF0ZSB7XG4gICAgY3VycmVudERyYWc/OiBudW1iZXI7XG59XG5cbmNsYXNzIE1vZHVsZU5hdkxpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8TW9kdWxlTmF2TGlzdFByb3BzLCBNb2R1bGVOYXZMaXN0U3RhdGU+IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBNb2R1bGVOYXZMaXN0UHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY3VycmVudERyYWc6IHVuZGVmaW5lZCxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOW9k+WJjeiiq+aLluWKqOeahOWFg+e0oOWPkeeUn+aUueWPmFxuICAgICAqL1xuICAgIG9uRHJhZ2VkQ2hhbmdlID0gKG1vZHVsZUlkOiBudW1iZXIgfCB1bmRlZmluZWQpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjdXJyZW50RHJhZzogbW9kdWxlSWQsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcblxuICAgICAgICBjb25zdCB7IG9uQ2xvc2UsIG1vZHVsZTogeyBtb2R1bGVMaXN0IH0gfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudERyYWcgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1tb2R1bGUtbmF2LWxpc3RcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImQtbW9kYWwtdGl0bGVcIj7mqKHlnZflr7zoiKo8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uIGNsYXNzTmFtZT1cImQtY2xvc2UtaWNvblwiIHR5cGU9XCJjbG9zZVwiIG9uQ2xpY2s9e29uQ2xvc2V9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICB7bW9kdWxlTGlzdC5tYXAoKHY6IElNb2R1bGVEYXRhKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8TW9kdWxlTmF2SXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17di5tb2R1bGVJZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVEYXRhPXt2fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ2VkQ2hhbmdlPXt0aGlzLm9uRHJhZ2VkQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnREcmFnPXtjdXJyZW50RHJhZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogSVN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbW9kdWxlOiBzdGF0ZS5tb2R1bGUsXG4gICAgICAgIG1vZHVsZUNvbmZpZzogc3RhdGUubW9kdWxlQ29uZmlnLFxuICAgIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywge1xuICAgIHNob3dDb25maWcsXG4gICAgZm9jdXNNb2R1bGUsXG4gICAgcmVtb3ZlTW9kdWxlUmVxdWVzdCxcbn0pKE1vZHVsZU5hdkxpc3QpOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEljb24gfSBmcm9tICdhbnRkJztcblxuaW1wb3J0IE1vZHVsZU5hdkxpc3QgZnJvbSAnLi9Nb2R1bGVOYXZMaXN0JztcblxuaW50ZXJmYWNlIE1vZHVsZU5hdlByb3BzIHsgfVxuXG5pbnRlcmZhY2UgTW9kdWxlTmF2U3RhdGUge1xuICAgIGlzQWN0aXZlOiBib29sZWFuO1xufVxuXG5jbGFzcyBNb2R1bGVOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8TW9kdWxlTmF2UHJvcHMsIE1vZHVsZU5hdlN0YXRlPiB7XG4gICAgY29uc3RydWN0b3IocHJvcHM6IE1vZHVsZU5hdlByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBvbkNsb3NlID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb3BlbiA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc0FjdGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcblxuICAgICAgICBjb25zdCB7IGlzQWN0aXZlIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGQtbW9kdWxlLW5hdiAke2lzQWN0aXZlID8gJ2FjdGl2ZScgOiAnJ31gfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtYnRuXCIgb25DbGljaz17dGhpcy50b2dnbGV9PlxuICAgICAgICAgICAgICAgICAgICA8SWNvbiBjbGFzc05hbWU9XCJkLWljb25cIiB0eXBlPVwiYmFyc1wiIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPE1vZHVsZU5hdkxpc3Qgb25DbG9zZT17dGhpcy5vbkNsb3NlfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb2R1bGVOYXY7IiwiaW1wb3J0IE1vZHVsZU5hdiBmcm9tICcuL01vZHVsZU5hdic7XG5pbXBvcnQgJy4vTW9kdWxlTmF2LnNjc3MnO1xuZXhwb3J0IGRlZmF1bHQgTW9kdWxlTmF2OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFtQkE7QUFNQTtBQUNBO0FBZUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMERBO0FBRUE7QUFpQkE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBS0E7QUFPQTtBQUdBOztBQTlIQTtBQUNBO0FBQ0E7QUErSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN2S0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVlBO0FBRUE7QUFDQTtBQU1BOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQVlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN4RUE7QUFDQTtBQUVBO0FBUUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBdkJBO0FBQ0E7QUFDQTtBQUNBO0FBc0JBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFFQTs7Ozs7O0FDdERBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///180\n')},181:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 19 modules\nvar es = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/tooltip/index.js + 5 modules\nvar tooltip = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./src/actions/index.js\nvar actions = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/component/ModuleTag/ModuleTag.tsx\n\r\n\r\n\r\n\r\nclass ModuleTag_ModuleTag extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        const { moduleData, moduleData: { moduleName, }, focusModule, } = this.props;\r\n        let top;\r\n        let isActive;\r\n        let height;\r\n        if (moduleData.tempData) {\r\n            top = moduleData.tempData.top;\r\n            height = moduleData.tempData.height;\r\n            isActive = moduleData.tempData.isActive;\r\n        }\r\n        return (react_default.a.createElement(tooltip["a" /* default */], { title: moduleName, placement: "left" },\r\n            react_default.a.createElement("div", { className: `d-module-tag ${isActive ? \'active\' : \'\'}`, style: { top, maxHeight: isActive ? \'\' : height }, onClick: () => { focusModule(moduleData.moduleId); } }, moduleName)));\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        module: state.module,\r\n    };\r\n};\r\n/* harmony default export */ var component_ModuleTag_ModuleTag = (Object(es["b" /* connect */])(mapStateToProps, { focusModule: actions["r" /* focusModule */] })(ModuleTag_ModuleTag));\r\n\n// EXTERNAL MODULE: ./src/component/ModuleTag/ModuleTag.scss\nvar src_component_ModuleTag_ModuleTag = __webpack_require__(296);\n\n// CONCATENATED MODULE: ./src/component/ModuleTag/index.ts\n\r\n\r\n/* harmony default export */ var component_ModuleTag = (component_ModuleTag_ModuleTag);\r\n\n// CONCATENATED MODULE: ./src/component/ModuleTagList/ModuleTagList.tsx\n\r\n\r\n\r\nclass ModuleTagList_ModuleTagList extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        const { moduleList } = this.props.module;\r\n        return (react_default.a.createElement("div", { className: `d-module-tag-list` }, moduleList.map(v => react_default.a.createElement(component_ModuleTag, { key: v.moduleId, moduleData: v }))));\r\n    }\r\n}\r\nconst ModuleTagList_mapStateToProps = (state) => {\r\n    return { module: state.module };\r\n};\r\n/* harmony default export */ var component_ModuleTagList_ModuleTagList = (Object(es["b" /* connect */])(ModuleTagList_mapStateToProps, {})(ModuleTagList_ModuleTagList));\r\n\n// EXTERNAL MODULE: ./src/component/ModuleTagList/ModuleTagList.scss\nvar src_component_ModuleTagList_ModuleTagList = __webpack_require__(294);\n\n// CONCATENATED MODULE: ./src/component/ModuleTagList/index.ts\n\r\n\r\n/* harmony default export */ var component_ModuleTagList = __webpack_exports__["a"] = (component_ModuleTagList_ModuleTagList);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvTW9kdWxlVGFnL01vZHVsZVRhZy50c3g/ZGJjOSIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9Nb2R1bGVUYWcvaW5kZXgudHM/NDExNiIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9Nb2R1bGVUYWdMaXN0L01vZHVsZVRhZ0xpc3QudHN4P2Q0MjEiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvTW9kdWxlVGFnTGlzdC9pbmRleC50cz9mMzE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJ2FudGQnO1xuXG5pbXBvcnQgeyBmb2N1c01vZHVsZSB9IGZyb20gJy4uLy4uL2FjdGlvbnMnO1xuaW1wb3J0IHsgSU1vZHVsZURhdGEsIElTdGF0ZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5cbmludGVyZmFjZSBNb2R1bGVUYWdQcm9wcyB7XG4gICAgbW9kdWxlRGF0YTogSU1vZHVsZURhdGE7XG4gICAgZm9jdXNNb2R1bGU6IChtb2R1bGVJZDogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgTW9kdWxlVGFnU3RhdGUge1xuXG59XG5cbmNsYXNzIE1vZHVsZVRhZyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxNb2R1bGVUYWdQcm9wcywgTW9kdWxlVGFnU3RhdGU+IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBNb2R1bGVUYWdQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBtb2R1bGVEYXRhLFxuICAgICAgICAgICAgbW9kdWxlRGF0YToge1xuICAgICAgICAgICAgICAgIG1vZHVsZU5hbWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9jdXNNb2R1bGUsXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBsZXQgdG9wO1xuICAgICAgICBsZXQgaXNBY3RpdmU7XG4gICAgICAgIGxldCBoZWlnaHQ7XG4gICAgICAgIGlmIChtb2R1bGVEYXRhLnRlbXBEYXRhKSB7XG4gICAgICAgICAgICB0b3AgPSBtb2R1bGVEYXRhLnRlbXBEYXRhLnRvcDtcbiAgICAgICAgICAgIGhlaWdodCA9IG1vZHVsZURhdGEudGVtcERhdGEuaGVpZ2h0O1xuICAgICAgICAgICAgaXNBY3RpdmUgPSBtb2R1bGVEYXRhLnRlbXBEYXRhLmlzQWN0aXZlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8VG9vbHRpcCB0aXRsZT17bW9kdWxlTmFtZX0gcGxhY2VtZW50PVwibGVmdFwiPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZC1tb2R1bGUtdGFnICR7aXNBY3RpdmUgPyAnYWN0aXZlJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHRvcCwgbWF4SGVpZ2h0OiBpc0FjdGl2ZSA/ICcnIDogaGVpZ2h0IH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgZm9jdXNNb2R1bGUobW9kdWxlRGF0YS5tb2R1bGVJZCk7IH19XG4gICAgICAgICAgICAgICAgPnttb2R1bGVOYW1lfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICApO1xuICAgIH1cblxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGU6IElTdGF0ZSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIG1vZHVsZTogc3RhdGUubW9kdWxlLFxuICAgIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgeyBmb2N1c01vZHVsZSB9KShNb2R1bGVUYWcpOyIsImltcG9ydCBNb2R1bGVUYWcgZnJvbSAnLi9Nb2R1bGVUYWcnO1xuaW1wb3J0ICcuL01vZHVsZVRhZy5zY3NzJztcbmV4cG9ydCBkZWZhdWx0IE1vZHVsZVRhZzsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcblxuaW1wb3J0IE1vZHVsZVRhZyBmcm9tICcuLi9Nb2R1bGVUYWcnO1xuaW1wb3J0IHsgSU1vZHVsZSwgSVN0YXRlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcblxuaW50ZXJmYWNlIE1vZHVsZVRhZ0xpc3RQcm9wcyB7XG4gICAgbW9kdWxlOiBJTW9kdWxlO1xuXG59XG5cbmludGVyZmFjZSBNb2R1bGVUYWdMaXN0U3RhdGUge1xuXG59XG5cbmNsYXNzIE1vZHVsZVRhZ0xpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8TW9kdWxlVGFnTGlzdFByb3BzLCBNb2R1bGVUYWdMaXN0U3RhdGU+IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBNb2R1bGVUYWdMaXN0UHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IG1vZHVsZUxpc3QgfSA9IHRoaXMucHJvcHMubW9kdWxlO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BkLW1vZHVsZS10YWctbGlzdGB9PlxuICAgICAgICAgICAgICAgIHttb2R1bGVMaXN0Lm1hcCh2ID0+IDxNb2R1bGVUYWcga2V5PXt2Lm1vZHVsZUlkfSBtb2R1bGVEYXRhPXt2fSAvPil9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbn1cblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBJU3RhdGUpID0+IHtcbiAgICByZXR1cm4geyBtb2R1bGU6IHN0YXRlLm1vZHVsZSB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIHtcbn0pKE1vZHVsZVRhZ0xpc3QpO1xuIiwiaW1wb3J0IE1vZHVsZVRhZ0xpc3QgZnJvbSAnLi9Nb2R1bGVUYWdMaXN0JztcbmltcG9ydCAnLi9Nb2R1bGVUYWdMaXN0LnNjc3MnO1xuZXhwb3J0IGRlZmF1bHQgTW9kdWxlVGFnTGlzdDsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBWUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUMxREE7QUFDQTtBQUNBOzs7QUNGQTtBQUNBO0FBRUE7QUFZQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FDckNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///181\n')},182:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./src/component/ConfigDialog/ConfigDialog.scss\nvar ConfigDialog_ConfigDialog = __webpack_require__(340);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 19 modules\nvar es = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/icon/index.js\nvar icon = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js + 2 modules\nvar es_button = __webpack_require__(41);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/input/index.js + 5 modules\nvar input = __webpack_require__(429);\n\n// EXTERNAL MODULE: ./node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css\nvar react_draft_wysiwyg = __webpack_require__(338);\n\n// CONCATENATED MODULE: ./src/component/UserDefineConfig/UserDefineConfig.tsx\n\r\n\r\n\r\n\r\nconst { TextArea } = input["a" /* default */];\r\nclass UserDefineConfig_UserDefineConfig extends react["Component"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.getConfigData = () => ({ code: this.state.code });\r\n        let code;\r\n        if (props.moduleData.configData) {\r\n            code = props.moduleData.configData.code;\r\n        }\r\n        else {\r\n            code = \'\';\r\n        }\r\n        this.state = {\r\n            code,\r\n        };\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        let newCode;\r\n        if (nextProps.moduleData.configData) {\r\n            newCode = nextProps.moduleData.configData.code;\r\n        }\r\n        else {\r\n            newCode = \'\';\r\n        }\r\n        this.setState({\r\n            code: newCode,\r\n        });\r\n    }\r\n    toModuleData(configData) {\r\n        const { moduleConfig } = this.props;\r\n        const result = Object.assign({}, moduleConfig.moduleData, {\r\n            data: configData,\r\n        });\r\n        return result;\r\n    }\r\n    render() {\r\n        return (react["createElement"]("div", null,\r\n            react["createElement"](TextArea, { placeholder: "\\u5728\\u6B64\\u8F93\\u5165\\u4EE3\\u7801", value: this.state.code, onChange: (e) => { this.setState({ code: e.target.value }); } })));\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    moduleConfig: state.moduleConfig,\r\n    module: state.module,\r\n});\r\n/* harmony default export */ var component_UserDefineConfig_UserDefineConfig = (Object(es["b" /* connect */])(mapStateToProps, {}, undefined, { withRef: true })(UserDefineConfig_UserDefineConfig));\r\n\n// CONCATENATED MODULE: ./src/component/UserDefineConfig/index.ts\n\r\n/* harmony default export */ var component_UserDefineConfig = (component_UserDefineConfig_UserDefineConfig);\r\n\n// EXTERNAL MODULE: ./src/actions/index.js\nvar actions = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/col/index.js\nvar col = __webpack_require__(438);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/index.js + 7 modules\nvar modal = __webpack_require__(430);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/row/index.js\nvar row = __webpack_require__(437);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/upload/index.js + 19 modules\nvar upload = __webpack_require__(432);\n\n// EXTERNAL MODULE: ./src/common/script/INTERFACE.ts\nvar INTERFACE = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(11);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/component/PicLib/PicLibModal.tsx\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nconst Search = input["a" /* default */].Search;\r\n\r\n\r\nconst uploadProps = {\r\n    name: \'file\',\r\n    action: INTERFACE["a" /* default */].uploadImage,\r\n    headers: {\r\n        authorization: \'authorization-text\',\r\n    },\r\n    showUploadList: false,\r\n};\r\nclass PicLibModal_PicLibModal extends react["Component"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.refreshImageList = () => __awaiter(this, void 0, void 0, function* () {\r\n            const { defaultValue } = this.props;\r\n            const result = (yield axios_default()(INTERFACE["a" /* default */].getImageList)).data;\r\n            if (result.success === true) {\r\n                const imgList = result.data.map((v) => {\r\n                    const { name, url, } = v;\r\n                    let isActive = false;\r\n                    if (url === defaultValue) {\r\n                        isActive = true;\r\n                    }\r\n                    return { name, url, isActive };\r\n                });\r\n                this.setState({\r\n                    imgList,\r\n                });\r\n            }\r\n        });\r\n        this.renderTitle = () => (react["createElement"](react["Fragment"], null,\r\n            react["createElement"]("span", { className: "d-title" }, "\\u56FE\\u7247\\u9009\\u62E9\\u5668"),\r\n            react["createElement"]("span", { className: "d-desc" }, "(\\u652F\\u6301\\u683C\\u5F0F\\u4E3Axxx)")));\r\n        this.handleOk = () => {\r\n            const activeList = this.state.imgList.filter((v) => {\r\n                return v.isActive;\r\n            });\r\n            let result = \'\';\r\n            if (activeList && activeList[0]) {\r\n                result = activeList[0].url;\r\n            }\r\n            this.props.onOk(result);\r\n        };\r\n        this.handleCancel = () => {\r\n            this.props.onCancel();\r\n        };\r\n        this.selectImg = (url) => {\r\n            const imgList = this.state.imgList.map((v) => {\r\n                if (v.url === url) {\r\n                    v.isActive = true;\r\n                }\r\n                else {\r\n                    v.isActive = false;\r\n                }\r\n                return v;\r\n            });\r\n            this.setState({\r\n                imgList,\r\n            });\r\n        };\r\n        this.renderImgList = () => {\r\n            const { imgList } = this.state;\r\n            return imgList.map((v, i) => (react["createElement"](col["a" /* default */], { span: 3, key: i },\r\n                react["createElement"]("div", { className: `d-img-container ${v.isActive ? \'active\' : \'\'}`, onDoubleClick: this.handleOk, onClick: () => { this.selectImg(v.url); } },\r\n                    react["createElement"]("div", { className: "d-image", style: { backgroundImage: `url(${v.url})` } }),\r\n                    react["createElement"]("p", { className: "d-image-name", title: v.name }, v.name),\r\n                    react["createElement"]("div", { className: "d-img-mask" })))));\r\n        };\r\n        this.uploadChange = (e) => {\r\n            if (e.event) {\r\n                setTimeout(() => {\r\n                    this.refreshImageList();\r\n                }, 1000);\r\n            }\r\n        };\r\n        this.state = {\r\n            imgList: [],\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.refreshImageList();\r\n    }\r\n    render() {\r\n        const { isModalVisible: visible } = this.props;\r\n        return (react["createElement"](modal["a" /* default */], { className: "d-pic-lib-modal", visible: visible, title: this.renderTitle(), width: 1100, onOk: this.handleOk, onCancel: this.handleCancel },\r\n            react["createElement"]("div", { className: "d-content" },\r\n                react["createElement"](row["a" /* default */], null,\r\n                    react["createElement"](col["a" /* default */], { span: 4 },\r\n                        react["createElement"](Search, { placeholder: "\\u8F93\\u5165\\u56FE\\u7247\\u540D\\u79F0\\u6216\\u5173\\u952E\\u5B57" })),\r\n                    react["createElement"](col["a" /* default */], { span: 2, offset: 18 },\r\n                        react["createElement"](upload["a" /* default */], Object.assign({}, uploadProps, { onChange: this.uploadChange }),\r\n                            react["createElement"](es_button["a" /* default */], { className: "d-upload-img", type: "primary" }, "\\u4E0A\\u4F20\\u56FE\\u7247")))),\r\n                react["createElement"](row["a" /* default */], { style: { marginTop: \'10px\' } }, this.renderImgList()))));\r\n    }\r\n}\r\n/* harmony default export */ var PicLib_PicLibModal = (PicLibModal_PicLibModal);\r\n\n// CONCATENATED MODULE: ./src/component/PicLib/PicLib.tsx\n\r\n\r\nconst InputGroup = input["a" /* default */].Group;\r\n\r\nclass PicLib_PicLib extends react["Component"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.open = () => {\r\n            this.setState({\r\n                isModalVisible: true,\r\n            });\r\n        };\r\n        this.handleChange = (url) => {\r\n            this.setState({\r\n                value: url,\r\n                isModalVisible: false,\r\n            });\r\n            if (this.props.onChange !== undefined) {\r\n                this.props.onChange(url);\r\n            }\r\n        };\r\n        this.closeModal = () => {\r\n            this.setState({\r\n                isModalVisible: false,\r\n            });\r\n        };\r\n        this.renderModal = (isModalVisible) => {\r\n            const { value: defaultValue } = this.state;\r\n            return (isModalVisible ?\r\n                react["createElement"](PicLib_PicLibModal, { defaultValue: defaultValue, isModalVisible: isModalVisible, onOk: (url) => { this.handleChange(url); }, onCancel: this.closeModal }) : null);\r\n        };\r\n        const { defaultValue: value } = props;\r\n        this.state = {\r\n            isModalVisible: false,\r\n            value,\r\n        };\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        const { value } = nextProps;\r\n        this.setState({\r\n            value,\r\n        });\r\n    }\r\n    render() {\r\n        const { defaultValue, onUp, onDown, onRemove } = this.props;\r\n        const { isModalVisible, value } = this.state;\r\n        const shouldPosition = onUp && onDown;\r\n        const shouldRemove = !!onRemove;\r\n        return (react["createElement"](InputGroup, { compact: true, className: "d-pic-lib" },\r\n            shouldPosition &&\r\n                react["createElement"]("div", { style: { width: \'8%\' }, className: "d-item d-position" },\r\n                    react["createElement"](icon["a" /* default */], { className: "d-icon-up", type: "caret-up", onClick: onUp }),\r\n                    react["createElement"](icon["a" /* default */], { className: "d-icon-down", type: "caret-down", onClick: onDown })),\r\n            react["createElement"](es_button["a" /* default */], { className: "d-item d-piclib-text", onClick: this.open, style: { width: \'25%\' } },\r\n                react["createElement"](icon["a" /* default */], { type: "picture" }),\r\n                "\\u56FE\\u7247\\u5E93"),\r\n            react["createElement"](input["a" /* default */], { className: "d-item", placeholder: "\\u8F93\\u5165\\u56FE\\u7247\\u8DEF\\u5F84\\u6216\\u4ECE\\u56FE\\u7247\\u5E93\\u4E2D\\u9009\\u62E9", value: value, onChange: (e) => { this.handleChange(e.target.value); }, defaultValue: defaultValue, style: { width: \'58%\', fontSize: \'13px\' } }),\r\n            shouldRemove &&\r\n                react["createElement"](es_button["a" /* default */], { className: "d-item d-delete", style: { width: \'8%\' }, onClick: onRemove },\r\n                    react["createElement"](icon["a" /* default */], { type: "delete" })),\r\n            this.renderModal(isModalVisible)));\r\n    }\r\n}\r\n/* harmony default export */ var component_PicLib_PicLib = (PicLib_PicLib);\r\n\n// EXTERNAL MODULE: ./src/component/PicLib/PicLib.scss\nvar src_component_PicLib_PicLib = __webpack_require__(323);\n\n// EXTERNAL MODULE: ./src/component/PicLib/PicLibModal.scss\nvar component_PicLib_PicLibModal = __webpack_require__(321);\n\n// CONCATENATED MODULE: ./src/component/PicLib/index.ts\n\r\n\r\n\r\n/* harmony default export */ var component_PicLib = (component_PicLib_PicLib);\r\n\n// CONCATENATED MODULE: ./src/component/ImageGroup/ImageGroup.tsx\n\r\n\r\nclass ImageGroup_ImageGroup extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.imageChange = (index, url) => {\r\n            let imgs = [];\r\n            const { imgs: currentImgs } = this.props;\r\n            if (currentImgs !== undefined && index < currentImgs.length) {\r\n                imgs = currentImgs.map((v, i) => {\r\n                    if (index === i) {\r\n                        v.url = url;\r\n                    }\r\n                    return v;\r\n                }).filter(v => v.url !== \'\');\r\n            }\r\n            else { // 新增项\r\n                imgs = (currentImgs || []).concat([{ url }]);\r\n            }\r\n            this.props.onChange(imgs);\r\n        };\r\n        this.moveItem = (preIndex, curIndex) => {\r\n            let result;\r\n            let tempImgs = this.props.imgs.slice(0); // 深拷贝\r\n            let target = tempImgs.splice(curIndex, 1);\r\n            // 移到最前面\r\n            if (preIndex < 0) {\r\n                result = target.concat(tempImgs);\r\n            }\r\n            else {\r\n                tempImgs.splice(preIndex, 0, target[0]);\r\n                result = tempImgs;\r\n            }\r\n            this.props.onChange(result);\r\n        };\r\n        this.upItem = (index) => {\r\n            this.moveItem(index - 1, index);\r\n        };\r\n        this.downItem = (index) => {\r\n            this.moveItem(index + 1, index);\r\n        };\r\n        this.removeItem = (index) => {\r\n            const { imgs: currentImgs } = this.props;\r\n            const imgs = currentImgs.filter((v, i) => i !== index);\r\n            this.props.onChange(imgs);\r\n        };\r\n        this.renderImgs = (imgs) => {\r\n            const imgItem = (index, imgInfo) => (react_default.a.createElement(component_PicLib, { key: index, defaultValue: imgInfo.url, value: imgInfo.url, onChange: (url) => { this.imageChange(index, url); }, onUp: () => { this.upItem(index); }, onDown: () => { this.downItem(index); }, onRemove: () => { this.removeItem(index); } }));\r\n            return (react_default.a.createElement(react_default.a.Fragment, null,\r\n                imgs.map((v, i) => imgItem(i, v)),\r\n                imgItem(imgs.length, { url: \'\' })));\r\n        };\r\n    }\r\n    render() {\r\n        const { imgs } = this.props;\r\n        return (react_default.a.createElement("div", { className: "d-image-group" }, this.renderImgs(imgs)));\r\n    }\r\n}\r\n/* harmony default export */ var component_ImageGroup_ImageGroup = (ImageGroup_ImageGroup);\r\n\n// EXTERNAL MODULE: ./src/component/ImageGroup/ImageGroup.scss\nvar src_component_ImageGroup_ImageGroup = __webpack_require__(319);\n\n// CONCATENATED MODULE: ./src/component/ImageGroup/index.ts\n\r\n\r\n/* harmony default export */ var component_ImageGroup = (component_ImageGroup_ImageGroup);\r\n\n// EXTERNAL MODULE: ./node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__(428);\n\n// EXTERNAL MODULE: ./node_modules/rc-util/lib/Dom/addEventListener.js\nvar addEventListener = __webpack_require__(138);\nvar addEventListener_default = /*#__PURE__*/__webpack_require__.n(addEventListener);\n\n// CONCATENATED MODULE: ./src/component/Hotspot/HotspotLink.tsx\n\r\n\r\nconst HotspotLink_InputGroup = input["a" /* default */].Group;\r\nclass HotspotLink_HotspotLink extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleChange = (e) => {\r\n            this.props.onChange(e.target.value);\r\n        };\r\n    }\r\n    render() {\r\n        const { value, index, onRemove, } = this.props;\r\n        return (react_default.a.createElement(HotspotLink_InputGroup, { compact: true, className: "d-hotspot-link" },\r\n            react_default.a.createElement(input["a" /* default */], { className: "d-item", placeholder: `输入热区${index + 1}的链接地址`, value: value, onChange: this.handleChange, style: { width: \'90%\', fontSize: \'13px\' } }),\r\n            react_default.a.createElement(es_button["a" /* default */], { className: "d-item d-delete", style: { width: \'10%\' }, onClick: onRemove },\r\n                react_default.a.createElement(icon["a" /* default */], { type: "delete" }))));\r\n    }\r\n}\r\n/* harmony default export */ var Hotspot_HotspotLink = (HotspotLink_HotspotLink);\r\n\n// CONCATENATED MODULE: ./src/component/Hotspot/Area.tsx\n\r\n\r\nclass Area_Area extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleMouseDown = (e) => {\r\n            const { nativeEvent: { offsetX: movingOffsetX, offsetY: movingOffsetY, }, } = e;\r\n            this.setState({\r\n                isMoving: true,\r\n                movingOffsetX,\r\n                movingOffsetY,\r\n            });\r\n        };\r\n        this.handleMouseUp = () => {\r\n            this.setState({\r\n                isMoving: false,\r\n                movingOffsetX: 0,\r\n                movingOffsetY: 0,\r\n            });\r\n        };\r\n        this.handleMouseMove = (e) => {\r\n            const { isMoving, movingOffsetX, movingOffsetY } = this.state;\r\n            if (isMoving) {\r\n                const { index, onChange, x, y, w, h } = this.props;\r\n                const { nativeEvent: { offsetX, offsetY, }, } = e;\r\n                const currentX = x + offsetX - movingOffsetX;\r\n                const currentY = y + offsetY - movingOffsetY;\r\n                onChange(index, Object.assign({}, { x, y, w, h }, { x: currentX, y: currentY }));\r\n            }\r\n        };\r\n        let { x, y, w, h } = props;\r\n        x = x || 0;\r\n        y = y || 0;\r\n        w = w || 0;\r\n        h = h || 0;\r\n        this.state = {\r\n            isMoving: false,\r\n            initX: x,\r\n            initY: y,\r\n            initW: w,\r\n            initH: h,\r\n            movingOffsetX: 0,\r\n            movingOffsetY: 0,\r\n        };\r\n    }\r\n    render() {\r\n        const { x, y, w, h, index, onRemove } = this.props;\r\n        return (react_default.a.createElement("div", { className: "d-area", draggable: false, \r\n            // ref={this.areaRef}\r\n            style: { left: `${x}px`, top: `${y}px`, width: `${w}px`, height: `${h}px` }, onMouseDown: this.handleMouseDown, onMouseUp: this.handleMouseUp, onMouseMove: this.handleMouseMove },\r\n            react_default.a.createElement("div", { className: "d-icon-delete", onClick: () => { onRemove(index); } },\r\n                react_default.a.createElement(icon["a" /* default */], { type: "delete" })),\r\n            react_default.a.createElement("p", { className: "d-name" },\r\n                "\\u70ED\\u533A",\r\n                index + 1)));\r\n    }\r\n}\r\n/* harmony default export */ var Hotspot_Area = (Area_Area);\r\n\n// CONCATENATED MODULE: ./src/component/Hotspot/HotspotModal.tsx\n\r\n\r\n/// <reference path="../OuterComponent.d.ts" />\r\n\r\n\r\n\r\nclass HotspotModal_HotspotModal extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.imgContainer = react_default.a.createRef();\r\n        this.handleStartDraw = (e) => {\r\n            const { areas: currentAreas } = this.state;\r\n            let areas = currentAreas.slice(0);\r\n            const target = e.target;\r\n            const { offsetTop, offsetLeft } = target;\r\n            let { nativeEvent: { offsetX, offsetY, }, } = e;\r\n            offsetX += offsetLeft;\r\n            offsetY += offsetTop;\r\n            areas.push({\r\n                x: offsetX,\r\n                y: offsetY,\r\n                w: 0,\r\n                h: 0,\r\n            });\r\n            this.setState({\r\n                areas,\r\n                currentAreaIndex: areas.length - 1,\r\n            });\r\n        };\r\n        this.handleEndDraw = () => {\r\n            const { hotspots: currentHotspots, areas, } = this.state;\r\n            const hotspots = areas.map((v, i) => {\r\n                let result;\r\n                if (currentHotspots[i]) {\r\n                    result = currentHotspots[i];\r\n                    result.area = v;\r\n                }\r\n                else { // 新热区\r\n                    if (this.isAreaLegal(v)) {\r\n                        result = {\r\n                            area: v,\r\n                            url: \'\',\r\n                        };\r\n                    }\r\n                    else {\r\n                        result = null;\r\n                    }\r\n                }\r\n                return result;\r\n            }).filter(v => v);\r\n            this.setState({\r\n                currentAreaIndex: -1,\r\n                hotspots,\r\n                areas: this.hotspotsToAreas(hotspots),\r\n            });\r\n        };\r\n        this.handleDrag = (e) => {\r\n            const { currentAreaIndex, areas: currentAreas, } = this.state;\r\n            if (currentAreaIndex === -1) {\r\n                return;\r\n            } // 鼠标没有按下\r\n            const target = e.target;\r\n            // if (target.tagName.toLocaleLowerCase() !== \'img\' && !target.className.includes(\'d-area\')) { return; }\r\n            const { offsetTop, offsetLeft } = target;\r\n            let { nativeEvent: { offsetX, offsetY, }, } = e;\r\n            offsetX += offsetLeft;\r\n            offsetY += offsetTop;\r\n            let area = currentAreas[currentAreaIndex];\r\n            let { x: originX, y: originY, } = area;\r\n            originX = originX || 0;\r\n            originY = originY || 0;\r\n            this.hotSpotChange(currentAreaIndex, Object.assign({}, area, {\r\n                w: offsetX - originX,\r\n                h: offsetY - originY,\r\n            }));\r\n        };\r\n        /**\r\n         * 热区变更处理\r\n         * @param index 热区序号\r\n         * @param area 热区参数变更信息\r\n         */\r\n        this.hotSpotChange = (index, area) => {\r\n            const { areas: currentAreas, } = this.state;\r\n            const areas = currentAreas.slice(0);\r\n            areas[index] = area;\r\n            this.setState({\r\n                areas,\r\n            });\r\n        };\r\n        this.hotspotsToAreas = (hotspots) => {\r\n            return hotspots.map(v => v.area || {});\r\n        };\r\n        this.renderImgs = (imgs) => {\r\n            const renderImg = (v, i) => {\r\n                return (react_default.a.createElement("img", { key: i, src: v.url, draggable: false, onMouseDown: this.handleStartDraw, onDragStart: (e) => { e.stopPropagation(); } }));\r\n            };\r\n            return (react_default.a.createElement(react_default.a.Fragment, null, imgs.map(renderImg)));\r\n        };\r\n        this.linkChange = (index, url) => {\r\n            const { hotspots: currentHotspots } = this.state;\r\n            let hotspots;\r\n            if (currentHotspots !== undefined && index < currentHotspots.length) {\r\n                hotspots = currentHotspots.map((v, i) => {\r\n                    if (index === i) {\r\n                        v.url = url;\r\n                    }\r\n                    return v;\r\n                });\r\n            }\r\n            else { // 新增项\r\n                hotspots = (currentHotspots || []).concat([{ url }]);\r\n            }\r\n            this.setState({\r\n                hotspots,\r\n            });\r\n        };\r\n        this.linkRemove = (index) => {\r\n            const { hotspots: currentHotspots } = this.state;\r\n            const hotspots = currentHotspots.filter((v, i) => i !== index);\r\n            this.setState({\r\n                hotspots,\r\n                areas: this.hotspotsToAreas(hotspots),\r\n            });\r\n        };\r\n        this.linkUp = (index) => {\r\n            this.moveLink(index - 1, index);\r\n        };\r\n        this.linkDown = (index) => {\r\n            this.moveLink(index + 1, index);\r\n        };\r\n        this.moveLink = (preIndex, curIndex) => {\r\n            let hotspots;\r\n            let temp = this.props.imgs.slice(0); // 深拷贝\r\n            let target = temp.splice(curIndex, 1);\r\n            // 移到最前面\r\n            if (preIndex < 0) {\r\n                hotspots = target.concat(temp);\r\n            }\r\n            else {\r\n                temp.splice(preIndex, 0, target[0]);\r\n                hotspots = temp;\r\n            }\r\n            this.setState({\r\n                hotspots,\r\n            });\r\n        };\r\n        this.renderHotspots = (hotspots) => {\r\n            const renderItem = (v, i) => {\r\n                return (react_default.a.createElement(Hotspot_HotspotLink, { key: i, index: i, value: v.url, onChange: (value) => { this.linkChange(i, value); }, onRemove: () => { this.linkRemove(i); } }));\r\n            };\r\n            return (react_default.a.createElement(react_default.a.Fragment, null, hotspots.map(renderItem)));\r\n        };\r\n        this.renderAreas = (areas) => {\r\n            const renderArea = (v, i) => {\r\n                let { x = 0, y = 0, w = 0, h = 0, } = v;\r\n                return (react_default.a.createElement(Hotspot_Area, { key: i, index: i, onRemove: this.linkRemove, onChange: this.hotSpotChange, x: x, y: y, w: w, h: h }));\r\n            };\r\n            return (react_default.a.createElement(react_default.a.Fragment, null, areas.map(renderArea)));\r\n        };\r\n        this.isHotspotsLegal = (hotspots) => {\r\n            const result = hotspots.reduce((acc, v, i) => {\r\n                if (acc !== undefined) {\r\n                    return acc;\r\n                }\r\n                if (v.url === \'\') {\r\n                    return i;\r\n                }\r\n            }, undefined);\r\n            if (result === undefined) {\r\n                return true;\r\n            }\r\n            else {\r\n                message["a" /* default */].error(`您还没有配置热区${result + 1}的链接`);\r\n                return false;\r\n            }\r\n        };\r\n        this.numberToPercent = (hotspots) => {\r\n            return hotspots.map(({ area = {}, url }) => {\r\n                const result = {\r\n                    url,\r\n                    area: {\r\n                        x: transform(area.x || 0),\r\n                        y: transform(area.y || 0),\r\n                        w: transform(area.w || 0),\r\n                        h: transform(area.h || 0),\r\n                    }\r\n                };\r\n                return result;\r\n            });\r\n            function transform(px) {\r\n                return Number.parseFloat((px / 750).toFixed(3));\r\n            }\r\n        };\r\n        this.handleOk = () => {\r\n            const { hotspots } = this.state;\r\n            if (this.isHotspotsLegal(hotspots)) {\r\n                // const result = this.numberToPercent(hotspots)\r\n                this.props.onOk(hotspots);\r\n            }\r\n        };\r\n        this.handleCancel = () => {\r\n            this.props.onCancel();\r\n        };\r\n        let { hotspots } = this.props;\r\n        if (!hotspots) {\r\n            hotspots = [];\r\n        }\r\n        // const {\r\n        //     offsetLeft: offsetX,\r\n        //     offsetTop: offsetY,\r\n        // } = this.imgContainer;\r\n        this.state = {\r\n            hotspots,\r\n            areas: this.hotspotsToAreas(hotspots),\r\n            currentAreaIndex: -1,\r\n        };\r\n        this.dragEvent = addEventListener_default()(document, \'mousemove\', this.handleDrag);\r\n        this.dropEvent = addEventListener_default()(document, \'mouseup\', this.handleEndDraw);\r\n    }\r\n    componentWillUnmount() {\r\n        this.dragEvent.remove();\r\n        this.dropEvent.remove();\r\n    }\r\n    isAreaLegal(area) {\r\n        const { x, y, w, h } = area;\r\n        if (w === undefined || w < 50 || h === undefined || h < 50) {\r\n            message["a" /* default */].error(\'热区大小必须大于50*50px\');\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    render() {\r\n        let { isModalVisible: visible, imgs, } = this.props;\r\n        const { areas, hotspots } = this.state;\r\n        return (react_default.a.createElement(modal["a" /* default */], { className: "d-hotspot-modal", visible: visible, title: react_default.a.createElement("span", { className: "d-title" }, "\\u56FE\\u7247\\u70ED\\u533A"), width: "70%", onOk: this.handleOk, onCancel: this.handleCancel },\r\n            react_default.a.createElement("div", { className: "d-content" },\r\n                react_default.a.createElement("div", { className: "d-imgs-container", draggable: false },\r\n                    react_default.a.createElement("div", { className: "d-imgs-wrap", draggable: false, ref: this.imgContainer },\r\n                        this.renderImgs(imgs),\r\n                        this.renderAreas(areas))),\r\n                react_default.a.createElement("div", { className: "d-hotspots-container" }, this.renderHotspots(hotspots)))));\r\n    }\r\n}\r\n/* harmony default export */ var Hotspot_HotspotModal = (HotspotModal_HotspotModal);\r\n\n// CONCATENATED MODULE: ./src/component/Hotspot/Hotspot.tsx\n\r\n\r\n\r\nclass Hotspot_Hotspot extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.closeModal = () => {\r\n            this.setState({\r\n                isModalVisible: false,\r\n            });\r\n        };\r\n        this.renderModal = (isModalVisible) => {\r\n            let { imgs, hotspots, onChange } = this.props;\r\n            hotspots = hotspots || [];\r\n            return (isModalVisible ?\r\n                react_default.a.createElement(Hotspot_HotspotModal, { imgs: imgs, isModalVisible: isModalVisible, hotspots: hotspots, onCancel: this.closeModal, onOk: (hotspots) => { onChange(hotspots); this.closeModal(); } }) : null);\r\n        };\r\n        this.openModal = () => {\r\n            this.setState({\r\n                isModalVisible: true,\r\n            });\r\n        };\r\n        this.state = {\r\n            isModalVisible: false,\r\n        };\r\n    }\r\n    render() {\r\n        const { isModalVisible } = this.state;\r\n        return (react_default.a.createElement("div", null,\r\n            react_default.a.createElement(es_button["a" /* default */], { className: "d-btn", onClick: this.openModal }, "\\u56FE\\u7247\\u70ED\\u533A"),\r\n            this.renderModal(isModalVisible)));\r\n    }\r\n}\r\n/* harmony default export */ var component_Hotspot_Hotspot = (Hotspot_Hotspot);\r\n\n// EXTERNAL MODULE: ./src/component/Hotspot/Hotspot.scss\nvar src_component_Hotspot_Hotspot = __webpack_require__(317);\n\n// EXTERNAL MODULE: ./src/component/Hotspot/HotspotModal.scss\nvar component_Hotspot_HotspotModal = __webpack_require__(315);\n\n// EXTERNAL MODULE: ./src/component/Hotspot/Area.scss\nvar component_Hotspot_Area = __webpack_require__(313);\n\n// CONCATENATED MODULE: ./src/component/Hotspot/index.ts\n\r\n\r\n\r\n\r\n/* harmony default export */ var component_Hotspot = (component_Hotspot_Hotspot);\r\n\n// CONCATENATED MODULE: ./src/component/ImageHotspotConfig/ImageHotspotConfig.tsx\n\r\n\r\n\r\n\r\n\r\nconst ImageHotspotConfig_mapStateToProps = (state) => {\r\n    return {\r\n        moduleConfig: state.moduleConfig,\r\n    };\r\n};\r\nclass ImageHotspotConfig_ImageHotspotConfig extends react["Component"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.imageChange = (imgs) => {\r\n            this.setState({\r\n                imgs,\r\n            });\r\n        };\r\n        this.hotspotsChange = (hotspots) => {\r\n            this.setState({\r\n                hotspots,\r\n            });\r\n        };\r\n        const { imgs, hotspots } = this.getDataFromProps(props);\r\n        this.state = {\r\n            imgs,\r\n            hotspots,\r\n        };\r\n    }\r\n    getDataFromProps(props) {\r\n        let imgs;\r\n        let hotspots;\r\n        if (props.moduleData.configData === undefined) {\r\n            hotspots = [];\r\n            imgs = [];\r\n        }\r\n        else {\r\n            const configData = props.moduleData.configData;\r\n            imgs = configData ? configData.imgs || [] : [];\r\n            hotspots = configData ? configData.hotspots || [] : [];\r\n        }\r\n        return {\r\n            imgs,\r\n            hotspots,\r\n        };\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        const { imgs, hotspots } = this.getDataFromProps(nextProps);\r\n        this.setState({\r\n            imgs,\r\n            hotspots,\r\n        });\r\n    }\r\n    getConfigData() {\r\n        return {\r\n            imgs: this.state.imgs,\r\n            hotspots: this.state.hotspots,\r\n        };\r\n    }\r\n    toModuleData(configData) {\r\n        const { moduleConfig } = this.props;\r\n        const result = Object.assign({}, moduleConfig.moduleData, {\r\n            data: configData,\r\n        });\r\n        return result;\r\n    }\r\n    render() {\r\n        let { imgs, hotspots } = this.state;\r\n        if (imgs === undefined) {\r\n            imgs = [];\r\n        }\r\n        return (react["createElement"]("div", null,\r\n            react["createElement"]("p", { className: "d-title" }, "\\u56FE\\u7247\\u9009\\u62E9"),\r\n            react["createElement"](component_ImageGroup, { imgs: imgs, onChange: (imgs) => { this.imageChange(imgs); } }),\r\n            react["createElement"]("p", { className: "d-title" }, "\\u70ED\\u533A\\u914D\\u7F6E"),\r\n            react["createElement"](component_Hotspot, { imgs: imgs, hotspots: hotspots, onChange: this.hotspotsChange })));\r\n    }\r\n}\r\n/* harmony default export */ var component_ImageHotspotConfig_ImageHotspotConfig = (Object(es["b" /* connect */])(ImageHotspotConfig_mapStateToProps, {}, undefined, { withRef: true })(ImageHotspotConfig_ImageHotspotConfig));\r\n\n// EXTERNAL MODULE: ./src/component/ImageHotspotConfig/ImageHotspotConfig.scss\nvar src_component_ImageHotspotConfig_ImageHotspotConfig = __webpack_require__(311);\n\n// CONCATENATED MODULE: ./src/component/ImageHotspotConfig/index.ts\n\r\n\r\n/* harmony default export */ var component_ImageHotspotConfig = (component_ImageHotspotConfig_ImageHotspotConfig);\r\n\n// EXTERNAL MODULE: ./node_modules/antd/es/slider/index.js + 8 modules\nvar slider = __webpack_require__(431);\n\n// CONCATENATED MODULE: ./src/component/TextConfig/TextConfig.tsx\n\r\n\r\n\r\n// import ColorPicker from \'rc-color-picker\';\r\nconst { TextArea: TextConfig_TextArea } = input["a" /* default */];\r\nclass TextConfig_TextConfig extends react["Component"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.getConfigData = () => this.state;\r\n        let { text, fontSize, fontWeight, color } = props.moduleData.configData;\r\n        this.state = {\r\n            text,\r\n            fontSize,\r\n            fontWeight,\r\n            color,\r\n        };\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        let { text, fontSize, fontWeight, color } = nextProps.moduleData.configData;\r\n        this.setState({\r\n            text,\r\n            fontSize,\r\n            fontWeight,\r\n            color,\r\n        });\r\n    }\r\n    toModuleData(configData) {\r\n        const { moduleConfig } = this.props;\r\n        const result = Object.assign({}, moduleConfig.moduleData, {\r\n            data: configData,\r\n        });\r\n        return result;\r\n    }\r\n    render() {\r\n        return (react["createElement"]("div", null,\r\n            react["createElement"]("p", { className: "d-title" }, "\\u5B57\\u4F53\\u5927\\u5C0F"),\r\n            react["createElement"](slider["a" /* default */], { min: 12, max: 40, defaultValue: 14, value: this.state.fontSize, range: false, onChange: (fontSize) => { this.setState({ fontSize }); } }),\r\n            react["createElement"]("p", { className: "d-title" }, "\\u5B57\\u4F53\\u7C97\\u7EC6"),\r\n            react["createElement"](slider["a" /* default */], { min: 100, max: 900, defaultValue: 400, value: this.state.fontWeight, onChange: (fontWeight) => { this.setState({ fontWeight }); } }),\r\n            react["createElement"]("p", { className: "d-title" }, "\\u6587\\u672C\\u5185\\u5BB9"),\r\n            react["createElement"](TextConfig_TextArea, { placeholder: "\\u8BF7\\u8F93\\u5165\\u6587\\u672C\\u5185\\u5BB9", value: this.state.text, autosize: true, onChange: (e) => { this.setState({ text: e.target.value }); } })));\r\n    }\r\n}\r\nconst TextConfig_mapStateToProps = (state) => {\r\n    return {\r\n        moduleConfig: state.moduleConfig,\r\n    };\r\n};\r\n/* harmony default export */ var component_TextConfig_TextConfig = (Object(es["b" /* connect */])(TextConfig_mapStateToProps, {}, undefined, { withRef: true })(TextConfig_TextConfig));\r\n\n// EXTERNAL MODULE: ./src/component/TextConfig/TextConfig.scss\nvar src_component_TextConfig_TextConfig = __webpack_require__(309);\n\n// CONCATENATED MODULE: ./src/component/TextConfig/index.ts\n\r\n\r\n/* harmony default export */ var component_TextConfig = (component_TextConfig_TextConfig);\r\n\n// CONCATENATED MODULE: ./src/component/CarouselConfig/CarouselConfig.tsx\n\r\n\r\n\r\nclass CarouselConfig_CarouselConfig extends react["Component"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.imageChange = (imgs) => {\r\n            this.setState({\r\n                imgs,\r\n            });\r\n        };\r\n        const imgs = this.props.moduleConfig.moduleData.data.imgs;\r\n        this.state = {\r\n            imgs,\r\n        };\r\n    }\r\n    getConfigData() {\r\n        return {\r\n            imgs: this.state.imgs,\r\n        };\r\n    }\r\n    toModuleData(configData) {\r\n        const { moduleConfig } = this.props;\r\n        const result = Object.assign({}, moduleConfig.moduleData, {\r\n            data: configData,\r\n        });\r\n        return result;\r\n    }\r\n    render() {\r\n        let { imgs } = this.state;\r\n        if (imgs === undefined) {\r\n            imgs = [];\r\n        }\r\n        return (react["createElement"]("div", null,\r\n            react["createElement"](component_ImageGroup, { imgs: imgs, onChange: (imgs) => { this.imageChange(imgs); } })));\r\n    }\r\n}\r\nconst CarouselConfig_mapStateToProps = (state) => {\r\n    return {\r\n        moduleConfig: state.moduleConfig,\r\n    };\r\n};\r\n/* harmony default export */ var component_CarouselConfig_CarouselConfig = (Object(es["b" /* connect */])(CarouselConfig_mapStateToProps, {}, undefined, { withRef: true })(CarouselConfig_CarouselConfig));\r\n\n// CONCATENATED MODULE: ./src/component/CarouselConfig/index.ts\n\r\n/* harmony default export */ var component_CarouselConfig = (component_CarouselConfig_CarouselConfig);\r\n\n// CONCATENATED MODULE: ./src/component/LayerConfig/LayerConfig.tsx\n\r\n\r\n\r\n\r\n\r\nconst LayerConfig_mapStateToProps = (state) => {\r\n    return {\r\n        moduleConfig: state.moduleConfig,\r\n    };\r\n};\r\nclass LayerConfig_LayerConfig extends react["Component"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.getConfigData = () => ({\r\n            imgUrl: this.state.imgUrl,\r\n            hotspots: this.state.hotspots,\r\n        });\r\n        this.imgChange = (imgUrl) => {\r\n            this.setState({\r\n                imgUrl,\r\n            });\r\n        };\r\n        this.hotspotsChange = (hotspots) => {\r\n            this.setState({\r\n                hotspots,\r\n            });\r\n        };\r\n        const { moduleData: { data: { imgUrl, hotspots, } } } = props;\r\n        this.state = {\r\n            imgUrl,\r\n            hotspots,\r\n        };\r\n    }\r\n    // TODO props:LayerConfigProps\r\n    componentWillReceiveProps(props) {\r\n        const { moduleData: { configData: { imgUrl, } } } = props;\r\n        this.setState({\r\n            imgUrl,\r\n        });\r\n    }\r\n    toModuleData(configData) {\r\n        const { moduleConfig } = this.props;\r\n        const result = Object.assign({}, moduleConfig.moduleData, {\r\n            data: configData,\r\n        });\r\n        return result;\r\n    }\r\n    render() {\r\n        let { imgUrl, hotspots } = this.state;\r\n        return (react["createElement"]("div", null,\r\n            react["createElement"]("p", { className: "d-title" }, "\\u6D6E\\u5C42\\u56FE\\u7247\\u9009\\u62E9"),\r\n            react["createElement"](component_PicLib, { defaultValue: imgUrl, value: imgUrl, onChange: (imgUrl) => { this.imgChange(imgUrl); } }),\r\n            react["createElement"]("p", { className: "d-title" }, "\\u70ED\\u533A\\u8BBE\\u7F6E"),\r\n            react["createElement"](component_Hotspot, { imgs: [{ url: imgUrl }], hotspots: hotspots, onChange: this.hotspotsChange })));\r\n    }\r\n}\r\n/* harmony default export */ var component_LayerConfig_LayerConfig = (Object(es["b" /* connect */])(LayerConfig_mapStateToProps, {}, undefined, { withRef: true })(LayerConfig_LayerConfig));\r\n\n// CONCATENATED MODULE: ./src/component/LayerConfig/index.ts\n\r\n/* harmony default export */ var component_LayerConfig = (component_LayerConfig_LayerConfig);\r\n\n// EXTERNAL MODULE: ./node_modules/antd/es/select/index.js + 8 modules\nvar es_select = __webpack_require__(135);\n\n// CONCATENATED MODULE: ./src/component/FixedConfig/FixedConfig.tsx\n\r\n\r\n\r\n\r\n\r\n\r\nconst Option = es_select["a" /* default */].Option;\r\nconst FixedConfig_mapStateToProps = (state) => {\r\n    return {\r\n        moduleConfig: state.moduleConfig,\r\n    };\r\n};\r\nvar EHorizontalDir;\r\n(function (EHorizontalDir) {\r\n    EHorizontalDir["Left"] = "left";\r\n    EHorizontalDir["Right"] = "right";\r\n})(EHorizontalDir || (EHorizontalDir = {}));\r\nvar EVerticalDir;\r\n(function (EVerticalDir) {\r\n    EVerticalDir["Top"] = "top";\r\n    EVerticalDir["Bottom"] = "bottom";\r\n})(EVerticalDir || (EVerticalDir = {}));\r\nvar Unit;\r\n(function (Unit) {\r\n    Unit["percent"] = "%";\r\n    Unit["px"] = "px";\r\n})(Unit || (Unit = {}));\r\nclass FixedConfig_FixedConfig extends react["Component"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.getConfigData = () => {\r\n            return this.state;\r\n        };\r\n        this.imgChange = (imgUrl) => {\r\n            this.setState({\r\n                imgUrl,\r\n            });\r\n        };\r\n        this.hotspotsChange = (hotspots) => {\r\n            this.setState({\r\n                hotspots,\r\n            });\r\n        };\r\n        const { moduleData: { data: { imgUrl, hotspots, horizontal, width, vertical, horizontalDir, verticalDir, horizontalUnit, verticalUnit, widthUnit, } } } = props;\r\n        this.state = {\r\n            imgUrl,\r\n            hotspots,\r\n            horizontal,\r\n            width,\r\n            vertical,\r\n            horizontalDir,\r\n            verticalDir,\r\n            horizontalUnit,\r\n            verticalUnit,\r\n            widthUnit,\r\n        };\r\n    }\r\n    toModuleData(configData) {\r\n        const { moduleConfig } = this.props;\r\n        const result = Object.assign({}, moduleConfig.moduleData, {\r\n            data: configData,\r\n        });\r\n        return result;\r\n    }\r\n    render() {\r\n        let { imgUrl, hotspots, horizontal, vertical, width, horizontalDir, verticalDir, horizontalUnit, verticalUnit, widthUnit, } = this.state;\r\n        const horizontalBefore = (react["createElement"](es_select["a" /* default */], { defaultValue: horizontalDir || EHorizontalDir.Left, onChange: (horizontalDir) => { this.setState({ horizontalDir }); }, style: { width: 90 } },\r\n            react["createElement"](Option, { value: EHorizontalDir.Left }, "\\u8DDD\\u5DE6\\u8FB9"),\r\n            react["createElement"](Option, { value: EHorizontalDir.Right }, "\\u8DDD\\u53F3\\u8FB9")));\r\n        const verticalBefore = (react["createElement"](es_select["a" /* default */], { defaultValue: verticalDir || EVerticalDir.Bottom, onChange: (verticalDir) => { this.setState({ verticalDir }); }, style: { width: 90 } },\r\n            react["createElement"](Option, { value: EVerticalDir.Top }, "\\u8DDD\\u9876\\u90E8"),\r\n            react["createElement"](Option, { value: EVerticalDir.Bottom }, "\\u8DDD\\u5E95\\u90E8")));\r\n        const horizontalAfter = (react["createElement"](es_select["a" /* default */], { defaultValue: horizontalUnit || Unit.percent, onChange: (horizontalUnit) => { this.setState({ horizontalUnit }); }, style: { width: 50 } },\r\n            react["createElement"](Option, { value: Unit.percent }, "%"),\r\n            react["createElement"](Option, { value: Unit.px }, "px")));\r\n        const verticalAfter = (react["createElement"](es_select["a" /* default */], { defaultValue: verticalUnit || Unit.percent, onChange: (verticalUnit) => { this.setState({ verticalUnit }); }, style: { width: 50 } },\r\n            react["createElement"](Option, { value: Unit.percent }, "%"),\r\n            react["createElement"](Option, { value: Unit.px }, "px")));\r\n        const widthAfter = (react["createElement"](es_select["a" /* default */], { defaultValue: widthUnit || Unit.percent, onChange: (widthUnit) => { this.setState({ widthUnit }); }, style: { width: 50 } },\r\n            react["createElement"](Option, { value: Unit.percent }, "%"),\r\n            react["createElement"](Option, { value: Unit.px }, "px")));\r\n        return (react["createElement"]("div", null,\r\n            react["createElement"]("p", { className: "d-title" }, "\\u56FE\\u7247\\u9009\\u62E9"),\r\n            react["createElement"](component_PicLib, { defaultValue: imgUrl, value: imgUrl, onChange: (imgUrl) => { this.imgChange(imgUrl); } }),\r\n            react["createElement"]("p", { className: "d-title" }, "\\u70ED\\u533A\\u914D\\u7F6E"),\r\n            react["createElement"](component_Hotspot, { imgs: [{ url: imgUrl }], hotspots: hotspots, onChange: this.hotspotsChange }),\r\n            react["createElement"]("p", { className: "d-title" }, "\\u5B9A\\u4F4D\\u4F4D\\u7F6E"),\r\n            react["createElement"]("div", null,\r\n                react["createElement"](input["a" /* default */], { value: horizontal, onChange: (e) => { this.setState({ horizontal: e.target.value }); }, addonBefore: horizontalBefore, placeholder: "\\u8BF7\\u8F93\\u5165\\u6570\\u5B57", addonAfter: horizontalAfter })),\r\n            react["createElement"]("div", { style: { marginTop: \'10px\' } },\r\n                react["createElement"](input["a" /* default */], { value: vertical, onChange: (e) => { this.setState({ vertical: e.target.value }); }, addonBefore: verticalBefore, placeholder: "\\u8BF7\\u8F93\\u5165\\u6570\\u5B57", addonAfter: verticalAfter })),\r\n            react["createElement"]("div", { style: { marginTop: \'10px\' } },\r\n                react["createElement"](input["a" /* default */], { value: width, onChange: (e) => { this.setState({ width: e.target.value }); }, addonBefore: "\\u5BBD\\u5EA6", placeholder: "\\u8BF7\\u8F93\\u5165\\u6570\\u5B57", addonAfter: widthAfter }))));\r\n    }\r\n}\r\n/* harmony default export */ var component_FixedConfig_FixedConfig = (Object(es["b" /* connect */])(FixedConfig_mapStateToProps, {}, undefined, { withRef: true })(FixedConfig_FixedConfig));\r\n\n// EXTERNAL MODULE: ./src/component/FixedConfig/FixedConfig.scss\nvar src_component_FixedConfig_FixedConfig = __webpack_require__(302);\n\n// CONCATENATED MODULE: ./src/component/FixedConfig/index.ts\n\r\n\r\n/* harmony default export */ var component_FixedConfig = (component_FixedConfig_FixedConfig);\r\n\n// CONCATENATED MODULE: ./src/component/ConfigDialog/ConfigDialog.tsx\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ConfigDialog_ConfigDialog_ConfigDialog extends react["Component"] {\r\n    constructor(props) {\r\n        super(props);\r\n        this.renderSub = (moduleData) => {\r\n            const { moduleTypeId } = moduleData;\r\n            switch (moduleTypeId) {\r\n                case 1: // 自定义代码\r\n                    return react["createElement"](component_UserDefineConfig, { moduleData: moduleData, ref: this.subRef });\r\n                case 2: // 图片热区\r\n                    return react["createElement"](component_ImageHotspotConfig, { moduleData: moduleData, ref: this.subRef });\r\n                case 3: // 文字\r\n                    return react["createElement"](component_TextConfig, { moduleData: moduleData, ref: this.subRef });\r\n                case 4: // 图片轮播\r\n                    return react["createElement"](component_CarouselConfig, { moduleData: moduleData, ref: this.subRef });\r\n                case 5: //浮层\r\n                    return react["createElement"](component_LayerConfig, { moduleData: moduleData, ref: this.subRef });\r\n                case 6: // 定位\r\n                    return react["createElement"](component_FixedConfig, { moduleData: moduleData, ref: this.subRef });\r\n                default:\r\n                    return react["createElement"]("div", null, "\\u6CA1\\u6709\\u627E\\u5230\\u8BE5\\u6A21\\u5757\\u7684\\u914D\\u7F6E\\u9879");\r\n            }\r\n        };\r\n        this.state = {\r\n            moduleConfig: this.props.moduleConfig,\r\n        };\r\n        this.subRef = react["createRef"]();\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        const { moduleConfig } = nextProps;\r\n        this.setState({\r\n            moduleConfig,\r\n        });\r\n    }\r\n    handleSubmit() {\r\n        const { saveConfigRequest } = this.props;\r\n        const subComp = this.subRef.current.getWrappedInstance();\r\n        const configData = subComp.getConfigData();\r\n        let moduleData = subComp.toModuleData(configData);\r\n        moduleData.configData = configData;\r\n        saveConfigRequest(moduleData);\r\n    }\r\n    render() {\r\n        const { module, hideConfig } = this.props;\r\n        const { moduleConfig } = this.state;\r\n        let activeModule = module.moduleList.filter((v) => v.tempData && v.tempData.isActive);\r\n        activeModule = activeModule && activeModule[0];\r\n        if (moduleConfig.isVisiable && activeModule !== undefined) {\r\n            let top = 90;\r\n            top += activeModule.tempData.top || 0;\r\n            const { moduleData, moduleData: { moduleName, }, } = moduleConfig;\r\n            return (react["createElement"]("div", { className: "d-config-dialog", style: { top } },\r\n                react["createElement"]("div", { className: "d-header" },\r\n                    react["createElement"]("p", { className: "d-module-name" }, moduleName),\r\n                    react["createElement"]("span", null,\r\n                        react["createElement"](icon["a" /* default */], { className: "d-close", type: "close", onClick: () => hideConfig() }),\r\n                        react["createElement"](icon["a" /* default */], { type: "question-circle-o" }))),\r\n                react["createElement"]("div", { className: "d-content" }, this.renderSub(moduleData)),\r\n                react["createElement"]("div", { className: "d-footer" },\r\n                    react["createElement"](es_button["a" /* default */], { onClick: () => hideConfig() }, "\\u53D6\\u6D88"),\r\n                    react["createElement"](es_button["a" /* default */], { type: "primary", onClick: () => { this.handleSubmit(); } }, "\\u786E\\u5B9A"))));\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\nconst ConfigDialog_mapStateToProps = (state) => {\r\n    return {\r\n        moduleConfig: state.moduleConfig,\r\n        module: state.module,\r\n    };\r\n};\r\n/* harmony default export */ var component_ConfigDialog_ConfigDialog = (Object(es["b" /* connect */])(ConfigDialog_mapStateToProps, { hideConfig: actions["s" /* hideConfig */], saveConfigRequest: actions["x" /* saveConfigRequest */] })(ConfigDialog_ConfigDialog_ConfigDialog));\r\n\n// CONCATENATED MODULE: ./src/component/ConfigDialog/index.ts\n\r\n\r\n/* harmony default export */ var component_ConfigDialog = __webpack_exports__["a"] = (component_ConfigDialog_ConfigDialog);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvVXNlckRlZmluZUNvbmZpZy9Vc2VyRGVmaW5lQ29uZmlnLnRzeD9kMGEwIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L1VzZXJEZWZpbmVDb25maWcvaW5kZXgudHM/MmIxMSIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9QaWNMaWIvUGljTGliTW9kYWwudHN4P2VhYjYiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvUGljTGliL1BpY0xpYi50c3g/N2FlYiIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9QaWNMaWIvaW5kZXgudHM/MzdmYyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9JbWFnZUdyb3VwL0ltYWdlR3JvdXAudHN4PzM3ZGIiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvSW1hZ2VHcm91cC9pbmRleC50cz9jMWYxIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L0hvdHNwb3QvSG90c3BvdExpbmsudHN4P2M3OTUiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvSG90c3BvdC9BcmVhLnRzeD82NGVhIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L0hvdHNwb3QvSG90c3BvdE1vZGFsLnRzeD80NmU3Iiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L0hvdHNwb3QvSG90c3BvdC50c3g/NjVmMCIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9Ib3RzcG90L2luZGV4LnRzPzJmN2MiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvSW1hZ2VIb3RzcG90Q29uZmlnL0ltYWdlSG90c3BvdENvbmZpZy50c3g/OTBlYSIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9JbWFnZUhvdHNwb3RDb25maWcvaW5kZXgudHM/NmM5ZSIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9UZXh0Q29uZmlnL1RleHRDb25maWcudHN4PzcyYTkiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvVGV4dENvbmZpZy9pbmRleC50cz8wMGUwIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L0Nhcm91c2VsQ29uZmlnL0Nhcm91c2VsQ29uZmlnLnRzeD8zYjE4Iiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L0Nhcm91c2VsQ29uZmlnL2luZGV4LnRzP2U1NDgiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvTGF5ZXJDb25maWcvTGF5ZXJDb25maWcudHN4Pzk4ZTUiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvTGF5ZXJDb25maWcvaW5kZXgudHM/OTFmMyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9GaXhlZENvbmZpZy9GaXhlZENvbmZpZy50c3g/NGZjZCIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9GaXhlZENvbmZpZy9pbmRleC50cz82NDRiIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L0NvbmZpZ0RpYWxvZy9Db25maWdEaWFsb2cudHN4PzlmOGEiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvQ29uZmlnRGlhbG9nL2luZGV4LnRzPzNjNTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnYW50ZCc7XG5pbXBvcnQgeyBFZGl0b3IgfSBmcm9tICdyZWFjdC1kcmFmdC13eXNpd3lnJztcbmltcG9ydCAncmVhY3QtZHJhZnQtd3lzaXd5Zy9kaXN0L3JlYWN0LWRyYWZ0LXd5c2l3eWcuY3NzJztcbmNvbnN0IHsgVGV4dEFyZWEgfSA9IElucHV0O1xuXG5pbnRlcmZhY2UgVXNlckRlZmluZUNvbmZpZ1Byb3BzIHtcbiAgICBtb2R1bGVEYXRhOiBhbnk7XG4gICAgbW9kdWxlQ29uZmlnOiBhbnk7XG59XG5cbmNsYXNzIFVzZXJEZWZpbmVDb25maWcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8VXNlckRlZmluZUNvbmZpZ1Byb3BzLCBhbnk+IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBVc2VyRGVmaW5lQ29uZmlnUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICBsZXQgY29kZTtcbiAgICAgICAgaWYgKHByb3BzLm1vZHVsZURhdGEuY29uZmlnRGF0YSkge1xuICAgICAgICAgICAgY29kZSA9IHByb3BzLm1vZHVsZURhdGEuY29uZmlnRGF0YS5jb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29kZSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjb2RlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzOiBVc2VyRGVmaW5lQ29uZmlnUHJvcHMpIHtcbiAgICAgICAgbGV0IG5ld0NvZGU7XG4gICAgICAgIGlmIChuZXh0UHJvcHMubW9kdWxlRGF0YS5jb25maWdEYXRhKSB7XG4gICAgICAgICAgICBuZXdDb2RlID0gbmV4dFByb3BzLm1vZHVsZURhdGEuY29uZmlnRGF0YS5jb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3Q29kZSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgY29kZTogbmV3Q29kZSxcbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBnZXRDb25maWdEYXRhID0gKCkgPT4gKHsgY29kZTogdGhpcy5zdGF0ZS5jb2RlIH0pO1xuXG4gICAgdG9Nb2R1bGVEYXRhKGNvbmZpZ0RhdGE6IGFueSkge1xuICAgICAgICBjb25zdCB7IG1vZHVsZUNvbmZpZyB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgbW9kdWxlQ29uZmlnLm1vZHVsZURhdGEsIHtcbiAgICAgICAgICAgIGRhdGE6IGNvbmZpZ0RhdGEsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPFRleHRBcmVhXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi5Zyo5q2k6L6T5YWl5Luj56CBXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY29kZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBjb2RlOiBlLnRhcmdldC52YWx1ZSB9KTsgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGU6IGFueSkgPT4gKHtcbiAgICBtb2R1bGVDb25maWc6IHN0YXRlLm1vZHVsZUNvbmZpZyxcbiAgICBtb2R1bGU6IHN0YXRlLm1vZHVsZSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywge30sIHVuZGVmaW5lZCwgeyB3aXRoUmVmOiB0cnVlIH0pKFVzZXJEZWZpbmVDb25maWcpO1xuIiwiaW1wb3J0IFVzZXJEZWZpbmVDb25maWcgZnJvbSAnLi9Vc2VyRGVmaW5lQ29uZmlnJztcbmV4cG9ydCBkZWZhdWx0IFVzZXJEZWZpbmVDb25maWc7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBGcmFnbWVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgUm93LCBDb2wsIEJ1dHRvbiwgVXBsb2FkLCBJbnB1dCwgTW9kYWwgfSBmcm9tICdhbnRkJztcclxuY29uc3QgU2VhcmNoID0gSW5wdXQuU2VhcmNoO1xyXG5cclxuaW1wb3J0IElOVEVSRkFDRSBmcm9tICcuLi8uLi9jb21tb24vc2NyaXB0L0lOVEVSRkFDRSc7XHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbnRlbnRQcm9wcyB7XHJcbiAgICBkZWZhdWx0VmFsdWU/OiBzdHJpbmc7XHJcbiAgICBvbk9rOiAodXJsOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICBvbkNhbmNlbDogKCkgPT4gdm9pZDtcclxuICAgIGlzTW9kYWxWaXNpYmxlPzogYm9vbGVhbjtcclxufVxyXG5cclxuY29uc3QgdXBsb2FkUHJvcHMgPSB7XHJcbiAgICBuYW1lOiAnZmlsZScsXHJcbiAgICBhY3Rpb246IElOVEVSRkFDRS51cGxvYWRJbWFnZSxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiAnYXV0aG9yaXphdGlvbi10ZXh0JyxcclxuICAgIH0sXHJcbiAgICBzaG93VXBsb2FkTGlzdDogZmFsc2UsXHJcbn07XHJcblxyXG5pbnRlcmZhY2UgSW1hZ2VJbmZvIHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIHVybDogc3RyaW5nO1xyXG4gICAgaXNBY3RpdmU6IGJvb2xlYW47XHJcbn1cclxuXHJcbmNsYXNzIFBpY0xpYk1vZGFsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PENvbnRlbnRQcm9wcywgYW55PiB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IENvbnRlbnRQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBpbWdMaXN0OiBbXSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHRoaXMucmVmcmVzaEltYWdlTGlzdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hJbWFnZUxpc3QgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBkZWZhdWx0VmFsdWUgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IGF4aW9zKElOVEVSRkFDRS5nZXRJbWFnZUxpc3QpKS5kYXRhO1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBpbWdMaXN0ID0gcmVzdWx0LmRhdGEubWFwKCh2OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbmFtZSwgdXJsLCB9ID0gdjtcclxuICAgICAgICAgICAgICAgIGxldCBpc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVybCA9PT0gZGVmYXVsdFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbmFtZSwgdXJsLCBpc0FjdGl2ZSB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpbWdMaXN0LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyVGl0bGUgPSAoKSA9PiAoXHJcbiAgICAgICAgPEZyYWdtZW50PlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkLXRpdGxlXCI+5Zu+54mH6YCJ5oup5ZmoPC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkLWRlc2NcIj4o5pSv5oyB5qC85byP5Li6eHh4KTwvc3Bhbj5cclxuICAgICAgICA8L0ZyYWdtZW50PlxyXG4gICAgKVxyXG5cclxuICAgIGhhbmRsZU9rID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZUxpc3QgPSB0aGlzLnN0YXRlLmltZ0xpc3QuZmlsdGVyKCh2OiBJbWFnZUluZm8pID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHYuaXNBY3RpdmU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9ICcnO1xyXG4gICAgICAgIGlmIChhY3RpdmVMaXN0ICYmIGFjdGl2ZUxpc3RbMF0pIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gYWN0aXZlTGlzdFswXS51cmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvcHMub25PayhyZXN1bHQpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQ2FuY2VsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0SW1nID0gKHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW1nTGlzdCA9IHRoaXMuc3RhdGUuaW1nTGlzdC5tYXAoKHY6IEltYWdlSW5mbykgPT4ge1xyXG4gICAgICAgICAgICBpZiAodi51cmwgPT09IHVybCkge1xyXG4gICAgICAgICAgICAgICAgdi5pc0FjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2LmlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGltZ0xpc3QsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVySW1nTGlzdCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IGltZ0xpc3QgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgcmV0dXJuIGltZ0xpc3QubWFwKCh2OiBJbWFnZUluZm8sIGk6IG51bWJlcikgPT4gKFxyXG4gICAgICAgICAgICA8Q29sIHNwYW49ezN9IGtleT17aX0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZC1pbWctY29udGFpbmVyICR7di5pc0FjdGl2ZSA/ICdhY3RpdmUnIDogJyd9YH1cclxuICAgICAgICAgICAgICAgICAgICBvbkRvdWJsZUNsaWNrPXt0aGlzLmhhbmRsZU9rfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZWxlY3RJbWcodi51cmwpOyB9fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZC1pbWFnZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogYHVybCgke3YudXJsfSlgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJkLWltYWdlLW5hbWVcIiB0aXRsZT17di5uYW1lfT57di5uYW1lfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtaW1nLW1hc2tcIiAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICkpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwbG9hZENoYW5nZSA9IChlOiBhbnkpID0+IHtcclxuICAgICAgICBpZiAoZS5ldmVudCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaEltYWdlTGlzdCgpO1xyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgaXNNb2RhbFZpc2libGU6IHZpc2libGUgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPE1vZGFsXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkLXBpYy1saWItbW9kYWxcIlxyXG4gICAgICAgICAgICAgICAgdmlzaWJsZT17dmlzaWJsZX1cclxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnJlbmRlclRpdGxlKCl9XHJcbiAgICAgICAgICAgICAgICB3aWR0aD17MTEwMH1cclxuICAgICAgICAgICAgICAgIG9uT2s9e3RoaXMuaGFuZGxlT2t9XHJcbiAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5oYW5kbGVDYW5jZWx9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPFJvdz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPENvbCBzcGFuPXs0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWFyY2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIui+k+WFpeWbvueJh+WQjeensOaIluWFs+mUruWtl1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NvbCA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDb2wgc3Bhbj17Mn0gb2Zmc2V0PXsxOH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VXBsb2FkIHsuLi51cGxvYWRQcm9wc30gb25DaGFuZ2U9e3RoaXMudXBsb2FkQ2hhbmdlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImQtdXBsb2FkLWltZ1wiIHR5cGU9XCJwcmltYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOS4iuS8oOWbvueJh1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1VwbG9hZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2wgPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgICAgIDxSb3cgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMTBweCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckltZ0xpc3QoKX1cclxuICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L01vZGFsPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBpY0xpYk1vZGFsO1xyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJbnB1dCwgQnV0dG9uLCBJY29uIH0gZnJvbSAnYW50ZCc7XG5jb25zdCBJbnB1dEdyb3VwID0gSW5wdXQuR3JvdXA7XG5cbmltcG9ydCBQaWNMaWJNb2RhbCBmcm9tICcuL1BpY0xpYk1vZGFsJztcblxuZXhwb3J0IGludGVyZmFjZSBQaWNMaWJQcm9wcyB7XG4gICAgZGVmYXVsdFZhbHVlPzogc3RyaW5nO1xuICAgIHZhbHVlPzogc3RyaW5nO1xuICAgIG9uQ2hhbmdlPzogKHVybDogc3RyaW5nKSA9PiB2b2lkO1xuICAgIG9uVXA/OiBhbnk7XG4gICAgb25Eb3duPzogYW55O1xuICAgIG9uUmVtb3ZlPzogYW55O1xufVxuXG5jbGFzcyBQaWNMaWIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UGljTGliUHJvcHMsIGFueT4ge1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFBpY0xpYlByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgY29uc3QgeyBkZWZhdWx0VmFsdWU6IHZhbHVlIH0gPSBwcm9wcztcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGlzTW9kYWxWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzOiBQaWNMaWJQcm9wcykge1xuICAgICAgICBjb25zdCB7IHZhbHVlIH0gPSBuZXh0UHJvcHM7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9wZW4gPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNNb2RhbFZpc2libGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhbmRsZUNoYW5nZSA9ICh1cmw6IHN0cmluZykgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHZhbHVlOiB1cmwsXG4gICAgICAgICAgICBpc01vZGFsVmlzaWJsZTogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkNoYW5nZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHVybCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNsb3NlTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNNb2RhbFZpc2libGU6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXJNb2RhbCA9IChpc01vZGFsVmlzaWJsZTogYm9vbGVhbikgPT4ge1xuICAgICAgICBjb25zdCB7IHZhbHVlOiBkZWZhdWx0VmFsdWUgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHJldHVybiAoaXNNb2RhbFZpc2libGUgP1xuICAgICAgICAgICAgPFBpY0xpYk1vZGFsXG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkZWZhdWx0VmFsdWV9XG4gICAgICAgICAgICAgICAgaXNNb2RhbFZpc2libGU9e2lzTW9kYWxWaXNpYmxlfVxuICAgICAgICAgICAgICAgIG9uT2s9eyh1cmw6IHN0cmluZykgPT4geyB0aGlzLmhhbmRsZUNoYW5nZSh1cmwpOyB9fVxuICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLmNsb3NlTW9kYWx9XG4gICAgICAgICAgICAvPiA6IG51bGwpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcblxuICAgICAgICBjb25zdCB7IGRlZmF1bHRWYWx1ZSwgb25VcCwgb25Eb3duLCBvblJlbW92ZSB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgeyBpc01vZGFsVmlzaWJsZSwgdmFsdWUgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGNvbnN0IHNob3VsZFBvc2l0aW9uID0gb25VcCAmJiBvbkRvd247XG4gICAgICAgIGNvbnN0IHNob3VsZFJlbW92ZSA9ICEhb25SZW1vdmU7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8SW5wdXRHcm91cFxuICAgICAgICAgICAgICAgIGNvbXBhY3RcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkLXBpYy1saWJcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtzaG91bGRQb3NpdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzglJyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZC1pdGVtIGQtcG9zaXRpb25cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBjbGFzc05hbWU9XCJkLWljb24tdXBcIiB0eXBlPVwiY2FyZXQtdXBcIiBvbkNsaWNrPXtvblVwfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gY2xhc3NOYW1lPVwiZC1pY29uLWRvd25cIiB0eXBlPVwiY2FyZXQtZG93blwiIG9uQ2xpY2s9e29uRG93bn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZC1pdGVtIGQtcGljbGliLXRleHRcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9wZW59XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAnMjUlJyB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEljb24gdHlwZT1cInBpY3R1cmVcIiAvPlxuICAgICAgICAgICAgICAgICAgICDlm77niYflupNcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZC1pdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLovpPlhaXlm77niYfot6/lvoTmiJbku47lm77niYflupPkuK3pgInmi6lcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4geyB0aGlzLmhhbmRsZUNoYW5nZShlLnRhcmdldC52YWx1ZSk7IH19XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZGVmYXVsdFZhbHVlfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzU4JScsIGZvbnRTaXplOiAnMTNweCcgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHtzaG91bGRSZW1vdmUgJiZcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZC1pdGVtIGQtZGVsZXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAnOCUnIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblJlbW92ZX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gdHlwZT1cImRlbGV0ZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJNb2RhbChpc01vZGFsVmlzaWJsZSl9XG4gICAgICAgICAgICA8L0lucHV0R3JvdXAgPlxuICAgICAgICApO1xuXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQaWNMaWI7XG4iLCJpbXBvcnQgeyBQaWNMaWJQcm9wcyB9IGZyb20gJy4vUGljTGliJztcbmltcG9ydCBQaWNMaWIgZnJvbSAnLi9QaWNMaWInO1xuXG5pbXBvcnQgJy4vUGljTGliLnNjc3MnO1xuaW1wb3J0ICcuL1BpY0xpYk1vZGFsLnNjc3MnO1xuXG5leHBvcnQgeyBQaWNMaWJQcm9wcyB9O1xuZXhwb3J0IGRlZmF1bHQgUGljTGliO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IFBpY0xpYiBmcm9tICcuLi9QaWNMaWInO1xuaW1wb3J0IHsgSW1hZ2VJbmZvIH0gZnJvbSAnLi4vSW1hZ2VIb3RzcG90Q29uZmlnL2ludGVyZmFjZSc7XG5cbmludGVyZmFjZSBJbWFnZUdyb3VwUHJvcHMge1xuICAgIGltZ3M6IEltYWdlSW5mb1tdO1xuICAgIG9uQ2hhbmdlOiAoaW1nczogSW1hZ2VJbmZvW10pID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBJbWFnZUdyb3VwU3RhdGUgeyB9XG5cbmNsYXNzIEltYWdlR3JvdXAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SW1hZ2VHcm91cFByb3BzLCBJbWFnZUdyb3VwU3RhdGU+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogSW1hZ2VHcm91cFByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICB9XG5cbiAgICBpbWFnZUNoYW5nZSA9IChpbmRleDogbnVtYmVyLCB1cmw6IHN0cmluZykgPT4ge1xuICAgICAgICBsZXQgaW1nczogSW1hZ2VJbmZvW10gPSBbXTtcbiAgICAgICAgY29uc3QgeyBpbWdzOiBjdXJyZW50SW1ncyB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgaWYgKGN1cnJlbnRJbWdzICE9PSB1bmRlZmluZWQgJiYgaW5kZXggPCBjdXJyZW50SW1ncy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGltZ3MgPSBjdXJyZW50SW1ncy5tYXAoKHYsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdi51cmwgPSB1cmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICAgICAgfSkuZmlsdGVyKHYgPT4gdi51cmwgIT09ICcnKTtcbiAgICAgICAgfSBlbHNlIHsvLyDmlrDlop7poblcbiAgICAgICAgICAgIGltZ3MgPSAoY3VycmVudEltZ3MgfHwgW10pLmNvbmNhdChbeyB1cmwgfV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoaW1ncyk7XG4gICAgfVxuXG4gICAgbW92ZUl0ZW0gPSAocHJlSW5kZXg6IG51bWJlciwgY3VySW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0OiBJbWFnZUluZm9bXTtcbiAgICAgICAgbGV0IHRlbXBJbWdzOiBJbWFnZUluZm9bXSA9IHRoaXMucHJvcHMuaW1ncy5zbGljZSgwKTsgICAgLy8g5rex5ou36LSdXG4gICAgICAgIGxldCB0YXJnZXQ6IEltYWdlSW5mb1tdID0gdGVtcEltZ3Muc3BsaWNlKGN1ckluZGV4LCAxKTtcbiAgICAgICAgLy8g56e75Yiw5pyA5YmN6Z2iXG4gICAgICAgIGlmIChwcmVJbmRleCA8IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRhcmdldC5jb25jYXQodGVtcEltZ3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGVtcEltZ3Muc3BsaWNlKHByZUluZGV4LCAwLCB0YXJnZXRbMF0pO1xuICAgICAgICAgICAgcmVzdWx0ID0gdGVtcEltZ3M7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShyZXN1bHQpO1xuICAgIH1cblxuICAgIHVwSXRlbSA9IChpbmRleDogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgICAgIHRoaXMubW92ZUl0ZW0oaW5kZXggLSAxLCBpbmRleCk7XG4gICAgfVxuXG4gICAgZG93bkl0ZW0gPSAoaW5kZXg6IG51bWJlcik6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLm1vdmVJdGVtKGluZGV4ICsgMSwgaW5kZXgpO1xuICAgIH1cblxuICAgIHJlbW92ZUl0ZW0gPSAoaW5kZXg6IG51bWJlcik6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCB7IGltZ3M6IGN1cnJlbnRJbWdzIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCBpbWdzID0gY3VycmVudEltZ3MuZmlsdGVyKCh2LCBpKSA9PiBpICE9PSBpbmRleCk7XG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoaW1ncyk7XG4gICAgfVxuXG4gICAgcmVuZGVySW1ncyA9IChpbWdzOiBJbWFnZUluZm9bXSk6IEpTWC5FbGVtZW50ID0+IHtcblxuICAgICAgICBjb25zdCBpbWdJdGVtID0gKGluZGV4OiBudW1iZXIsIGltZ0luZm86IEltYWdlSW5mbykgPT4gKFxuICAgICAgICAgICAgPFBpY0xpYlxuICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtpbWdJbmZvLnVybH1cbiAgICAgICAgICAgICAgICB2YWx1ZT17aW1nSW5mby51cmx9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh1cmwpID0+IHsgdGhpcy5pbWFnZUNoYW5nZShpbmRleCwgdXJsKTsgfX1cbiAgICAgICAgICAgICAgICBvblVwPXsoKSA9PiB7IHRoaXMudXBJdGVtKGluZGV4KTsgfX1cbiAgICAgICAgICAgICAgICBvbkRvd249eygpID0+IHsgdGhpcy5kb3duSXRlbShpbmRleCk7IH19XG4gICAgICAgICAgICAgICAgb25SZW1vdmU9eygpID0+IHsgdGhpcy5yZW1vdmVJdGVtKGluZGV4KTsgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICAgICB7aW1ncy5tYXAoKHYsIGkpID0+IGltZ0l0ZW0oaSwgdikpfVxuICAgICAgICAgICAgICAgIHtpbWdJdGVtKGltZ3MubGVuZ3RoLCB7IHVybDogJycgfSl9XG4gICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBpbWdzIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWltYWdlLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVySW1ncyhpbWdzKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VHcm91cDsiLCJpbXBvcnQgSW1hZ2VHcm91cCBmcm9tICcuL0ltYWdlR3JvdXAnO1xuaW1wb3J0ICcuL0ltYWdlR3JvdXAuc2Nzcyc7XG5leHBvcnQgZGVmYXVsdCBJbWFnZUdyb3VwOyIsImltcG9ydCBSZWFjdCwgeyBDaGFuZ2VFdmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEljb24sIElucHV0LCBCdXR0b24gfSBmcm9tICdhbnRkJztcbmNvbnN0IElucHV0R3JvdXAgPSBJbnB1dC5Hcm91cDtcblxuaW50ZXJmYWNlIEhvdHNwb3RMaW5rUHJvcHMge1xuICAgIGluZGV4OiBudW1iZXI7XG4gICAgdmFsdWU6IHN0cmluZztcbiAgICBvbkNoYW5nZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgb25SZW1vdmU6ICgpID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBIb3RzcG90TGlua1N0YXRlIHtcblxufVxuXG5jbGFzcyBIb3RzcG90TGluayBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxIb3RzcG90TGlua1Byb3BzLCBIb3RzcG90TGlua1N0YXRlPiB7XG4gICAgY29uc3RydWN0b3IocHJvcHM6IEhvdHNwb3RMaW5rUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgfVxuXG4gICAgaGFuZGxlQ2hhbmdlID0gKGU6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBvblJlbW92ZSxcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8SW5wdXRHcm91cFxuICAgICAgICAgICAgICAgIGNvbXBhY3RcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkLWhvdHNwb3QtbGlua1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImQtaXRlbVwiXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtg6L6T5YWl54Ot5Yy6JHtpbmRleCArIDF955qE6ZO+5o6l5Zyw5Z2AYH1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAnOTAlJywgZm9udFNpemU6ICcxM3B4JyB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkLWl0ZW0gZC1kZWxldGVcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwJScgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25SZW1vdmV9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SWNvbiB0eXBlPVwiZGVsZXRlXCIgLz5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvSW5wdXRHcm91cCA+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBIb3RzcG90TGluazsiLCJpbXBvcnQgUmVhY3QsIHsgUmVmT2JqZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ2FudGQnO1xuaW1wb3J0IHsgQXJlYUluZm8gfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xuXG5pbnRlcmZhY2UgQXJlYVByb3BzIHtcbiAgICBpbmRleDogbnVtYmVyO1xuICAgIHg6IG51bWJlcjtcbiAgICB5OiBudW1iZXI7XG4gICAgdzogbnVtYmVyO1xuICAgIGg6IG51bWJlcjtcbiAgICBvblJlbW92ZTogKGluZGV4OiBudW1iZXIpID0+IHZvaWQ7XG4gICAgb25DaGFuZ2U6IChpbmRleDogbnVtYmVyLCBhcmVhOiBBcmVhSW5mbykgPT4gdm9pZDtcbn1cblxuaW50ZXJmYWNlIEFyZWFTdGF0ZSB7XG4gICAgaW5pdFg6IG51bWJlcjtcbiAgICBpbml0WTogbnVtYmVyO1xuICAgIGluaXRXOiBudW1iZXI7XG4gICAgaW5pdEg6IG51bWJlcjtcbiAgICBpc01vdmluZzogYm9vbGVhbjtcbiAgICBtb3ZpbmdPZmZzZXRYOiBudW1iZXI7XG4gICAgbW92aW5nT2Zmc2V0WTogbnVtYmVyO1xuICAgIC8vIGNvbnRhaW5lck9mZnNldFg6IG51bWJlcjtcbiAgICAvLyBjb250YWluZXJPZmZzZXRZOiBudW1iZXI7XG59XG5cbmNsYXNzIEFyZWEgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8QXJlYVByb3BzLCBBcmVhU3RhdGU+IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBBcmVhUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICBsZXQgeyB4LCB5LCB3LCBoIH0gPSBwcm9wcztcbiAgICAgICAgeCA9IHggfHwgMDtcbiAgICAgICAgeSA9IHkgfHwgMDtcbiAgICAgICAgdyA9IHcgfHwgMDtcbiAgICAgICAgaCA9IGggfHwgMDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGlzTW92aW5nOiBmYWxzZSwgICAvLyDmmK/lkKbmraPlnKjmi5bliqhcbiAgICAgICAgICAgIGluaXRYOiB4LFxuICAgICAgICAgICAgaW5pdFk6IHksXG4gICAgICAgICAgICBpbml0VzogdyxcbiAgICAgICAgICAgIGluaXRIOiBoLFxuICAgICAgICAgICAgbW92aW5nT2Zmc2V0WDogMCxcbiAgICAgICAgICAgIG1vdmluZ09mZnNldFk6IDAsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGFuZGxlTW91c2VEb3duID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgbmF0aXZlRXZlbnQ6IHtcbiAgICAgICAgICAgICAgICBvZmZzZXRYOiBtb3ZpbmdPZmZzZXRYLFxuICAgICAgICAgICAgICAgIG9mZnNldFk6IG1vdmluZ09mZnNldFksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9ID0gZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc01vdmluZzogdHJ1ZSxcbiAgICAgICAgICAgIG1vdmluZ09mZnNldFgsXG4gICAgICAgICAgICBtb3ZpbmdPZmZzZXRZLFxuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIGhhbmRsZU1vdXNlVXAgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNNb3Zpbmc6IGZhbHNlLFxuICAgICAgICAgICAgbW92aW5nT2Zmc2V0WDogMCxcbiAgICAgICAgICAgIG1vdmluZ09mZnNldFk6IDAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhbmRsZU1vdXNlTW92ZSA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgaXNNb3ZpbmcsIG1vdmluZ09mZnNldFgsIG1vdmluZ09mZnNldFkgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmIChpc01vdmluZykge1xuICAgICAgICAgICAgY29uc3QgeyBpbmRleCwgb25DaGFuZ2UsIHgsIHksIHcsIGggfSA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSA9IGU7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50WCA9IHggKyBvZmZzZXRYIC0gbW92aW5nT2Zmc2V0WDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRZID0geSArIG9mZnNldFkgLSBtb3ZpbmdPZmZzZXRZO1xuICAgICAgICAgICAgb25DaGFuZ2UoaW5kZXgsIE9iamVjdC5hc3NpZ24oe30sIHsgeCwgeSwgdywgaCB9LCB7IHg6IGN1cnJlbnRYLCB5OiBjdXJyZW50WSB9KSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyB4LCB5LCB3LCBoLCBpbmRleCwgb25SZW1vdmUgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZC1hcmVhXCJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU9e2ZhbHNlfVxuICAgICAgICAgICAgICAgIC8vIHJlZj17dGhpcy5hcmVhUmVmfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGxlZnQ6IGAke3h9cHhgLCB0b3A6IGAke3l9cHhgLCB3aWR0aDogYCR7d31weGAsIGhlaWdodDogYCR7aH1weGAgfX1cbiAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17dGhpcy5oYW5kbGVNb3VzZURvd259XG4gICAgICAgICAgICAgICAgb25Nb3VzZVVwPXt0aGlzLmhhbmRsZU1vdXNlVXB9XG4gICAgICAgICAgICAgICAgb25Nb3VzZU1vdmU9e3RoaXMuaGFuZGxlTW91c2VNb3ZlfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZC1pY29uLWRlbGV0ZVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgb25SZW1vdmUoaW5kZXgpOyB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEljb24gdHlwZT1cImRlbGV0ZVwiIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZC1uYW1lXCI+XG4gICAgICAgICAgICAgICAgICAgIOeDreWMuntpbmRleCArIDF9XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXYgPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJlYTsiLCJpbXBvcnQgUmVhY3QsIHsgTW91c2VFdmVudEhhbmRsZXIsIFJlZk9iamVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgTW9kYWwsIG1lc3NhZ2UgfSBmcm9tICdhbnRkJztcclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL091dGVyQ29tcG9uZW50LmQudHNcIiAvPlxyXG5pbXBvcnQgYWRkRXZlbnRMaXN0ZW5lciBmcm9tICdyYy11dGlsL2xpYi9Eb20vYWRkRXZlbnRMaXN0ZW5lcic7XHJcblxyXG5pbXBvcnQgeyBJbWFnZUluZm8sIEhvdHNwb3RJbmZvLCBBcmVhSW5mbyB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCBIb3RzcG90TGluayBmcm9tICcuL0hvdHNwb3RMaW5rJztcclxuaW1wb3J0IEFyZWEgZnJvbSAnLi9BcmVhJztcclxuXHJcbmludGVyZmFjZSBIb3RzcG90TW9kYWxQcm9wcyB7XHJcbiAgICBpbWdzOiBJbWFnZUluZm9bXTtcclxuICAgIGhvdHNwb3RzPzogSG90c3BvdEluZm9bXTtcclxuICAgIGlzTW9kYWxWaXNpYmxlOiBib29sZWFuO1xyXG4gICAgb25DYW5jZWw6ICgpID0+IHZvaWQ7XHJcbiAgICBvbk9rOiAoaG90c3BvdHM6IEhvdHNwb3RJbmZvW10pID0+IHZvaWQ7XHJcbn1cclxuXHJcbmludGVyZmFjZSBIb3RzcG90TW9kYWxTdGF0ZSB7XHJcbiAgICBob3RzcG90czogSG90c3BvdEluZm9bXTtcclxuICAgIGFyZWFzOiBBcmVhSW5mb1tdO1xyXG4gICAgY3VycmVudEFyZWFJbmRleDogbnVtYmVyO1xyXG4gICAgLy8gY29udGFpbmVyT2Zmc2V0WDogbnVtYmVyO1xyXG4gICAgLy8gY29udGFpbmVyT2Zmc2V0WTogbnVtYmVyO1xyXG59XHJcblxyXG5jbGFzcyBIb3RzcG90TW9kYWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SG90c3BvdE1vZGFsUHJvcHMsIEhvdHNwb3RNb2RhbFN0YXRlPiB7XHJcblxyXG4gICAgZHJhZ0V2ZW50OiBhbnk7XHJcbiAgICBkcm9wRXZlbnQ6IGFueTtcclxuICAgIHByaXZhdGUgaW1nQ29udGFpbmVyOiBSZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+ID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IEhvdHNwb3RNb2RhbFByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIGxldCB7IGhvdHNwb3RzIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGlmICghaG90c3BvdHMpIHtcclxuICAgICAgICAgICAgaG90c3BvdHMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29uc3Qge1xyXG4gICAgICAgIC8vICAgICBvZmZzZXRMZWZ0OiBvZmZzZXRYLFxyXG4gICAgICAgIC8vICAgICBvZmZzZXRUb3A6IG9mZnNldFksXHJcbiAgICAgICAgLy8gfSA9IHRoaXMuaW1nQ29udGFpbmVyO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGhvdHNwb3RzLFxyXG4gICAgICAgICAgICBhcmVhczogdGhpcy5ob3RzcG90c1RvQXJlYXMoaG90c3BvdHMpLFxyXG4gICAgICAgICAgICBjdXJyZW50QXJlYUluZGV4OiAtMSwgICAgLy8gLTHooajnpLrlvZPliY3msqHmnInooqvmi5bliqjnmoTng63ljLpcclxuXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmRyYWdFdmVudCA9IGFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZURyYWcpO1xyXG4gICAgICAgIHRoaXMuZHJvcEV2ZW50ID0gYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLmhhbmRsZUVuZERyYXcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuZHJhZ0V2ZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuZHJvcEV2ZW50LnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVN0YXJ0RHJhdyA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBhcmVhczogY3VycmVudEFyZWFzIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGxldCBhcmVhcyA9IGN1cnJlbnRBcmVhcy5zbGljZSgwKTtcclxuICAgICAgICBjb25zdCB0YXJnZXQ6IEhUTUxFbGVtZW50ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgeyBvZmZzZXRUb3AsIG9mZnNldExlZnQgfSA9IHRhcmdldDtcclxuICAgICAgICBsZXQge1xyXG4gICAgICAgICAgICBuYXRpdmVFdmVudDoge1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0WCxcclxuICAgICAgICAgICAgICAgIG9mZnNldFksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSA9IGU7XHJcbiAgICAgICAgb2Zmc2V0WCArPSBvZmZzZXRMZWZ0O1xyXG4gICAgICAgIG9mZnNldFkgKz0gb2Zmc2V0VG9wO1xyXG4gICAgICAgIGFyZWFzLnB1c2goe1xyXG4gICAgICAgICAgICB4OiBvZmZzZXRYLFxyXG4gICAgICAgICAgICB5OiBvZmZzZXRZLFxyXG4gICAgICAgICAgICB3OiAwLFxyXG4gICAgICAgICAgICBoOiAwLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBhcmVhcyxcclxuICAgICAgICAgICAgY3VycmVudEFyZWFJbmRleDogYXJlYXMubGVuZ3RoIC0gMSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVFbmREcmF3ID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgaG90c3BvdHM6IGN1cnJlbnRIb3RzcG90cyxcclxuICAgICAgICAgICAgYXJlYXMsXHJcbiAgICAgICAgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgY29uc3QgaG90c3BvdHM6IEhvdHNwb3RJbmZvW10gPSBhcmVhcy5tYXAoKHYsIGkpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdDogYW55O1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudEhvdHNwb3RzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBjdXJyZW50SG90c3BvdHNbaV07XHJcbiAgICAgICAgICAgICAgICByZXN1bHQuYXJlYSA9IHY7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7ICAvLyDmlrDng63ljLpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQXJlYUxlZ2FsKHYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmVhOiB2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9KS5maWx0ZXIodiA9PiB2KTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY3VycmVudEFyZWFJbmRleDogLTEsXHJcbiAgICAgICAgICAgIGhvdHNwb3RzLFxyXG4gICAgICAgICAgICBhcmVhczogdGhpcy5ob3RzcG90c1RvQXJlYXMoaG90c3BvdHMpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURyYWcgPSAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgY3VycmVudEFyZWFJbmRleCxcclxuICAgICAgICAgICAgYXJlYXM6IGN1cnJlbnRBcmVhcyxcclxuICAgICAgICB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnRBcmVhSW5kZXggPT09IC0xKSB7IHJldHVybjsgfSAgICAvLyDpvKDmoIfmsqHmnInmjInkuItcclxuICAgICAgICBjb25zdCB0YXJnZXQ6IEhUTUxFbGVtZW50ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgLy8gaWYgKHRhcmdldC50YWdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkgIT09ICdpbWcnICYmICF0YXJnZXQuY2xhc3NOYW1lLmluY2x1ZGVzKCdkLWFyZWEnKSkgeyByZXR1cm47IH1cclxuICAgICAgICBjb25zdCB7IG9mZnNldFRvcCwgb2Zmc2V0TGVmdCB9ID0gdGFyZ2V0O1xyXG4gICAgICAgIGxldCB7XHJcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXRYLFxyXG4gICAgICAgICAgICAgICAgb2Zmc2V0WSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9ID0gZTtcclxuICAgICAgICBvZmZzZXRYICs9IG9mZnNldExlZnQ7XHJcbiAgICAgICAgb2Zmc2V0WSArPSBvZmZzZXRUb3A7XHJcbiAgICAgICAgbGV0IGFyZWEgPSBjdXJyZW50QXJlYXNbY3VycmVudEFyZWFJbmRleF07XHJcbiAgICAgICAgbGV0IHtcclxuICAgICAgICAgICAgeDogb3JpZ2luWCxcclxuICAgICAgICAgICAgeTogb3JpZ2luWSxcclxuICAgICAgICB9ID0gYXJlYTtcclxuICAgICAgICBvcmlnaW5YID0gb3JpZ2luWCB8fCAwO1xyXG4gICAgICAgIG9yaWdpblkgPSBvcmlnaW5ZIHx8IDA7XHJcbiAgICAgICAgdGhpcy5ob3RTcG90Q2hhbmdlKGN1cnJlbnRBcmVhSW5kZXgsIE9iamVjdC5hc3NpZ24oe30sIGFyZWEsIHtcclxuICAgICAgICAgICAgdzogb2Zmc2V0WCAtIG9yaWdpblgsXHJcbiAgICAgICAgICAgIGg6IG9mZnNldFkgLSBvcmlnaW5ZLFxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOeDreWMuuWPmOabtOWkhOeQhlxyXG4gICAgICogQHBhcmFtIGluZGV4IOeDreWMuuW6j+WPt1xyXG4gICAgICogQHBhcmFtIGFyZWEg54Ot5Yy65Y+C5pWw5Y+Y5pu05L+h5oGvXHJcbiAgICAgKi9cclxuICAgIGhvdFNwb3RDaGFuZ2UgPSAoaW5kZXg6IG51bWJlciwgYXJlYTogQXJlYUluZm8pID0+IHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIGFyZWFzOiBjdXJyZW50QXJlYXMsXHJcbiAgICAgICAgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgY29uc3QgYXJlYXMgPSBjdXJyZW50QXJlYXMuc2xpY2UoMCk7XHJcbiAgICAgICAgYXJlYXNbaW5kZXhdID0gYXJlYTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgYXJlYXMsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaG90c3BvdHNUb0FyZWFzID0gKGhvdHNwb3RzOiBIb3RzcG90SW5mb1tdKTogQXJlYUluZm9bXSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGhvdHNwb3RzLm1hcCh2ID0+IHYuYXJlYSB8fCB7fSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVySW1ncyA9IChpbWdzOiBJbWFnZUluZm9bXSkgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCByZW5kZXJJbWcgPSAodjogSW1hZ2VJbmZvLCBpOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxpbWdcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2l9XHJcbiAgICAgICAgICAgICAgICAgICAgc3JjPXt2LnVybH1cclxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXt0aGlzLmhhbmRsZVN0YXJ0RHJhd31cclxuICAgICAgICAgICAgICAgICAgICBvbkRyYWdTdGFydD17KGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgICB7aW1ncy5tYXAocmVuZGVySW1nKX1cclxuICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGxpbmtDaGFuZ2UgPSAoaW5kZXg6IG51bWJlciwgdXJsOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBjb25zdCB7IGhvdHNwb3RzOiBjdXJyZW50SG90c3BvdHMgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgbGV0IGhvdHNwb3RzO1xyXG4gICAgICAgIGlmIChjdXJyZW50SG90c3BvdHMgIT09IHVuZGVmaW5lZCAmJiBpbmRleCA8IGN1cnJlbnRIb3RzcG90cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaG90c3BvdHMgPSBjdXJyZW50SG90c3BvdHMubWFwKCh2LCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2LnVybCA9IHVybDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB2O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Ugey8vIOaWsOWinumhuVxyXG4gICAgICAgICAgICBob3RzcG90cyA9IChjdXJyZW50SG90c3BvdHMgfHwgW10pLmNvbmNhdChbeyB1cmwgfV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaG90c3BvdHMsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGlua1JlbW92ZSA9IChpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBob3RzcG90czogY3VycmVudEhvdHNwb3RzIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGNvbnN0IGhvdHNwb3RzID0gY3VycmVudEhvdHNwb3RzLmZpbHRlcigodiwgaSkgPT4gaSAhPT0gaW5kZXgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBob3RzcG90cyxcclxuICAgICAgICAgICAgYXJlYXM6IHRoaXMuaG90c3BvdHNUb0FyZWFzKGhvdHNwb3RzKSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsaW5rVXAgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHRoaXMubW92ZUxpbmsoaW5kZXggLSAxLCBpbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGlua0Rvd24gPSAoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHRoaXMubW92ZUxpbmsoaW5kZXggKyAxLCBpbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZUxpbmsgPSAocHJlSW5kZXg6IG51bWJlciwgY3VySW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGxldCBob3RzcG90czogSG90c3BvdEluZm9bXTtcclxuICAgICAgICBsZXQgdGVtcDogSG90c3BvdEluZm9bXSA9IHRoaXMucHJvcHMuaW1ncy5zbGljZSgwKTsgICAgLy8g5rex5ou36LSdXHJcbiAgICAgICAgbGV0IHRhcmdldDogSG90c3BvdEluZm9bXSA9IHRlbXAuc3BsaWNlKGN1ckluZGV4LCAxKTtcclxuICAgICAgICAvLyDnp7vliLDmnIDliY3pnaJcclxuICAgICAgICBpZiAocHJlSW5kZXggPCAwKSB7XHJcbiAgICAgICAgICAgIGhvdHNwb3RzID0gdGFyZ2V0LmNvbmNhdCh0ZW1wKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0ZW1wLnNwbGljZShwcmVJbmRleCwgMCwgdGFyZ2V0WzBdKTtcclxuICAgICAgICAgICAgaG90c3BvdHMgPSB0ZW1wO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaG90c3BvdHMsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNBcmVhTGVnYWwoYXJlYTogQXJlYUluZm8pIHtcclxuICAgICAgICBjb25zdCB7IHgsIHksIHcsIGggfSA9IGFyZWE7XHJcbiAgICAgICAgaWYgKHcgPT09IHVuZGVmaW5lZCB8fCB3IDwgNTAgfHwgaCA9PT0gdW5kZWZpbmVkIHx8IGggPCA1MCkge1xyXG4gICAgICAgICAgICBtZXNzYWdlLmVycm9yKCfng63ljLrlpKflsI/lv4XpobvlpKfkuo41MCo1MHB4Jyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVySG90c3BvdHMgPSAoaG90c3BvdHM6IEhvdHNwb3RJbmZvW10pID0+IHtcclxuXHJcbiAgICAgICAgY29uc3QgcmVuZGVySXRlbSA9ICh2OiBIb3RzcG90SW5mbywgaTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8SG90c3BvdExpbmtcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2l9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg9e2l9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3YudXJsfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHsgdGhpcy5saW5rQ2hhbmdlKGksIHZhbHVlKTsgfX1cclxuICAgICAgICAgICAgICAgICAgICBvblJlbW92ZT17KCkgPT4geyB0aGlzLmxpbmtSZW1vdmUoaSk7IH19XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICAgIHtob3RzcG90cy5tYXAocmVuZGVySXRlbSl9XHJcbiAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJBcmVhcyA9IChhcmVhczogQXJlYUluZm9bXSkgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCByZW5kZXJBcmVhID0gKHY6IEFyZWFJbmZvLCBpOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgbGV0IHtcclxuICAgICAgICAgICAgICAgIHggPSAwLCB5ID0gMCwgdyA9IDAsIGggPSAwLFxyXG4gICAgICAgICAgICB9ID0gdjtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxBcmVhXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpfVxyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4PXtpfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uUmVtb3ZlPXt0aGlzLmxpbmtSZW1vdmV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaG90U3BvdENoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICB4PXt4fVxyXG4gICAgICAgICAgICAgICAgICAgIHk9e3l9XHJcbiAgICAgICAgICAgICAgICAgICAgdz17d31cclxuICAgICAgICAgICAgICAgICAgICBoPXtofVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgICB7YXJlYXMubWFwKHJlbmRlckFyZWEpfVxyXG4gICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNIb3RzcG90c0xlZ2FsID0gKGhvdHNwb3RzOiBIb3RzcG90SW5mb1tdKTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gaG90c3BvdHMucmVkdWNlKChhY2M6IGFueSwgdiwgaSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYWNjICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHYudXJsID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB1bmRlZmluZWQpO1xyXG4gICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtZXNzYWdlLmVycm9yKGDmgqjov5jmsqHmnInphY3nva7ng63ljLoke3Jlc3VsdCArIDF955qE6ZO+5o6lYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbnVtYmVyVG9QZXJjZW50ID0gKGhvdHNwb3RzOiBIb3RzcG90SW5mb1tdKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGhvdHNwb3RzLm1hcCgoeyBhcmVhID0ge30sIHVybCB9KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgICAgIHVybCxcclxuICAgICAgICAgICAgICAgIGFyZWE6IHtcclxuICAgICAgICAgICAgICAgICAgICB4OiB0cmFuc2Zvcm0oYXJlYS54IHx8IDApLFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IHRyYW5zZm9ybShhcmVhLnkgfHwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgdzogdHJhbnNmb3JtKGFyZWEudyB8fCAwKSxcclxuICAgICAgICAgICAgICAgICAgICBoOiB0cmFuc2Zvcm0oYXJlYS5oIHx8IDApLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB0cmFuc2Zvcm0ocHg6IG51bWJlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLnBhcnNlRmxvYXQoKHB4IC8gNzUwKS50b0ZpeGVkKDMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlT2sgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBob3RzcG90cyB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBpZiAodGhpcy5pc0hvdHNwb3RzTGVnYWwoaG90c3BvdHMpKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHJlc3VsdCA9IHRoaXMubnVtYmVyVG9QZXJjZW50KGhvdHNwb3RzKVxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uT2soaG90c3BvdHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDYW5jZWwgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNhbmNlbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQge1xyXG4gICAgICAgICAgICBpc01vZGFsVmlzaWJsZTogdmlzaWJsZSxcclxuICAgICAgICAgICAgaW1ncyxcclxuICAgICAgICB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCB7IGFyZWFzLCBob3RzcG90cyB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8TW9kYWxcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImQtaG90c3BvdC1tb2RhbFwiXHJcbiAgICAgICAgICAgICAgICB2aXNpYmxlPXt2aXNpYmxlfVxyXG4gICAgICAgICAgICAgICAgdGl0bGU9ezxzcGFuIGNsYXNzTmFtZT1cImQtdGl0bGVcIj7lm77niYfng63ljLo8L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgd2lkdGg9XCI3MCVcIlxyXG4gICAgICAgICAgICAgICAgb25Paz17dGhpcy5oYW5kbGVPa31cclxuICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLmhhbmRsZUNhbmNlbH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImQtaW1ncy1jb250YWluZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZC1pbWdzLXdyYXBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5pbWdDb250YWluZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckltZ3MoaW1ncyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJBcmVhcyhhcmVhcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1ob3RzcG90cy1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVySG90c3BvdHMoaG90c3BvdHMpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSG90c3BvdE1vZGFsOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdhbnRkJztcblxuaW1wb3J0IHsgSW1hZ2VJbmZvLCBIb3RzcG90SW5mbyB9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5pbXBvcnQgSG90c3BvdE1vZGFsIGZyb20gJy4vSG90c3BvdE1vZGFsJztcblxuaW50ZXJmYWNlIEhvdHNwb3RQcm9wcyB7XG4gICAgaW1nczogSW1hZ2VJbmZvW107XG4gICAgaG90c3BvdHM/OiBIb3RzcG90SW5mb1tdO1xuICAgIG9uQ2hhbmdlOiAoaG90c3BvdHM6IEhvdHNwb3RJbmZvW10pID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBIb3RzcG90U3RhdGUge1xuICAgIGlzTW9kYWxWaXNpYmxlOiBib29sZWFuO1xufVxuXG5jbGFzcyBIb3RzcG90IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PEhvdHNwb3RQcm9wcywgSG90c3BvdFN0YXRlPiB7XG4gICAgY29uc3RydWN0b3IocHJvcHM6IEhvdHNwb3RQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBpc01vZGFsVmlzaWJsZTogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY2xvc2VNb2RhbCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc01vZGFsVmlzaWJsZTogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlck1vZGFsID0gKGlzTW9kYWxWaXNpYmxlOiBib29sZWFuKSA9PiB7XG4gICAgICAgIGxldCB7IGltZ3MsIGhvdHNwb3RzLCBvbkNoYW5nZSB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgaG90c3BvdHMgPSBob3RzcG90cyB8fCBbXTtcbiAgICAgICAgcmV0dXJuIChpc01vZGFsVmlzaWJsZSA/XG4gICAgICAgICAgICA8SG90c3BvdE1vZGFsXG4gICAgICAgICAgICAgICAgaW1ncz17aW1nc31cbiAgICAgICAgICAgICAgICBpc01vZGFsVmlzaWJsZT17aXNNb2RhbFZpc2libGV9XG4gICAgICAgICAgICAgICAgaG90c3BvdHM9e2hvdHNwb3RzfVxuICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLmNsb3NlTW9kYWx9XG4gICAgICAgICAgICAgICAgb25Paz17KGhvdHNwb3RzOiBIb3RzcG90SW5mb1tdKSA9PiB7IG9uQ2hhbmdlKGhvdHNwb3RzKTsgdGhpcy5jbG9zZU1vZGFsKCk7IH19XG4gICAgICAgICAgICAvPiA6IG51bGxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBvcGVuTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNNb2RhbFZpc2libGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBpc01vZGFsVmlzaWJsZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJkLWJ0blwiIG9uQ2xpY2s9e3RoaXMub3Blbk1vZGFsfT7lm77niYfng63ljLo8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJNb2RhbChpc01vZGFsVmlzaWJsZSl9XG4gICAgICAgICAgICA8L2RpdiA+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBIb3RzcG90OyIsImltcG9ydCBIb3RzcG90IGZyb20gJy4vSG90c3BvdCc7XG5cbmltcG9ydCAnLi9Ib3RzcG90LnNjc3MnO1xuaW1wb3J0ICcuL0hvdHNwb3RNb2RhbC5zY3NzJztcbmltcG9ydCAnLi9BcmVhLnNjc3MnO1xuXG5leHBvcnQgZGVmYXVsdCBIb3RzcG90OyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5cbmltcG9ydCB7IEltYWdlSG90c3BvdENvbmZEYXRhLCBJbWFnZUluZm8sIEltYWdlSG90c3BvdENvbmZpZ1Byb3BzLCBJbWFnZUhvdHNwb3RDb25maWdTdGF0ZSB9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7IElTdGF0ZSwgSG90c3BvdEluZm8gfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xuaW1wb3J0IEltYWdlR3JvdXAgZnJvbSAnLi4vSW1hZ2VHcm91cCc7XG5pbXBvcnQgSG90c3BvdCBmcm9tICcuLi9Ib3RzcG90JztcblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBJU3RhdGUpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtb2R1bGVDb25maWc6IHN0YXRlLm1vZHVsZUNvbmZpZyxcbiAgICB9O1xufTtcblxuY2xhc3MgSW1hZ2VIb3RzcG90Q29uZmlnIGV4dGVuZHMgQ29tcG9uZW50PEltYWdlSG90c3BvdENvbmZpZ1Byb3BzLCBJbWFnZUhvdHNwb3RDb25maWdTdGF0ZT4ge1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6IEltYWdlSG90c3BvdENvbmZpZ1Byb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgY29uc3QgeyBpbWdzLCBob3RzcG90cyB9ID0gdGhpcy5nZXREYXRhRnJvbVByb3BzKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGltZ3MsXG4gICAgICAgICAgICBob3RzcG90cyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXREYXRhRnJvbVByb3BzKHByb3BzOiBJbWFnZUhvdHNwb3RDb25maWdQcm9wcykge1xuICAgICAgICBsZXQgaW1nczogSW1hZ2VJbmZvW107XG4gICAgICAgIGxldCBob3RzcG90czogSG90c3BvdEluZm9bXTtcbiAgICAgICAgaWYgKHByb3BzLm1vZHVsZURhdGEuY29uZmlnRGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBob3RzcG90cyA9IFtdO1xuICAgICAgICAgICAgaW1ncyA9IFtdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29uZmlnRGF0YTogSW1hZ2VIb3RzcG90Q29uZkRhdGEgPSBwcm9wcy5tb2R1bGVEYXRhLmNvbmZpZ0RhdGE7XG4gICAgICAgICAgICBpbWdzID0gY29uZmlnRGF0YSA/IGNvbmZpZ0RhdGEuaW1ncyB8fCBbXSA6IFtdO1xuICAgICAgICAgICAgaG90c3BvdHMgPSBjb25maWdEYXRhID8gY29uZmlnRGF0YS5ob3RzcG90cyB8fCBbXSA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbWdzLFxuICAgICAgICAgICAgaG90c3BvdHMsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHM6IEltYWdlSG90c3BvdENvbmZpZ1Byb3BzKSB7XG4gICAgICAgIGNvbnN0IHsgaW1ncywgaG90c3BvdHMgfSA9IHRoaXMuZ2V0RGF0YUZyb21Qcm9wcyhuZXh0UHJvcHMpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGltZ3MsXG4gICAgICAgICAgICBob3RzcG90cyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0Q29uZmlnRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGltZ3M6IHRoaXMuc3RhdGUuaW1ncyxcbiAgICAgICAgICAgIGhvdHNwb3RzOiB0aGlzLnN0YXRlLmhvdHNwb3RzLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHRvTW9kdWxlRGF0YShjb25maWdEYXRhOiBJbWFnZUhvdHNwb3RDb25mRGF0YSkge1xuICAgICAgICBjb25zdCB7IG1vZHVsZUNvbmZpZyB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgbW9kdWxlQ29uZmlnLm1vZHVsZURhdGEsIHtcbiAgICAgICAgICAgIGRhdGE6IGNvbmZpZ0RhdGEsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGltYWdlQ2hhbmdlID0gKGltZ3M6IEltYWdlSW5mb1tdKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaW1ncyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaG90c3BvdHNDaGFuZ2UgPSAoaG90c3BvdHM6IEhvdHNwb3RJbmZvW10pID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBob3RzcG90cyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQgeyBpbWdzLCBob3RzcG90cyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgaWYgKGltZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW1ncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImQtdGl0bGVcIj7lm77niYfpgInmi6k8L3A+XG4gICAgICAgICAgICAgICAgPEltYWdlR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgaW1ncz17aW1nc31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhpbWdzOiBJbWFnZUluZm9bXSkgPT4geyB0aGlzLmltYWdlQ2hhbmdlKGltZ3MpOyB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZC10aXRsZVwiPueDreWMuumFjee9rjwvcD5cbiAgICAgICAgICAgICAgICA8SG90c3BvdFxuICAgICAgICAgICAgICAgICAgICBpbWdzPXtpbWdzfVxuICAgICAgICAgICAgICAgICAgICBob3RzcG90cz17aG90c3BvdHN9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhvdHNwb3RzQ2hhbmdlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCB7fSwgdW5kZWZpbmVkLCB7IHdpdGhSZWY6IHRydWUgfSkoSW1hZ2VIb3RzcG90Q29uZmlnKTtcbiIsImltcG9ydCBJbWFnZUhvdHNwb3RDb25maWcgZnJvbSAnLi9JbWFnZUhvdHNwb3RDb25maWcnO1xuaW1wb3J0ICcuL0ltYWdlSG90c3BvdENvbmZpZy5zY3NzJztcbmV4cG9ydCBkZWZhdWx0IEltYWdlSG90c3BvdENvbmZpZzsiLCJpbXBvcnQgKiBhcyAgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgeyBJbnB1dCwgU2xpZGVyIH0gZnJvbSAnYW50ZCc7XHJcbmltcG9ydCB7IElTdGF0ZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbi8vIGltcG9ydCBDb2xvclBpY2tlciBmcm9tICdyYy1jb2xvci1waWNrZXInO1xyXG5jb25zdCB7IFRleHRBcmVhIH0gPSBJbnB1dDtcclxuXHJcbmludGVyZmFjZSBUZXh0Q29uZmlnUHJvcHMge1xyXG4gICAgbW9kdWxlRGF0YTogYW55O1xyXG4gICAgbW9kdWxlQ29uZmlnOiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBUZXh0Q29uZmlnU3RhdGUge1xyXG4gICAgdGV4dDogc3RyaW5nO1xyXG4gICAgZm9udFdlaWdodDogbnVtYmVyO1xyXG4gICAgZm9udFNpemU6IG51bWJlcjtcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbn1cclxuXHJcbmNsYXNzIFRleHRDb25maWcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8VGV4dENvbmZpZ1Byb3BzLCBUZXh0Q29uZmlnU3RhdGU+IHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogVGV4dENvbmZpZ1Byb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIGxldCB7IHRleHQsIGZvbnRTaXplLCBmb250V2VpZ2h0LCBjb2xvciB9ID0gcHJvcHMubW9kdWxlRGF0YS5jb25maWdEYXRhO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHRleHQsXHJcbiAgICAgICAgICAgIGZvbnRTaXplLFxyXG4gICAgICAgICAgICBmb250V2VpZ2h0LFxyXG4gICAgICAgICAgICBjb2xvcixcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzOiBUZXh0Q29uZmlnUHJvcHMpIHtcclxuICAgICAgICBsZXQgeyB0ZXh0LCBmb250U2l6ZSwgZm9udFdlaWdodCwgY29sb3IgfSA9IG5leHRQcm9wcy5tb2R1bGVEYXRhLmNvbmZpZ0RhdGE7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHRleHQsXHJcbiAgICAgICAgICAgIGZvbnRTaXplLFxyXG4gICAgICAgICAgICBmb250V2VpZ2h0LFxyXG4gICAgICAgICAgICBjb2xvcixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb25maWdEYXRhID0gKCkgPT4gdGhpcy5zdGF0ZVxyXG5cclxuICAgIHRvTW9kdWxlRGF0YShjb25maWdEYXRhOiBhbnkpIHtcclxuICAgICAgICBjb25zdCB7IG1vZHVsZUNvbmZpZyB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBPYmplY3QuYXNzaWduKHt9LCBtb2R1bGVDb25maWcubW9kdWxlRGF0YSwge1xyXG4gICAgICAgICAgICBkYXRhOiBjb25maWdEYXRhLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJkLXRpdGxlXCI+5a2X5L2T5aSn5bCPPC9wPlxyXG4gICAgICAgICAgICAgICAgPFNsaWRlclxyXG4gICAgICAgICAgICAgICAgICAgIG1pbj17MTJ9XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4PXs0MH1cclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9ezE0fVxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmZvbnRTaXplfVxyXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGZvbnRTaXplOiBhbnkpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IGZvbnRTaXplIH0pOyB9fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImQtdGl0bGVcIj7lrZfkvZPnspfnu4Y8L3A+XHJcbiAgICAgICAgICAgICAgICA8U2xpZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgbWluPXsxMDB9XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4PXs5MDB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXs0MDB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZm9udFdlaWdodH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGZvbnRXZWlnaHQ6IGFueSkgPT4geyB0aGlzLnNldFN0YXRlKHsgZm9udFdlaWdodCB9KTsgfX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICB7LyogPHAgY2xhc3NOYW1lPVwiZC10aXRsZVwiPuWtl+S9k+minOiJsjwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8Q29sb3JQaWNrZXIgLz5cclxuICAgICAgICAgICAgICAgIDxwIC8+ICovfVxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZC10aXRsZVwiPuaWh+acrOWGheWuuTwvcD5cclxuICAgICAgICAgICAgICAgIDxUZXh0QXJlYVxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi6K+36L6T5YWl5paH5pys5YaF5a65XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50ZXh0fVxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9zaXplXHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyB0ZXh0OiBlLnRhcmdldC52YWx1ZSB9KTsgfX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogSVN0YXRlKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG1vZHVsZUNvbmZpZzogc3RhdGUubW9kdWxlQ29uZmlnLFxyXG4gICAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCB7fSwgdW5kZWZpbmVkLCB7IHdpdGhSZWY6IHRydWUgfSkoVGV4dENvbmZpZyk7XHJcbiIsImltcG9ydCBUZXh0Q29uZmlnIGZyb20gJy4vVGV4dENvbmZpZyc7XG5pbXBvcnQgJy4vVGV4dENvbmZpZy5zY3NzJztcbmV4cG9ydCBkZWZhdWx0IFRleHRDb25maWc7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnYW50ZCc7XG5cbmltcG9ydCBJbWFnZUdyb3VwIGZyb20gJy4uL0ltYWdlR3JvdXAnO1xuaW1wb3J0IHsgSW1hZ2VJbmZvIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcbmltcG9ydCB7IENhcm91c2VsQ29uZmlnUHJvcHMsIENhcm91c2VsQ29uZmlnU3RhdGUgfSBmcm9tICcuL2ludGVyZmFjZSc7XG5cbmNsYXNzIENhcm91c2VsQ29uZmlnIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PENhcm91c2VsQ29uZmlnUHJvcHMsIENhcm91c2VsQ29uZmlnU3RhdGU+IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBDYXJvdXNlbENvbmZpZ1Byb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgY29uc3QgaW1nczogSW1hZ2VJbmZvW10gPSB0aGlzLnByb3BzLm1vZHVsZUNvbmZpZy5tb2R1bGVEYXRhLmRhdGEuaW1ncztcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGltZ3MsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0Q29uZmlnRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGltZ3M6IHRoaXMuc3RhdGUuaW1ncyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0b01vZHVsZURhdGEoY29uZmlnRGF0YTogYW55KSB7XG4gICAgICAgIGNvbnN0IHsgbW9kdWxlQ29uZmlnIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBPYmplY3QuYXNzaWduKHt9LCBtb2R1bGVDb25maWcubW9kdWxlRGF0YSwge1xuICAgICAgICAgICAgZGF0YTogY29uZmlnRGF0YSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgaW1hZ2VDaGFuZ2UgPSAoaW1nczogSW1hZ2VJbmZvW10pID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpbWdzLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGxldCB7IGltZ3MgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmIChpbWdzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGltZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8SW1hZ2VHcm91cFxuICAgICAgICAgICAgICAgICAgICBpbWdzPXtpbWdzfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGltZ3MpID0+IHsgdGhpcy5pbWFnZUNoYW5nZShpbWdzKTsgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGU6IGFueSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIG1vZHVsZUNvbmZpZzogc3RhdGUubW9kdWxlQ29uZmlnLFxuICAgIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywge30sIHVuZGVmaW5lZCwgeyB3aXRoUmVmOiB0cnVlIH0pKENhcm91c2VsQ29uZmlnKTtcbiIsImltcG9ydCBDYXJvdXNlbENvbmZpZyBmcm9tICcuL0Nhcm91c2VsQ29uZmlnJztcbmV4cG9ydCBkZWZhdWx0IENhcm91c2VsQ29uZmlnOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5cclxuaW1wb3J0IHsgSVN0YXRlLCBJbWFnZUluZm8sIElNb2R1bGVEYXRhLCBJTW9kdWxlQ29uZmlnLCBIb3RzcG90SW5mbyB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCBQaWNMaWIgZnJvbSAnLi4vUGljTGliJztcclxuaW1wb3J0IEhvdHNwb3QgZnJvbSAnLi4vSG90c3BvdCc7XHJcblxyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGU6IElTdGF0ZSkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBtb2R1bGVDb25maWc6IHN0YXRlLm1vZHVsZUNvbmZpZyxcclxuICAgIH07XHJcbn07XHJcblxyXG5pbnRlcmZhY2UgTGF5ZXJDb25maWdQcm9wcyB7XHJcbiAgICBtb2R1bGVEYXRhOiBJTW9kdWxlRGF0YTtcclxuICAgIG1vZHVsZUNvbmZpZzogSU1vZHVsZUNvbmZpZztcclxufVxyXG5cclxuaW50ZXJmYWNlIExheWVyQ29uZmlnU3RhdGUge1xyXG4gICAgaW1nVXJsOiBzdHJpbmc7XHJcbiAgICBob3RzcG90czogSG90c3BvdEluZm9bXTtcclxufVxyXG5cclxuY2xhc3MgTGF5ZXJDb25maWcgZXh0ZW5kcyBDb21wb25lbnQ8TGF5ZXJDb25maWdQcm9wcywgTGF5ZXJDb25maWdTdGF0ZT4ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBMYXllckNvbmZpZ1Byb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgbW9kdWxlRGF0YToge1xyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGltZ1VybCxcclxuICAgICAgICAgICAgICAgICAgICBob3RzcG90cyxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gPSBwcm9wcztcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBpbWdVcmwsXHJcbiAgICAgICAgICAgIGhvdHNwb3RzLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPIHByb3BzOkxheWVyQ29uZmlnUHJvcHNcclxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHM6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgbW9kdWxlRGF0YToge1xyXG4gICAgICAgICAgICAgICAgY29uZmlnRGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGltZ1VybCxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gPSBwcm9wcztcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaW1nVXJsLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbmZpZ0RhdGEgPSAoKSA9PiAoe1xyXG4gICAgICAgIGltZ1VybDogdGhpcy5zdGF0ZS5pbWdVcmwsXHJcbiAgICAgICAgaG90c3BvdHM6IHRoaXMuc3RhdGUuaG90c3BvdHMsXHJcbiAgICB9KVxyXG5cclxuICAgIHRvTW9kdWxlRGF0YShjb25maWdEYXRhOiBhbnkpIHtcclxuICAgICAgICBjb25zdCB7IG1vZHVsZUNvbmZpZyB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBPYmplY3QuYXNzaWduKHt9LCBtb2R1bGVDb25maWcubW9kdWxlRGF0YSwge1xyXG4gICAgICAgICAgICBkYXRhOiBjb25maWdEYXRhLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGltZ0NoYW5nZSA9IChpbWdVcmw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpbWdVcmwsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaG90c3BvdHNDaGFuZ2UgPSAoaG90c3BvdHM6IEhvdHNwb3RJbmZvW10pID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaG90c3BvdHMsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCB7IGltZ1VybCwgaG90c3BvdHMgfSA9IHRoaXMuc3RhdGU7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJkLXRpdGxlXCI+5rWu5bGC5Zu+54mH6YCJ5oupPC9wPlxyXG4gICAgICAgICAgICAgICAgPFBpY0xpYlxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17aW1nVXJsfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtpbWdVcmx9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhpbWdVcmwpID0+IHsgdGhpcy5pbWdDaGFuZ2UoaW1nVXJsKSB9fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImQtdGl0bGVcIj7ng63ljLrorr7nva48L3A+XHJcbiAgICAgICAgICAgICAgICA8SG90c3BvdFxyXG4gICAgICAgICAgICAgICAgICAgIGltZ3M9e1t7IHVybDogaW1nVXJsIH1dfVxyXG4gICAgICAgICAgICAgICAgICAgIGhvdHNwb3RzPXtob3RzcG90c31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5ob3RzcG90c0NoYW5nZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCB7fSwgdW5kZWZpbmVkLCB7IHdpdGhSZWY6IHRydWUgfSkoTGF5ZXJDb25maWcpO1xyXG4iLCJpbXBvcnQgTGF5ZXJDb25maWcgZnJvbSAnLi9MYXllckNvbmZpZyc7XG5leHBvcnQgZGVmYXVsdCBMYXllckNvbmZpZzsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuXG5pbXBvcnQgeyBJU3RhdGUsIEltYWdlSW5mbywgSU1vZHVsZURhdGEsIElNb2R1bGVDb25maWcsIEhvdHNwb3RJbmZvIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcbmltcG9ydCBQaWNMaWIgZnJvbSAnLi4vUGljTGliJztcbmltcG9ydCBIb3RzcG90IGZyb20gJy4uL0hvdHNwb3QnO1xuaW1wb3J0IHsgSW5wdXQsIFNlbGVjdCB9IGZyb20gJ2FudGQnO1xuY29uc3QgT3B0aW9uID0gU2VsZWN0Lk9wdGlvbjtcblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBJU3RhdGUpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtb2R1bGVDb25maWc6IHN0YXRlLm1vZHVsZUNvbmZpZyxcbiAgICB9O1xufTtcblxuZW51bSBFSG9yaXpvbnRhbERpciB7XG4gICAgTGVmdCA9IFwibGVmdFwiLFxuICAgIFJpZ2h0ID0gXCJyaWdodFwiLFxufVxuXG5lbnVtIEVWZXJ0aWNhbERpciB7XG4gICAgVG9wID0gXCJ0b3BcIixcbiAgICBCb3R0b20gPSBcImJvdHRvbVwiLFxufVxuXG5lbnVtIFVuaXQge1xuICAgIHBlcmNlbnQgPSBcIiVcIixcbiAgICBweCA9IFwicHhcIixcbn1cblxuaW50ZXJmYWNlIEZpeGVkQ29uZmlnUHJvcHMge1xuICAgIG1vZHVsZURhdGE6IElNb2R1bGVEYXRhO1xuICAgIG1vZHVsZUNvbmZpZzogSU1vZHVsZUNvbmZpZztcbn1cblxuaW50ZXJmYWNlIEZpeGVkQ29uZmlnU3RhdGUge1xuICAgIGltZ1VybDogc3RyaW5nO1xuICAgIGhvdHNwb3RzOiBIb3RzcG90SW5mb1tdO1xuICAgIGhvcml6b250YWw6IHN0cmluZztcbiAgICB2ZXJ0aWNhbDogc3RyaW5nO1xuICAgIHdpZHRoOiBzdHJpbmc7XG4gICAgaG9yaXpvbnRhbERpcjogRUhvcml6b250YWxEaXIuTGVmdCB8IEVIb3Jpem9udGFsRGlyLlJpZ2h0O1xuICAgIHZlcnRpY2FsRGlyOiBFVmVydGljYWxEaXIuVG9wIHwgRVZlcnRpY2FsRGlyLkJvdHRvbTtcbiAgICBob3Jpem9udGFsVW5pdDogVW5pdCxcbiAgICB2ZXJ0aWNhbFVuaXQ6IFVuaXQsXG4gICAgd2lkdGhVbml0OiBVbml0LFxufVxuXG5jbGFzcyBGaXhlZENvbmZpZyBleHRlbmRzIENvbXBvbmVudDxGaXhlZENvbmZpZ1Byb3BzLCBGaXhlZENvbmZpZ1N0YXRlPiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogRml4ZWRDb25maWdQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIG1vZHVsZURhdGE6IHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGltZ1VybCxcbiAgICAgICAgICAgICAgICAgICAgaG90c3BvdHMsXG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWwsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbCxcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbERpcixcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxEaXIsXG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWxVbml0LFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbFVuaXQsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoVW5pdCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gPSBwcm9wcztcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGltZ1VybCxcbiAgICAgICAgICAgIGhvdHNwb3RzLFxuICAgICAgICAgICAgaG9yaXpvbnRhbCxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgdmVydGljYWwsXG4gICAgICAgICAgICBob3Jpem9udGFsRGlyLFxuICAgICAgICAgICAgdmVydGljYWxEaXIsXG4gICAgICAgICAgICBob3Jpem9udGFsVW5pdCxcbiAgICAgICAgICAgIHZlcnRpY2FsVW5pdCxcbiAgICAgICAgICAgIHdpZHRoVW5pdCxcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZ2V0Q29uZmlnRGF0YSA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gICAgfVxuXG4gICAgdG9Nb2R1bGVEYXRhKGNvbmZpZ0RhdGE6IGFueSkge1xuICAgICAgICBjb25zdCB7IG1vZHVsZUNvbmZpZyB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgbW9kdWxlQ29uZmlnLm1vZHVsZURhdGEsIHtcbiAgICAgICAgICAgIGRhdGE6IGNvbmZpZ0RhdGEsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuXG4gICAgaW1nQ2hhbmdlID0gKGltZ1VybDogc3RyaW5nKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaW1nVXJsLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBob3RzcG90c0NoYW5nZSA9IChob3RzcG90czogSG90c3BvdEluZm9bXSkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGhvdHNwb3RzLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGxldCB7IGltZ1VybCxcbiAgICAgICAgICAgIGhvdHNwb3RzLFxuICAgICAgICAgICAgaG9yaXpvbnRhbCxcbiAgICAgICAgICAgIHZlcnRpY2FsLFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBob3Jpem9udGFsRGlyLFxuICAgICAgICAgICAgdmVydGljYWxEaXIsXG4gICAgICAgICAgICBob3Jpem9udGFsVW5pdCxcbiAgICAgICAgICAgIHZlcnRpY2FsVW5pdCxcbiAgICAgICAgICAgIHdpZHRoVW5pdCxcbiAgICAgICAgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgY29uc3QgaG9yaXpvbnRhbEJlZm9yZSA9IChcbiAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2hvcml6b250YWxEaXIgfHwgRUhvcml6b250YWxEaXIuTGVmdH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGhvcml6b250YWxEaXI6IGFueSkgPT4geyB0aGlzLnNldFN0YXRlKHsgaG9yaXpvbnRhbERpciB9KTsgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogOTAgfX0+XG4gICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT17RUhvcml6b250YWxEaXIuTGVmdH0+6Led5bem6L65PC9PcHRpb24+XG4gICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT17RUhvcml6b250YWxEaXIuUmlnaHR9Pui3neWPs+i+uTwvT3B0aW9uPlxuICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgdmVydGljYWxCZWZvcmUgPSAoXG4gICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXt2ZXJ0aWNhbERpciB8fCBFVmVydGljYWxEaXIuQm90dG9tfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmVydGljYWxEaXI6IGFueSkgPT4geyB0aGlzLnNldFN0YXRlKHsgdmVydGljYWxEaXIgfSk7IH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IDkwIH19PlxuICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9e0VWZXJ0aWNhbERpci5Ub3B9Pui3nemhtumDqDwvT3B0aW9uPlxuICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9e0VWZXJ0aWNhbERpci5Cb3R0b219Pui3neW6lemDqDwvT3B0aW9uPlxuICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgaG9yaXpvbnRhbEFmdGVyID0gKFxuICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17aG9yaXpvbnRhbFVuaXQgfHwgVW5pdC5wZXJjZW50fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoaG9yaXpvbnRhbFVuaXQ6IGFueSkgPT4geyB0aGlzLnNldFN0YXRlKHsgaG9yaXpvbnRhbFVuaXQgfSk7IH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IDUwIH19PlxuICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9e1VuaXQucGVyY2VudH0+JTwvT3B0aW9uPlxuICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9e1VuaXQucHh9PnB4PC9PcHRpb24+XG4gICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCB2ZXJ0aWNhbEFmdGVyID0gKFxuICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17dmVydGljYWxVbml0IHx8IFVuaXQucGVyY2VudH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZlcnRpY2FsVW5pdDogYW55KSA9PiB7IHRoaXMuc2V0U3RhdGUoeyB2ZXJ0aWNhbFVuaXQgfSk7IH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IDUwIH19PlxuICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9e1VuaXQucGVyY2VudH0+JTwvT3B0aW9uPlxuICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9e1VuaXQucHh9PnB4PC9PcHRpb24+XG4gICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCB3aWR0aEFmdGVyID0gKFxuICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17d2lkdGhVbml0IHx8IFVuaXQucGVyY2VudH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHdpZHRoVW5pdDogYW55KSA9PiB7IHRoaXMuc2V0U3RhdGUoeyB3aWR0aFVuaXQgfSk7IH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IDUwIH19PlxuICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9e1VuaXQucGVyY2VudH0+JTwvT3B0aW9uPlxuICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9e1VuaXQucHh9PnB4PC9PcHRpb24+XG4gICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgKTtcblxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImQtdGl0bGVcIj7lm77niYfpgInmi6k8L3A+XG4gICAgICAgICAgICAgICAgPFBpY0xpYlxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2ltZ1VybH1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2ltZ1VybH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhpbWdVcmwpID0+IHsgdGhpcy5pbWdDaGFuZ2UoaW1nVXJsKSB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZC10aXRsZVwiPueDreWMuumFjee9rjwvcD5cbiAgICAgICAgICAgICAgICA8SG90c3BvdFxuICAgICAgICAgICAgICAgICAgICBpbWdzPXtbeyB1cmw6IGltZ1VybCB9XX1cbiAgICAgICAgICAgICAgICAgICAgaG90c3BvdHM9e2hvdHNwb3RzfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5ob3RzcG90c0NoYW5nZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImQtdGl0bGVcIj7lrprkvY3kvY3nva48L3A+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17aG9yaXpvbnRhbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4geyB0aGlzLnNldFN0YXRlKHsgaG9yaXpvbnRhbDogZS50YXJnZXQudmFsdWUgfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRvbkJlZm9yZT17aG9yaXpvbnRhbEJlZm9yZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi6K+36L6T5YWl5pWw5a2XXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZG9uQWZ0ZXI9e2hvcml6b250YWxBZnRlcn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogJzEwcHgnIH19PlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2ZXJ0aWNhbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4geyB0aGlzLnNldFN0YXRlKHsgdmVydGljYWw6IGUudGFyZ2V0LnZhbHVlIH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkb25CZWZvcmU9e3ZlcnRpY2FsQmVmb3JlfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLor7fovpPlhaXmlbDlrZdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkb25BZnRlcj17dmVydGljYWxBZnRlcn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogJzEwcHgnIH19PlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt3aWR0aH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4geyB0aGlzLnNldFN0YXRlKHsgd2lkdGg6IGUudGFyZ2V0LnZhbHVlIH0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkb25CZWZvcmU9XCLlrr3luqZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLor7fovpPlhaXmlbDlrZdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkb25BZnRlcj17d2lkdGhBZnRlcn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2ID5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCB7fSwgdW5kZWZpbmVkLCB7IHdpdGhSZWY6IHRydWUgfSkoRml4ZWRDb25maWcpO1xuIiwiaW1wb3J0IEZpeGVkQ29uZmlnIGZyb20gJy4vRml4ZWRDb25maWcnO1xuaW1wb3J0ICcuL0ZpeGVkQ29uZmlnLnNjc3MnO1xuZXhwb3J0IGRlZmF1bHQgRml4ZWRDb25maWc7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgeyBJY29uLCBCdXR0b24gfSBmcm9tICdhbnRkJztcclxuXHJcbmltcG9ydCBVc2VyRGVmaW5lQ29uZmlnIGZyb20gJy4uL1VzZXJEZWZpbmVDb25maWcnO1xyXG5pbXBvcnQgeyBoaWRlQ29uZmlnLCBzYXZlQ29uZmlnUmVxdWVzdCB9IGZyb20gJy4uLy4uL2FjdGlvbnMnO1xyXG5pbXBvcnQgSW1hZ2VIb3RzcG90Q29uZmlnIGZyb20gJy4uL0ltYWdlSG90c3BvdENvbmZpZyc7XHJcbmltcG9ydCBUZXh0Q29uZmlnIGZyb20gJy4uL1RleHRDb25maWcnO1xyXG5pbXBvcnQgQ2Fyb3VzZWxDb25maWcgZnJvbSAnLi4vQ2Fyb3VzZWxDb25maWcnO1xyXG5pbXBvcnQgTGF5ZXJDb25maWcgZnJvbSAnLi4vTGF5ZXJDb25maWcnO1xyXG5pbXBvcnQgRml4ZWRDb25maWcgZnJvbSAnLi4vRml4ZWRDb25maWcnO1xyXG5cclxuaW50ZXJmYWNlIENvbmZpZ0RpYWxvZ1Byb3BzIHtcclxuICAgIG1vZHVsZT86IGFueTtcclxuICAgIG1vZHVsZUNvbmZpZz86IGFueTtcclxuICAgIHNhdmVDb25maWdSZXF1ZXN0OiBhbnk7XHJcbiAgICBoaWRlQ29uZmlnOiBhbnk7XHJcbn1cclxuXHJcbmNsYXNzIENvbmZpZ0RpYWxvZyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxDb25maWdEaWFsb2dQcm9wcywgYW55PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlrZDphY3nva7moYbnu4Tku7blrp7kvotcclxuICAgICAqL1xyXG4gICAgc3ViUmVmOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IENvbmZpZ0RpYWxvZ1Byb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIG1vZHVsZUNvbmZpZzogdGhpcy5wcm9wcy5tb2R1bGVDb25maWcsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnN1YlJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzOiBDb25maWdEaWFsb2dQcm9wcykge1xyXG4gICAgICAgIGNvbnN0IHsgbW9kdWxlQ29uZmlnIH0gPSBuZXh0UHJvcHM7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIG1vZHVsZUNvbmZpZyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTdWJtaXQoKSB7XHJcbiAgICAgICAgY29uc3QgeyBzYXZlQ29uZmlnUmVxdWVzdCB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCBzdWJDb21wID0gdGhpcy5zdWJSZWYuY3VycmVudC5nZXRXcmFwcGVkSW5zdGFuY2UoKTtcclxuICAgICAgICBjb25zdCBjb25maWdEYXRhID0gc3ViQ29tcC5nZXRDb25maWdEYXRhKCk7XHJcbiAgICAgICAgbGV0IG1vZHVsZURhdGEgPSBzdWJDb21wLnRvTW9kdWxlRGF0YShjb25maWdEYXRhKTtcclxuICAgICAgICBtb2R1bGVEYXRhLmNvbmZpZ0RhdGEgPSBjb25maWdEYXRhO1xyXG4gICAgICAgIHNhdmVDb25maWdSZXF1ZXN0KG1vZHVsZURhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclN1YiA9IChtb2R1bGVEYXRhOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCB7IG1vZHVsZVR5cGVJZCB9ID0gbW9kdWxlRGF0YTtcclxuICAgICAgICBzd2l0Y2ggKG1vZHVsZVR5cGVJZCkge1xyXG4gICAgICAgICAgICBjYXNlIDE6IC8vIOiHquWumuS5ieS7o+eggVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDxVc2VyRGVmaW5lQ29uZmlnXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlRGF0YT17bW9kdWxlRGF0YX1cclxuICAgICAgICAgICAgICAgICAgICByZWY9e3RoaXMuc3ViUmVmfVxyXG4gICAgICAgICAgICAgICAgLz47XHJcblxyXG4gICAgICAgICAgICBjYXNlIDI6IC8vIOWbvueJh+eDreWMulxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDxJbWFnZUhvdHNwb3RDb25maWdcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVEYXRhPXttb2R1bGVEYXRhfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5zdWJSZWZ9XHJcbiAgICAgICAgICAgICAgICAvPjtcclxuICAgICAgICAgICAgY2FzZSAzOiAvLyDmloflrZdcclxuICAgICAgICAgICAgICAgIHJldHVybiA8VGV4dENvbmZpZ1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZURhdGE9e21vZHVsZURhdGF9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmPXt0aGlzLnN1YlJlZn1cclxuICAgICAgICAgICAgICAgIC8+O1xyXG4gICAgICAgICAgICBjYXNlIDQ6IC8vIOWbvueJh+i9ruaSrVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDxDYXJvdXNlbENvbmZpZ1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZURhdGE9e21vZHVsZURhdGF9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmPXt0aGlzLnN1YlJlZn1cclxuICAgICAgICAgICAgICAgIC8+O1xyXG4gICAgICAgICAgICBjYXNlIDU6Ly/mta7lsYJcclxuICAgICAgICAgICAgICAgIHJldHVybiA8TGF5ZXJDb25maWdcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVEYXRhPXttb2R1bGVEYXRhfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5zdWJSZWZ9XHJcbiAgICAgICAgICAgICAgICAvPjtcclxuICAgICAgICAgICAgY2FzZSA2OiAvLyDlrprkvY1cclxuICAgICAgICAgICAgICAgIHJldHVybiA8Rml4ZWRDb25maWdcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVEYXRhPXttb2R1bGVEYXRhfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5zdWJSZWZ9XHJcbiAgICAgICAgICAgICAgICAvPjtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiA8ZGl2PuayoeacieaJvuWIsOivpeaooeWdl+eahOmFjee9rumhuTwvZGl2PjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgbW9kdWxlLCBoaWRlQ29uZmlnIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IHsgbW9kdWxlQ29uZmlnIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGxldCBhY3RpdmVNb2R1bGUgPSBtb2R1bGUubW9kdWxlTGlzdC5maWx0ZXIoKHY6IGFueSkgPT4gdi50ZW1wRGF0YSAmJiB2LnRlbXBEYXRhLmlzQWN0aXZlKTtcclxuICAgICAgICBhY3RpdmVNb2R1bGUgPSBhY3RpdmVNb2R1bGUgJiYgYWN0aXZlTW9kdWxlWzBdO1xyXG5cclxuICAgICAgICBpZiAobW9kdWxlQ29uZmlnLmlzVmlzaWFibGUgJiYgYWN0aXZlTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCB0b3AgPSA5MDtcclxuICAgICAgICAgICAgdG9wICs9IGFjdGl2ZU1vZHVsZS50ZW1wRGF0YS50b3AgfHwgMDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgICAgIG1vZHVsZURhdGEsXHJcbiAgICAgICAgICAgICAgICBtb2R1bGVEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlTmFtZSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0gPSBtb2R1bGVDb25maWc7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWNvbmZpZy1kaWFsb2dcIiBzdHlsZT17eyB0b3AgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJkLW1vZHVsZS1uYW1lXCI+e21vZHVsZU5hbWV9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIGNsYXNzTmFtZT1cImQtY2xvc2VcIiB0eXBlPVwiY2xvc2VcIiBvbkNsaWNrPXsoKSA9PiBoaWRlQ29uZmlnKCl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiB0eXBlPVwicXVlc3Rpb24tY2lyY2xlLW9cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVyU3ViKG1vZHVsZURhdGEpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mb290ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBoaWRlQ29uZmlnKCl9PuWPlua2iDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuaGFuZGxlU3VibWl0KCk7IH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIOehruWumlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogYW55KSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG1vZHVsZUNvbmZpZzogc3RhdGUubW9kdWxlQ29uZmlnLFxyXG4gICAgICAgIG1vZHVsZTogc3RhdGUubW9kdWxlLFxyXG4gICAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCB7IGhpZGVDb25maWcsIHNhdmVDb25maWdSZXF1ZXN0IH0pKENvbmZpZ0RpYWxvZyk7XHJcbiIsImltcG9ydCAnLi9Db25maWdEaWFsb2cuc2Nzcyc7XG5pbXBvcnQgQ29uZmlnRGlhbG9nIGZyb20gJy4vQ29uZmlnRGlhbG9nJztcbmV4cG9ydCBkZWZhdWx0IENvbmZpZ0RpYWxvZzsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUF5QkE7QUF4QkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQ3BFQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFFQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFJQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXpGQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQW9GQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQU1BO0FBTUE7QUFDQTtBQUVBOzs7QUNoS0E7QUFDQTtBQUNBO0FBRUE7QUFXQTtBQUVBO0FBQ0E7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUE5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBb0NBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFJQTtBQUNBO0FBR0E7QUFLQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBS0E7QUFHQTtBQUlBO0FBQ0E7QUFFQTs7Ozs7Ozs7O0FDdEhBO0FBRUE7QUFDQTtBQUdBOzs7QUNQQTtBQUVBO0FBVUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFZQTtBQUVBO0FBQ0E7QUFHQTtBQWxFQTtBQW9FQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7Ozs7OztBQzdGQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUNGQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFLQTtBQUtBO0FBT0E7QUFLQTtBQUlBO0FBQ0E7QUFFQTs7O0FDdkRBO0FBQ0E7QUF5QkE7QUFFQTtBQUNBO0FBaUJBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBdERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTBDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBS0E7QUFJQTtBQUVBOztBQUNBO0FBSUE7QUFDQTtBQUVBOzs7QUNoSEE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBa0JBO0FBTUE7QUFDQTtBQUhBO0FBMkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBU0E7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFFQTtBQUNBO0FBU0E7QUFFQTtBQUtBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFZQTtBQUVBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBOVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFrTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtHQTtBQUNBO0FBSUE7QUFDQTtBQVNBO0FBQ0E7QUFJQTtBQUtBO0FBQ0E7QUFHQTtBQU1BO0FBQ0E7QUFFQTs7O0FDdlhBO0FBQ0E7QUFHQTtBQVlBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0JBO0FBQ0E7QUFDQTtBQUNBO0FBNEJBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7OztBQzdEQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7QUNOQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQWdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXpEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBT0E7QUFDQTtBQUVBOzs7Ozs7QUNyR0E7QUFDQTtBQUNBOzs7Ozs7QUNGQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBY0E7QUFFQTtBQUNBO0FBb0JBO0FBbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFDQTtBQVVBO0FBQ0E7QUFRQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUM3RkE7QUFDQTtBQUNBOzs7QUNGQTtBQUNBO0FBR0E7QUFJQTtBQUVBO0FBQ0E7QUFxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUM1REE7QUFDQTs7O0FDREE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUVBO0FBQ0E7QUE2QkE7QUFDQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXBEQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7OztBQ3hHQTtBQUNBOzs7Ozs7QUNEQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFvQkE7QUFFQTtBQUNBO0FBZ0NBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdERBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFlQTtBQUNBO0FBWUE7QUFLQTtBQUNBO0FBSUE7QUFLQTtBQUNBO0FBSUE7QUFLQTtBQUNBO0FBSUE7QUFLQTtBQUNBO0FBSUE7QUFLQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFRQTtBQUNBO0FBVUE7QUFDQTtBQUVBOzs7Ozs7QUM1TkE7QUFDQTtBQUNBOzs7QUNGQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBT0E7QUFDQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUlBO0FBQ0E7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQTNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQVNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUNoSkE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///182\n')},197:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(52);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(20);\n/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_hot_loader__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _db_createStore__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(379);\n/* harmony import */ var _common_script_interceptor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(50);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(37);\n/* harmony import */ var _component_ConfigDialog__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(182);\n/* harmony import */ var _component_ModuleList__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(179);\n/* harmony import */ var _component_ModuleBar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(178);\n/* harmony import */ var _component_ModuleTagList__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(181);\n/* harmony import */ var _component_Canvas__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(45);\n/* harmony import */ var _component_ContextProvider__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(36);\n/* harmony import */ var _component_ModuleNav__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(180);\n/* harmony import */ var _component_TopBar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(89);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Decorate extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.iframeLoaded = () => {\r\n            const { BASE_DATA } = this.context;\r\n            class Iframe extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\r\n                render() {\r\n                    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__[/* Provider */ "a"], { store: _store__WEBPACK_IMPORTED_MODULE_8__[/* default */ "a"] },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_component_ContextProvider__WEBPACK_IMPORTED_MODULE_14__[/* default */ "a"], { BASE_DATA: BASE_DATA },\r\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_component_Canvas__WEBPACK_IMPORTED_MODULE_13__[/* default */ "a"], null))));\r\n                }\r\n            }\r\n            let Node = Object(react_hot_loader__WEBPACK_IMPORTED_MODULE_5__["hot"])(module)(Iframe);\r\n            react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Node, null), window.document.querySelector(\'.J_canvas\').contentWindow.document.querySelector(\'#Container\'));\r\n        };\r\n        this.closePreview = () => {\r\n            window.document.querySelector(\'.J_previewWrap\').classList.remove(\'active\');\r\n            window.document.querySelector(\'.J_previewContainer\').innerHTML = \'\';\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        window.resizeIframe = lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default()(() => {\r\n            const iframeWin = window.document.querySelector(\'.J_canvas\').contentWindow;\r\n            let height = iframeWin.document.body.scrollHeight + \'px\';\r\n            window.document.querySelector(\'iframe.J_canvas\').style.height = height;\r\n        }, 50);\r\n    }\r\n    render() {\r\n        const { username } = this.context.BASE_DATA;\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "cd-main-area J_mainArea" },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "J_topBar" },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_component_TopBar__WEBPACK_IMPORTED_MODULE_16__[/* default */ "a"], { username: username })),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "J_moduleList" },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_component_ModuleList__WEBPACK_IMPORTED_MODULE_10__[/* default */ "a"], null)),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "d-editor-instance-area J_editorInstanceArea" },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "J_moduleTagList" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_component_ModuleTagList__WEBPACK_IMPORTED_MODULE_12__[/* default */ "a"], null)),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "J_ModuleBar" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_component_ModuleBar__WEBPACK_IMPORTED_MODULE_11__[/* default */ "a"], null)),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "J_configDialog" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_component_ConfigDialog__WEBPACK_IMPORTED_MODULE_9__[/* default */ "a"], null)),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "J_moduleNav" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_component_ModuleNav__WEBPACK_IMPORTED_MODULE_15__[/* default */ "a"], null)),\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "cd-iframe-outer-warp" },\r\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "cd-iframe-warp" },\r\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe", { className: "cd-canvas J_canvas", src: "/page/canvas.html", onLoad: this.iframeLoaded })))),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "J_previewWrap" })));\r\n    }\r\n}\r\nDecorate.contextTypes = {\r\n    BASE_DATA: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object\r\n};\r\n/* harmony default export */ __webpack_exports__["a"] = (Object(react_hot_loader__WEBPACK_IMPORTED_MODULE_5__["hot"])(module)(Decorate));\r\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(49)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTk3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9wYWdlL2RlY29yYXRlL0RlY29yYXRlLnRzeD8wNDljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgaG90IH0gZnJvbSAncmVhY3QtaG90LWxvYWRlcic7XG5cbmltcG9ydCAnLi4vLi4vZGIvY3JlYXRlU3RvcmUnO1xuaW1wb3J0ICcuLi8uLi9jb21tb24vc2NyaXB0L2ludGVyY2VwdG9yJztcbmltcG9ydCBzdG9yZSBmcm9tICcuLi8uLi9zdG9yZSc7XG5pbXBvcnQgQ29uZmlnRGlhbG9nIGZyb20gJy4uLy4uL2NvbXBvbmVudC9Db25maWdEaWFsb2cnO1xuaW1wb3J0IE1vZHVsZUxpc3QgZnJvbSAnLi4vLi4vY29tcG9uZW50L01vZHVsZUxpc3QnO1xuaW1wb3J0IE1vZHVsZUJhciBmcm9tICcuLi8uLi9jb21wb25lbnQvTW9kdWxlQmFyJztcbmltcG9ydCBNb2R1bGVUYWdMaXN0IGZyb20gJy4uLy4uL2NvbXBvbmVudC9Nb2R1bGVUYWdMaXN0JztcbmltcG9ydCBDYW52YXMgZnJvbSAnLi4vLi4vY29tcG9uZW50L0NhbnZhcyc7XG5pbXBvcnQgQ29udGV4dFByb3ZpZGVyIGZyb20gJy4uLy4uL2NvbXBvbmVudC9Db250ZXh0UHJvdmlkZXInO1xuaW1wb3J0IE1vZHVsZU5hdiBmcm9tICcuLi8uLi9jb21wb25lbnQvTW9kdWxlTmF2JztcbmltcG9ydCBUb3BiYXIgZnJvbSAnLi4vLi4vY29tcG9uZW50L1RvcEJhcic7XG5cblxuY2xhc3MgRGVjb3JhdGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8YW55LCBhbnk+IHtcblxuICAgIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdFxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBhbnkpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLnJlc2l6ZUlmcmFtZSA9IGRlYm91bmNlKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlmcmFtZVdpbiA9ICh3aW5kb3cgYXMgYW55KS5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuSl9jYW52YXMnKS5jb250ZW50V2luZG93O1xuICAgICAgICAgICAgbGV0IGhlaWdodCA9IGlmcmFtZVdpbi5kb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCArICdweCc7XG4gICAgICAgICAgICAod2luZG93IGFzIGFueSkuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaWZyYW1lLkpfY2FudmFzJykuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB9LCA1MCk7XG4gICAgfVxuXG4gICAgaWZyYW1lTG9hZGVkID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHsgQkFTRV9EQVRBIH0gPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgICAgY2xhc3MgSWZyYW1lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAgICAgICAgIHJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfSA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29udGV4dFByb3ZpZGVyIEJBU0VfREFUQT17QkFTRV9EQVRBfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FudmFzIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NvbnRleHRQcm92aWRlcj5cbiAgICAgICAgICAgICAgICAgICAgPC9Qcm92aWRlcj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IE5vZGUgPSBob3QobW9kdWxlKShJZnJhbWUpO1xuXG4gICAgICAgIFJlYWN0RE9NLnJlbmRlcihcbiAgICAgICAgICAgIDxOb2RlIC8+LFxuICAgICAgICAgICAgKHdpbmRvdyBhcyBhbnkpLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5KX2NhbnZhcycpLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NvbnRhaW5lcicpXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBjbG9zZVByZXZpZXcgPSAoKSA9PiB7XG4gICAgICAgICh3aW5kb3cgYXMgYW55KS5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuSl9wcmV2aWV3V3JhcCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAod2luZG93IGFzIGFueSkuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkpfcHJldmlld0NvbnRhaW5lcicpLmlubmVySFRNTCA9ICcnO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyB1c2VybmFtZSB9ID0gdGhpcy5jb250ZXh0LkJBU0VfREFUQTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2QtbWFpbi1hcmVhIEpfbWFpbkFyZWFcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkpfdG9wQmFyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxUb3BiYXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lPXt1c2VybmFtZX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkpfbW9kdWxlTGlzdFwiPlxuICAgICAgICAgICAgICAgICAgICA8TW9kdWxlTGlzdCAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWVkaXRvci1pbnN0YW5jZS1hcmVhIEpfZWRpdG9ySW5zdGFuY2VBcmVhXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiSl9tb2R1bGVUYWdMaXN0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TW9kdWxlVGFnTGlzdCAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJKX01vZHVsZUJhclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPE1vZHVsZUJhciAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJKX2NvbmZpZ0RpYWxvZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENvbmZpZ0RpYWxvZyAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJKX21vZHVsZU5hdlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPE1vZHVsZU5hdiAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjZC1pZnJhbWUtb3V0ZXItd2FycFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjZC1pZnJhbWUtd2FycFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2QtY2FudmFzIEpfY2FudmFzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVwiL3BhZ2UvY2FudmFzLmh0bWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkxvYWQ9e3RoaXMuaWZyYW1lTG9hZGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2lmcmFtZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkpfcHJldmlld1dyYXBcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgaG90KG1vZHVsZSkoRGVjb3JhdGUpOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFNQTtBQUNBO0FBV0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFFQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFyQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQStCQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVFBO0FBR0E7O0FBcEZBO0FBQ0E7QUFDQTtBQXFGQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///197\n')},274:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjc0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2UvZGVjb3JhdGUvaW5kZXguc2Nzcz9lOWU4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///274\n")},281:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjgxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9Nb2R1bGVOYXYvTW9kdWxlTmF2LnNjc3M/MzkzMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///281\n")},294:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9Nb2R1bGVUYWdMaXN0L01vZHVsZVRhZ0xpc3Quc2Nzcz9jOGUyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///294\n")},296:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9Nb2R1bGVUYWcvTW9kdWxlVGFnLnNjc3M/YzE3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///296\n")},298:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9Nb2R1bGVCYXIvTW9kdWxlQmFyLnNjc3M/YTk2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///298\n")},30:function(module,exports){eval("// dev\r\nmodule.exports = {\r\n    serverAddress: `http://h5editor.cn:8080`,\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb25maWcuanM/YTFiYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBkZXZcclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBzZXJ2ZXJBZGRyZXNzOiBgaHR0cDovL2g1ZWRpdG9yLmNuOjgwODBgLFxyXG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///30\n")},300:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9Nb2R1bGVMaXN0L01vZHVsZUxpc3Quc2Nzcz8zYzQ4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///300\n")},302:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9GaXhlZENvbmZpZy9GaXhlZENvbmZpZy5zY3NzP2E4YmUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///302\n")},309:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9UZXh0Q29uZmlnL1RleHRDb25maWcuc2Nzcz9kZTRhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///309\n")},311:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzExLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9JbWFnZUhvdHNwb3RDb25maWcvSW1hZ2VIb3RzcG90Q29uZmlnLnNjc3M/MGYzMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///311\n")},313:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9Ib3RzcG90L0FyZWEuc2Nzcz84ZTUwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///313\n")},315:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzE1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9Ib3RzcG90L0hvdHNwb3RNb2RhbC5zY3NzP2Y2N2QiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///315\n")},317:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzE3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9Ib3RzcG90L0hvdHNwb3Quc2Nzcz8yNjQzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///317\n")},319:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzE5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9JbWFnZUdyb3VwL0ltYWdlR3JvdXAuc2Nzcz85MzIxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///319\n")},321:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9QaWNMaWIvUGljTGliTW9kYWwuc2Nzcz9lMWZiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///321\n")},323:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9QaWNMaWIvUGljTGliLnNjc3M/NDhjYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///323\n")},340:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9Db25maWdEaWFsb2cvQ29uZmlnRGlhbG9nLnNjc3M/MjkwZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///340\n")},36:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(1);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// CONCATENATED MODULE: ./src/component/ContextProvider/ContextProvider.tsx\n\r\n\r\nclass ContextProvider_ContextProvider extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.BASE_DATA = props.BASE_DATA;\r\n    }\r\n    getChildContext() {\r\n        return {\r\n            BASE_DATA: this.BASE_DATA,\r\n        };\r\n    }\r\n    render() {\r\n        return this.props.children;\r\n    }\r\n}\r\nContextProvider_ContextProvider.childContextTypes = {\r\n    BASE_DATA: prop_types_default.a.object,\r\n};\r\n/* harmony default export */ var component_ContextProvider_ContextProvider = (ContextProvider_ContextProvider);\r\n\n// CONCATENATED MODULE: ./src/component/ContextProvider/index.ts\n\r\n/* harmony default export */ var component_ContextProvider = __webpack_exports__["a"] = (component_ContextProvider_ContextProvider);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9Db250ZXh0UHJvdmlkZXIvQ29udGV4dFByb3ZpZGVyLnRzeD84NjMyIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L0NvbnRleHRQcm92aWRlci9pbmRleC50cz82MjA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5pbXBvcnQgeyBJQkFTRV9EQVRBIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcblxuaW50ZXJmYWNlIElDb250ZXh0UHJvdmlkZXJQcm9wcyB7XG4gICAgQkFTRV9EQVRBOiBJQkFTRV9EQVRBO1xufVxuXG5jbGFzcyBDb250ZXh0UHJvdmlkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SUNvbnRleHRQcm92aWRlclByb3BzLCBhbnk+IHtcblxuICAgIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIEJBU0VfREFUQTogdGhpcy5CQVNFX0RBVEEsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgY2hpbGRDb250ZXh0VHlwZXMgPSB7XG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICB9O1xuXG4gICAgQkFTRV9EQVRBOiBJQkFTRV9EQVRBO1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6IElDb250ZXh0UHJvdmlkZXJQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuQkFTRV9EQVRBID0gcHJvcHMuQkFTRV9EQVRBO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250ZXh0UHJvdmlkZXI7IiwiaW1wb3J0IENvbnRleHRQcm92aWRlciBmcm9tICcuL0NvbnRleHRQcm92aWRlcic7XG5leHBvcnQgZGVmYXVsdCBDb250ZXh0UHJvdmlkZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQVFBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYUE7QUFDQTtBQUNBOztBQWJBO0FBQ0E7QUFDQTtBQWNBOzs7QUNqQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///36\n')},37:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/redux/lib/index.js\nvar lib = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/redux-devtools-extension/index.js\nvar redux_devtools_extension = __webpack_require__(70);\n\n// EXTERNAL MODULE: ./node_modules/redux-thunk/lib/index.js\nvar redux_thunk_lib = __webpack_require__(69);\nvar redux_thunk_lib_default = /*#__PURE__*/__webpack_require__.n(redux_thunk_lib);\n\n// EXTERNAL MODULE: ./src/actions/index.js\nvar actions = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/reducers/configReducer.ts\n\r\n/* harmony default export */ var configReducer = ((state = { isVisiable: false, configData: {} }, action) => {\r\n    switch (action.type) {\r\n        case actions["l" /* SHOW_CONFIG */]:\r\n            {\r\n                const { moduleData } = action;\r\n                const moduleConfig = {\r\n                    isVisiable: true,\r\n                    moduleData,\r\n                };\r\n                const result = moduleConfig;\r\n                return result;\r\n            }\r\n        case actions["e" /* HIDE_CONFIG */]:\r\n            return Object.assign({ isVisiable: false });\r\n        case actions["k" /* SAVE_CONFIG_REQUEST */]:\r\n            const { configData } = action;\r\n            return Object.assign({}, state, {\r\n                configData,\r\n            });\r\n        case actions["a" /* ADD_MODULE */]: {\r\n            const { moduleData } = action;\r\n            const result = Object.assign({}, state, {\r\n                moduleData,\r\n            });\r\n            return result;\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n});\r\n\n// EXTERNAL MODULE: ./src/component/interface.tsx\nvar component_interface = __webpack_require__(73);\n\n// CONCATENATED MODULE: ./src/reducers/moduleReducer.ts\n\r\n\r\n/* harmony default export */ var moduleReducer = ((state = { moduleList: [] }, action) => {\r\n    switch (action.type) {\r\n        case actions["a" /* ADD_MODULE */]:\r\n            {\r\n                const { preModuleId, moduleData } = action;\r\n                // 添加tempData\r\n                moduleData.tempData = {\r\n                    isActive: true,\r\n                };\r\n                let newModuleList;\r\n                if (preModuleId === undefined) {\r\n                    newModuleList = state.moduleList.concat([moduleData]);\r\n                }\r\n                else {\r\n                    const init = [];\r\n                    newModuleList = state.moduleList.reduce((acc, v, i, array) => {\r\n                        acc.push(v);\r\n                        if (v.moduleId === preModuleId) {\r\n                            acc.push(moduleData);\r\n                        }\r\n                        return acc;\r\n                    }, init);\r\n                }\r\n                newModuleList = newModuleList.map(v => {\r\n                    if (v.moduleId === moduleData.moduleId) {\r\n                        v.tempData.isActive = true;\r\n                    }\r\n                    else {\r\n                        v.tempData.isActive = false;\r\n                    }\r\n                    return v;\r\n                });\r\n                const result = Object.assign({}, state, { moduleList: newModuleList });\r\n                return result;\r\n            }\r\n        case actions["i" /* REFRESH_MODULE_LIST */]: //刷新整页\r\n            {\r\n                const { moduleList } = action;\r\n                return {\r\n                    moduleList: moduleList.map((v) => {\r\n                        return Object.assign({}, v, {\r\n                            tempData: {\r\n                                isActive: false,\r\n                                top: 0,\r\n                                height: 0,\r\n                            }\r\n                        });\r\n                    }),\r\n                };\r\n            }\r\n        case actions["j" /* REMOVE_MODULE */]: // 删除模块\r\n            {\r\n                const { moduleId } = action;\r\n                let result;\r\n                if (state.moduleList) {\r\n                    return Object.assign({}, state, {\r\n                        moduleList: state.moduleList.filter(v => v.moduleId !== moduleId)\r\n                    });\r\n                }\r\n                else {\r\n                    return state;\r\n                }\r\n            }\r\n            break;\r\n        case actions["m" /* UPDATE_MODULE */]: //更新模块\r\n            const { moduleData } = action;\r\n            if (moduleData) {\r\n                const { moduleId } = moduleData;\r\n                const result = Object.assign({}, state, {\r\n                    moduleList: state.moduleList.map((v) => {\r\n                        if (v.moduleId === moduleId) {\r\n                            moduleData.tempData = v.tempData; //带上临时数据\r\n                            return moduleData;\r\n                        }\r\n                        else {\r\n                            return v;\r\n                        }\r\n                    })\r\n                });\r\n                return result;\r\n            }\r\n        case actions["d" /* FOCUS_MODULE */]: //聚焦模块\r\n            {\r\n                const { moduleId } = action;\r\n                const result = Object.assign({}, state, {\r\n                    moduleList: state.moduleList.map(v => {\r\n                        v.moduleId === moduleId ?\r\n                            v.tempData = Object.assign({}, v.tempData, { isActive: true }) :\r\n                            v.tempData = Object.assign({}, v.tempData, { isActive: false });\r\n                        return v;\r\n                    })\r\n                });\r\n                return result;\r\n            }\r\n        case actions["h" /* POSITION_MODULE */]: //移动模块\r\n            {\r\n                const { moduleId, preModuleId } = action;\r\n                let { newModuleList, module } = state.moduleList.reduce((acc, v) => {\r\n                    if (v.moduleId === moduleId) {\r\n                        acc.module = v;\r\n                    }\r\n                    else {\r\n                        acc.newModuleList.push(v);\r\n                    }\r\n                    return acc;\r\n                }, ({\r\n                    newModuleList: [],\r\n                    module: undefined,\r\n                }));\r\n                // 如果移到第一个位置\r\n                if (preModuleId === undefined) {\r\n                    newModuleList = [module].concat(newModuleList);\r\n                }\r\n                else {\r\n                    const preModuleIndex = newModuleList.findIndex((v) => v.moduleId === preModuleId);\r\n                    newModuleList.splice(preModuleIndex + 1, 0, module);\r\n                }\r\n                const result = Object.assign({}, state, {\r\n                    moduleList: newModuleList,\r\n                });\r\n                return result;\r\n            }\r\n        case actions["g" /* MODULE_TOP_CHANGE */]: // 模块top值变化\r\n            {\r\n                const { moduleId, top } = action;\r\n                const newModuleList = state.moduleList.map(v => {\r\n                    if (v.moduleId === moduleId) {\r\n                        v.tempData = Object.assign({}, v.tempData, { top });\r\n                    }\r\n                    return v;\r\n                });\r\n                const result = Object.assign({}, state, {\r\n                    moduleList: newModuleList,\r\n                });\r\n                return result;\r\n            }\r\n        case actions["b" /* ALL_MODULE_TOP_CHANGE */]: //  刷新某模块之后所有模块top值\r\n            {\r\n                const { afterModuleId, topChange } = action;\r\n                let shouldChange = false;\r\n                const newModuleList = state.moduleList.reduce((acc, v) => {\r\n                    if (shouldChange === true) {\r\n                        v.tempData.top += topChange;\r\n                    }\r\n                    // 该模块之后的模块top值都要发生变化\r\n                    if (v.moduleId === afterModuleId) {\r\n                        shouldChange = true;\r\n                    }\r\n                    acc.push(v);\r\n                    return acc;\r\n                }, []);\r\n                const result = Object.assign({}, state, {\r\n                    moduleList: newModuleList,\r\n                });\r\n                return result;\r\n            }\r\n        case actions["f" /* MODULE_HEIGHT_CHANGE */]: // 模块height值变化\r\n            {\r\n                const { moduleId, height } = action;\r\n                const newModuleList = state.moduleList.map(v => {\r\n                    if (v.moduleId === moduleId) {\r\n                        v.tempData = Object.assign({}, v.tempData, { height });\r\n                    }\r\n                    return v;\r\n                });\r\n                const result = Object.assign({}, state, {\r\n                    moduleList: newModuleList,\r\n                });\r\n                return result;\r\n            }\r\n        case actions["c" /* COPY_MODULE */]:\r\n            {\r\n                const { prevModuleId, moduleData } = action;\r\n                // 添加tempData\r\n                moduleData.tempData = {\r\n                    isActive: true,\r\n                };\r\n                const newModuleList = state.moduleList.reduce((acc, v) => {\r\n                    acc.push(v);\r\n                    if (v.moduleId === prevModuleId) {\r\n                        acc.push(moduleData);\r\n                    }\r\n                    return acc;\r\n                }, []);\r\n                const result = Object.assign({}, state, {\r\n                    moduleList: newModuleList,\r\n                });\r\n                return result;\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n});\r\n\n// CONCATENATED MODULE: ./src/reducers/index.ts\n\r\n\r\n\r\n/* harmony default export */ var reducers = (Object(lib["combineReducers"])({\r\n    module: moduleReducer,\r\n    moduleConfig: configReducer\r\n}));\r\n\n// EXTERNAL MODULE: ./src/common/script/isServer.ts\nvar isServer = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./src/store/index.ts\n\r\n\r\n\r\n\r\n\r\nconst middleware = [redux_thunk_lib_default.a];\r\nif (false) {}\r\nconst composeEnhancers = Object(redux_devtools_extension["composeWithDevTools"])({\r\n// Specify here name, actionsBlacklist, actionsCreators and other options\r\n});\r\nlet initialState = {};\r\nif (!Object(isServer["a" /* default */])()) {\r\n    initialState = window.__INITIAL_STATE__ || {};\r\n}\r\nconst store = Object(lib["createStore"])(reducers, initialState, composeEnhancers(Object(lib["applyMiddleware"])(...middleware)));\r\n/* harmony default export */ var src_store = __webpack_exports__["a"] = (store);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3JlZHVjZXJzL2NvbmZpZ1JlZHVjZXIudHM/ZmYyZCIsIndlYnBhY2s6Ly8vc3JjL3JlZHVjZXJzL21vZHVsZVJlZHVjZXIudHM/Y2YwYSIsIndlYnBhY2s6Ly8vc3JjL3JlZHVjZXJzL2luZGV4LnRzP2NhNmIiLCJ3ZWJwYWNrOi8vL3NyYy9zdG9yZS9pbmRleC50cz8zMjQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNIT1dfQ09ORklHLCBISURFX0NPTkZJRywgU0FWRV9DT05GSUdfUkVRVUVTVCwgQUREX01PRFVMRSB9IGZyb20gJy4uL2FjdGlvbnMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKHN0YXRlID0geyBpc1Zpc2lhYmxlOiBmYWxzZSwgY29uZmlnRGF0YToge30gfSwgYWN0aW9uOiBhbnkpID0+IHtcclxuXHJcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcbiAgICAgICAgY2FzZSBTSE9XX0NPTkZJRzpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBtb2R1bGVEYXRhIH0gPSBhY3Rpb247XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb2R1bGVDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVEYXRhLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG1vZHVsZUNvbmZpZztcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBjYXNlIEhJREVfQ09ORklHOlxyXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7IGlzVmlzaWFibGU6IGZhbHNlIH0pO1xyXG4gICAgICAgIGNhc2UgU0FWRV9DT05GSUdfUkVRVUVTVDpcclxuICAgICAgICAgICAgY29uc3QgeyBjb25maWdEYXRhIH0gPSBhY3Rpb247XHJcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xyXG4gICAgICAgICAgICAgICAgY29uZmlnRGF0YSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgY2FzZSBBRERfTU9EVUxFOiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbW9kdWxlRGF0YSB9ID0gYWN0aW9uO1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZSwgLi4ue1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZURhdGEsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgIH1cclxufTtcclxuIiwiaW1wb3J0IHsgSVN0YXRlLCBJTW9kdWxlLCBJTW9kdWxlRGF0YSB9IGZyb20gJy4uL2NvbXBvbmVudC9pbnRlcmZhY2UnO1xyXG5pbXBvcnQge1xyXG4gICAgQUREX01PRFVMRSxcclxuICAgIFJFRlJFU0hfTU9EVUxFLFxyXG4gICAgUkVGUkVTSF9NT0RVTEVfTElTVCxcclxuICAgIFJFTU9WRV9NT0RVTEUsXHJcbiAgICBVUERBVEVfTU9EVUxFLFxyXG4gICAgRk9DVVNfTU9EVUxFLFxyXG4gICAgUE9TSVRJT05fTU9EVUxFLFxyXG4gICAgTU9EVUxFX1RPUF9DSEFOR0UsXHJcbiAgICBNT0RVTEVfSEVJR0hUX0NIQU5HRSxcclxuICAgIEFMTF9NT0RVTEVfVE9QX0NIQU5HRSxcclxuICAgIENPUFlfTU9EVUxFLFxyXG59IGZyb20gXCIuLi9hY3Rpb25zXCI7XHJcblxyXG5pbXBvcnQgJy4uL2NvbXBvbmVudC9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBhY2Nlc3MgfSBmcm9tICdmcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCAoc3RhdGU6IElNb2R1bGUgPSB7IG1vZHVsZUxpc3Q6IFtdIH0sIGFjdGlvbjogYW55KSA9PiB7XHJcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcbiAgICAgICAgY2FzZSBBRERfTU9EVUxFOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHByZU1vZHVsZUlkLCBtb2R1bGVEYXRhIH0gPSBhY3Rpb247XHJcbiAgICAgICAgICAgICAgICAvLyDmt7vliqB0ZW1wRGF0YVxyXG4gICAgICAgICAgICAgICAgbW9kdWxlRGF0YS50ZW1wRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3TW9kdWxlTGlzdDtcclxuICAgICAgICAgICAgICAgIGlmIChwcmVNb2R1bGVJZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3TW9kdWxlTGlzdCA9IHN0YXRlLm1vZHVsZUxpc3QuY29uY2F0KFttb2R1bGVEYXRhXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluaXQ6IElNb2R1bGVEYXRhW10gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdNb2R1bGVMaXN0ID0gc3RhdGUubW9kdWxlTGlzdC5yZWR1Y2UoKGFjYywgdjogSU1vZHVsZURhdGEsIGksIGFycmF5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjYy5wdXNoKHYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodi5tb2R1bGVJZCA9PT0gcHJlTW9kdWxlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjYy5wdXNoKG1vZHVsZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgaW5pdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXdNb2R1bGVMaXN0ID0gbmV3TW9kdWxlTGlzdC5tYXAodiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYubW9kdWxlSWQgPT09IG1vZHVsZURhdGEubW9kdWxlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdi50ZW1wRGF0YS5pc0FjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdi50ZW1wRGF0YS5pc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdjtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgbW9kdWxlTGlzdDogbmV3TW9kdWxlTGlzdCB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBjYXNlIFJFRlJFU0hfTU9EVUxFX0xJU1Q6IC8v5Yi35paw5pW06aG1XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbW9kdWxlTGlzdCB9ID0gYWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVMaXN0OiBtb2R1bGVMaXN0Lm1hcCgodjogSU1vZHVsZURhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHYsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICBjYXNlIFJFTU9WRV9NT0RVTEU6IC8vIOWIoOmZpOaooeWdl1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IG1vZHVsZUlkIH0gPSBhY3Rpb247XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLm1vZHVsZUxpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlTGlzdDogc3RhdGUubW9kdWxlTGlzdC5maWx0ZXIodiA9PiB2Lm1vZHVsZUlkICE9PSBtb2R1bGVJZClcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgVVBEQVRFX01PRFVMRTogLy/mm7TmlrDmqKHlnZdcclxuICAgICAgICAgICAgY29uc3QgeyBtb2R1bGVEYXRhIH0gPSBhY3Rpb247XHJcbiAgICAgICAgICAgIGlmIChtb2R1bGVEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IG1vZHVsZUlkIH0gPSBtb2R1bGVEYXRhO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVMaXN0OiBzdGF0ZS5tb2R1bGVMaXN0Lm1hcCgodikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodi5tb2R1bGVJZCA9PT0gbW9kdWxlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZURhdGEudGVtcERhdGEgPSB2LnRlbXBEYXRhOyAvL+W4puS4iuS4tOaXtuaVsOaNrlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZHVsZURhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBjYXNlIEZPQ1VTX01PRFVMRTogLy/ogZrnhKbmqKHlnZdcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBtb2R1bGVJZCB9ID0gYWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVMaXN0OiBzdGF0ZS5tb2R1bGVMaXN0Lm1hcCh2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdi5tb2R1bGVJZCA9PT0gbW9kdWxlSWQgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdi50ZW1wRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHYudGVtcERhdGEsIHsgaXNBY3RpdmU6IHRydWUgfSkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdi50ZW1wRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHYudGVtcERhdGEsIHsgaXNBY3RpdmU6IGZhbHNlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgUE9TSVRJT05fTU9EVUxFOiAvL+enu+WKqOaooeWdl1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IG1vZHVsZUlkLCBwcmVNb2R1bGVJZCB9ID0gYWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgbGV0IHsgbmV3TW9kdWxlTGlzdCwgbW9kdWxlIH0gPSBzdGF0ZS5tb2R1bGVMaXN0LnJlZHVjZSgoYWNjLCB2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYubW9kdWxlSWQgPT09IG1vZHVsZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjYy5tb2R1bGUgPSB2O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjYy5uZXdNb2R1bGVMaXN0LnB1c2godik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICB9LCAoe1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld01vZHVsZUxpc3Q6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgfSkgYXMgYW55KTtcclxuICAgICAgICAgICAgICAgIC8vIOWmguaenOenu+WIsOesrOS4gOS4quS9jee9rlxyXG4gICAgICAgICAgICAgICAgaWYgKHByZU1vZHVsZUlkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdNb2R1bGVMaXN0ID0gW21vZHVsZV0uY29uY2F0KG5ld01vZHVsZUxpc3QpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVNb2R1bGVJbmRleCA9IG5ld01vZHVsZUxpc3QuZmluZEluZGV4KCh2OiBJTW9kdWxlRGF0YSkgPT4gdi5tb2R1bGVJZCA9PT0gcHJlTW9kdWxlSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld01vZHVsZUxpc3Quc3BsaWNlKHByZU1vZHVsZUluZGV4ICsgMSwgMCwgbW9kdWxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlTGlzdDogbmV3TW9kdWxlTGlzdCxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBNT0RVTEVfVE9QX0NIQU5HRTogLy8g5qih5Z2XdG9w5YC85Y+Y5YyWXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbW9kdWxlSWQsIHRvcCB9ID0gYWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TW9kdWxlTGlzdCA9IHN0YXRlLm1vZHVsZUxpc3QubWFwKHYgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2Lm1vZHVsZUlkID09PSBtb2R1bGVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2LnRlbXBEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdi50ZW1wRGF0YSwgeyB0b3AgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2O1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlTGlzdDogbmV3TW9kdWxlTGlzdCxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBBTExfTU9EVUxFX1RPUF9DSEFOR0U6Ly8gIOWIt+aWsOafkOaooeWdl+S5i+WQjuaJgOacieaooeWdl3RvcOWAvFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGFmdGVyTW9kdWxlSWQsIHRvcENoYW5nZSB9ID0gYWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNob3VsZENoYW5nZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TW9kdWxlTGlzdCA9IHN0YXRlLm1vZHVsZUxpc3QucmVkdWNlKChhY2M6IElNb2R1bGVEYXRhW10sIHY6IElNb2R1bGVEYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNob3VsZENoYW5nZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2LnRlbXBEYXRhLnRvcCArPSB0b3BDaGFuZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOivpeaooeWdl+S5i+WQjueahOaooeWdl3RvcOWAvOmDveimgeWPkeeUn+WPmOWMllxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2Lm1vZHVsZUlkID09PSBhZnRlck1vZHVsZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZENoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGFjYy5wdXNoKHYpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICB9LCBbXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZUxpc3Q6IG5ld01vZHVsZUxpc3QsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBjYXNlIE1PRFVMRV9IRUlHSFRfQ0hBTkdFOiAvLyDmqKHlnZdoZWlnaHTlgLzlj5jljJZcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBtb2R1bGVJZCwgaGVpZ2h0IH0gPSBhY3Rpb247XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdNb2R1bGVMaXN0ID0gc3RhdGUubW9kdWxlTGlzdC5tYXAodiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYubW9kdWxlSWQgPT09IG1vZHVsZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHYudGVtcERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB2LnRlbXBEYXRhLCB7IGhlaWdodCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVMaXN0OiBuZXdNb2R1bGVMaXN0LFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBjYXNlIENPUFlfTU9EVUxFOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHByZXZNb2R1bGVJZCwgbW9kdWxlRGF0YSB9ID0gYWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgLy8g5re75YqgdGVtcERhdGFcclxuICAgICAgICAgICAgICAgIG1vZHVsZURhdGEudGVtcERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TW9kdWxlTGlzdCA9IHN0YXRlLm1vZHVsZUxpc3QucmVkdWNlKChhY2M6IElNb2R1bGVEYXRhW10sIHY6IElNb2R1bGVEYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWNjLnB1c2godik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYubW9kdWxlSWQgPT09IHByZXZNb2R1bGVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2MucHVzaChtb2R1bGVEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgICAgIH0sIFtdKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlTGlzdDogbmV3TW9kdWxlTGlzdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IGNvbWJpbmVSZWR1Y2VycyB9IGZyb20gJ3JlZHV4JztcblxuaW1wb3J0IG1vZHVsZUNvbmZpZyBmcm9tICcuL2NvbmZpZ1JlZHVjZXInO1xuaW1wb3J0IG1vZHVsZSBmcm9tIFwiLi9tb2R1bGVSZWR1Y2VyXCI7XG5cblxuZXhwb3J0IGRlZmF1bHQgY29tYmluZVJlZHVjZXJzKHtcbiAgICBtb2R1bGUsXG4gICAgbW9kdWxlQ29uZmlnXG59KSIsImltcG9ydCB7IGNyZWF0ZVN0b3JlLCBhcHBseU1pZGRsZXdhcmUsIGNvbXBvc2UgfSBmcm9tICdyZWR1eCc7XHJcbmltcG9ydCB7IGNvbXBvc2VXaXRoRGV2VG9vbHMgfSBmcm9tICdyZWR1eC1kZXZ0b29scy1leHRlbnNpb24nO1xyXG5pbXBvcnQgdGh1bmsgZnJvbSAncmVkdXgtdGh1bmsnO1xyXG5pbXBvcnQgeyBjcmVhdGVMb2dnZXIgfSBmcm9tICdyZWR1eC1sb2dnZXInXHJcblxyXG5pbXBvcnQgcmVkdWNlciBmcm9tICcuLi9yZWR1Y2Vycyc7XHJcbmltcG9ydCBpc1NlcnZlciBmcm9tICcuLi9jb21tb24vc2NyaXB0L2lzU2VydmVyJztcclxuXHJcbmNvbnN0IG1pZGRsZXdhcmUgPSBbdGh1bmtdXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAvLyBtaWRkbGV3YXJlLnB1c2goY3JlYXRlTG9nZ2VyKCkpXHJcbn1cclxuY29uc3QgY29tcG9zZUVuaGFuY2VycyA9IGNvbXBvc2VXaXRoRGV2VG9vbHMoe1xyXG4gICAgLy8gU3BlY2lmeSBoZXJlIG5hbWUsIGFjdGlvbnNCbGFja2xpc3QsIGFjdGlvbnNDcmVhdG9ycyBhbmQgb3RoZXIgb3B0aW9uc1xyXG59KTtcclxuXHJcbmxldCBpbml0aWFsU3RhdGUgPSB7fTtcclxuaWYgKCFpc1NlcnZlcigpKSB7XHJcbiAgICBpbml0aWFsU3RhdGUgPSAod2luZG93IGFzIGFueSkuX19JTklUSUFMX1NUQVRFX18gfHwge307XHJcbn1cclxuXHJcbmNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBjb21wb3NlRW5oYW5jZXJzKFxyXG4gICAgYXBwbHlNaWRkbGV3YXJlKC4uLm1pZGRsZXdhcmUpLFxyXG4gICAgLy8gb3RoZXIgc3RvcmUgZW5oYW5jZXJzIGlmIGFueVxyXG4pKTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBzdG9yZTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDakNBO0FBY0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDN01BO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNUQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQSxhQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///37\n')},378:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _db_dbConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(72);\n/* harmony import */ var idb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(105);\n/* harmony import */ var idb__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(idb__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/**\n * 初始化模块名称\n */\nlet initModuleName = (() => {\n    var _ref = _asyncToGenerator(function* () {\n\n        const data = [{\n            moduleTypeId: 1,\n            moduleName: '自定义代码'\n        }, {\n            moduleTypeId: 2,\n            moduleName: '图片热区'\n        }, {\n            moduleTypeId: 3,\n            moduleName: '文字'\n        }, {\n            moduleTypeId: 4,\n            moduleName: '图片轮播'\n        }];\n\n        const StoreName = `moduleName`;\n        const db = yield idb__WEBPACK_IMPORTED_MODULE_1___default.a.open(_db_dbConfig__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].Name);\n\n        const Store = db.transaction(StoreName, 'readwrite').objectStore(StoreName);\n\n        data.forEach(function (v) {\n            Store.add(v);\n        });\n    });\n\n    return function initModuleName() {\n        return _ref.apply(this, arguments);\n    };\n})();\n\n/**\n * 初始化页面\n */\nlet initPage = (() => {\n    var _ref2 = _asyncToGenerator(function* () {\n\n        const data = [{\n            pageId: 1,\n            pageName: '测试页面'\n        }];\n\n        const StoreName = `page`;\n        const db = yield idb__WEBPACK_IMPORTED_MODULE_1___default.a.open(_db_dbConfig__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].Name);\n        const Store = db.transaction(StoreName, 'readwrite').objectStore(StoreName);\n\n        data.forEach(function (v) {\n            Store.add(v);\n        });\n    });\n\n    return function initPage() {\n        return _ref2.apply(this, arguments);\n    };\n})();\n\n(function () {\n    var enterModule = __webpack_require__(20).enterModule;\n\n    enterModule && enterModule(module);\n})();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n\n\nwindow.initModuleName = initModuleName;\n\nwindow.initPage = initPage;\n\nfunction init() {\n    const initFuns = [initModuleName, initPage];\n    initFuns.forEach(v => {\n        try {\n            v();\n        } catch (e) {\n            console.log(e);\n        }\n    });\n}\n\nconst _default = init;\n/* unused harmony default export */ var _unused_webpack_default_export = (_default);\n;\n\n(function () {\n    var reactHotLoader = __webpack_require__(20).default;\n\n    var leaveModule = __webpack_require__(20).leaveModule;\n\n    if (!reactHotLoader) {\n        return;\n    }\n\n    reactHotLoader.register(initModuleName, 'initModuleName', 'D:/Project/NaEditor/src/db/dataInitial.js');\n    reactHotLoader.register(initPage, 'initPage', 'D:/Project/NaEditor/src/db/dataInitial.js');\n    reactHotLoader.register(init, 'init', 'D:/Project/NaEditor/src/db/dataInitial.js');\n    reactHotLoader.register(_default, 'default', 'D:/Project/NaEditor/src/db/dataInitial.js');\n    leaveModule(module);\n})();\n\n;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(49)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9kYi9kYXRhSW5pdGlhbC5qcz8wMmFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEQiBmcm9tICcuLi9kYi9kYkNvbmZpZyc7XG5pbXBvcnQgaWRiIGZyb20gJ2lkYic7XG5cbi8qKlxuICog5Yid5aeL5YyW5qih5Z2X5ZCN56ewXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGluaXRNb2R1bGVOYW1lKCkge1xuXG4gICAgY29uc3QgZGF0YSA9IFt7XG4gICAgICAgIG1vZHVsZVR5cGVJZDogMSxcbiAgICAgICAgbW9kdWxlTmFtZTogJ+iHquWumuS5ieS7o+eggScsXG4gICAgfSwge1xuICAgICAgICBtb2R1bGVUeXBlSWQ6IDIsXG4gICAgICAgIG1vZHVsZU5hbWU6ICflm77niYfng63ljLonLFxuICAgIH0sIHtcbiAgICAgICAgbW9kdWxlVHlwZUlkOiAzLFxuICAgICAgICBtb2R1bGVOYW1lOiAn5paH5a2XJyxcbiAgICB9LCB7XG4gICAgICAgIG1vZHVsZVR5cGVJZDogNCxcbiAgICAgICAgbW9kdWxlTmFtZTogJ+WbvueJh+i9ruaSrScsXG4gICAgfV07XG5cbiAgICBjb25zdCBTdG9yZU5hbWUgPSBgbW9kdWxlTmFtZWA7XG4gICAgY29uc3QgZGIgPSBhd2FpdCBpZGIub3BlbihEQi5OYW1lKTtcblxuICAgIGNvbnN0IFN0b3JlID0gZGIudHJhbnNhY3Rpb24oU3RvcmVOYW1lLCAncmVhZHdyaXRlJykub2JqZWN0U3RvcmUoU3RvcmVOYW1lKTtcblxuICAgIGRhdGEuZm9yRWFjaCh2ID0+IHtcbiAgICAgICAgU3RvcmUuYWRkKHYpO1xuICAgIH0pXG59XG53aW5kb3cuaW5pdE1vZHVsZU5hbWUgPSBpbml0TW9kdWxlTmFtZTtcblxuXG4vKipcbiAqIOWIneWni+WMlumhtemdolxuICovXG5hc3luYyBmdW5jdGlvbiBpbml0UGFnZSgpIHtcblxuICAgIGNvbnN0IGRhdGEgPSBbe1xuICAgICAgICBwYWdlSWQ6IDEsXG4gICAgICAgIHBhZ2VOYW1lOiAn5rWL6K+V6aG16Z2iJ1xuICAgIH1dO1xuXG4gICAgY29uc3QgU3RvcmVOYW1lID0gYHBhZ2VgO1xuICAgIGNvbnN0IGRiID0gYXdhaXQgaWRiLm9wZW4oREIuTmFtZSk7XG4gICAgY29uc3QgU3RvcmUgPSBkYi50cmFuc2FjdGlvbihTdG9yZU5hbWUsICdyZWFkd3JpdGUnKS5vYmplY3RTdG9yZShTdG9yZU5hbWUpO1xuXG4gICAgZGF0YS5mb3JFYWNoKHYgPT4ge1xuICAgICAgICBTdG9yZS5hZGQodik7XG4gICAgfSlcbn1cblxud2luZG93LmluaXRQYWdlID0gaW5pdFBhZ2U7XG5cblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBjb25zdCBpbml0RnVucyA9IFtpbml0TW9kdWxlTmFtZSwgaW5pdFBhZ2VdO1xuICAgIGluaXRGdW5zLmZvckVhY2godiA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2KCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5cblxuZXhwb3J0IGRlZmF1bHQgaW5pdDsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBR0E7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBekJBOzs7OztBQTRCQTs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZkE7Ozs7Ozs7Ozs7Ozs7QUFyQ0E7QUFDQTtBQThCQTtBQUNBO0FBcUJBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTs7Ozs7Ozs7Ozs7O0FBL0RBO0FBK0JBO0FBbUJBOzs7Ozs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///378\n")},379:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var idb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(105);\n/* harmony import */ var idb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(idb__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _db_dbConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(72);\n/* harmony import */ var _dataInitial__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(378);\nlet updateModule = (() => {\n    var _ref = _asyncToGenerator(function* (db) {\n\n        // const data = [{\n        //     moduleTypeId: 1,\n        //     moduleName: '自定321义代码模块',\n        //     data: {\n        //         code: `<style>div{color:red;}</style>\n        //         <div class=\"a\">dsf</div>`\n        //     }\n        // }, {\n        //     moduleTypeId: 2,\n        //     moduleName: '图片热区模块',\n        //     data: {\n        //         imgSrc: `https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=2141015511,3653211916&fm=58&bpow=400&bpoh=400`\n        //     }\n        // }]\n\n        const StoreName = 'module';\n        if (!Array.from(db.objectStoreNames).includes(StoreName)) {\n            const objectStore = db.createObjectStore(StoreName, { keyPath: \"moduleId\", autoIncrement: true });\n            objectStore.createIndex('moduleName', 'moduleName', { unique: false });\n            objectStore.createIndex('moduleTypeId', 'moduleTypeId', { unique: false });\n        }\n    });\n\n    return function updateModule(_x) {\n        return _ref.apply(this, arguments);\n    };\n})();\n\nlet updatePage = (() => {\n    var _ref2 = _asyncToGenerator(function* (db) {\n        const StoreName = 'page';\n        if (!Array.from(db.objectStoreNames).includes(StoreName)) {\n            const objectStore = db.createObjectStore(StoreName, { keyPath: \"pageId\", autoIncrement: true });\n            objectStore.createIndex('pageName', 'pageName', { unique: false });\n        }\n    });\n\n    return function updatePage(_x2) {\n        return _ref2.apply(this, arguments);\n    };\n})();\n\n(function () {\n    var enterModule = __webpack_require__(20).enterModule;\n\n    enterModule && enterModule(module);\n})();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n\n\n\n\nconst DB_VERSION = _db_dbConfig__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].Version;\n\nvar DBOpenRequest = window.indexedDB.open(_db_dbConfig__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].Name, DB_VERSION);\n\nDBOpenRequest.onupgradeneeded = e => {\n    const db = e.target.result;\n    const func = [updateModuleName, updateModule, updatePage];\n    func.forEach(func => {\n        try {\n            func(db);\n        } catch (e) {\n            console.log(e);\n        }\n    });\n};\n\nfunction updateModuleName(db) {\n    // const data = [{\n    //     moduleName: '自定义代码',\n    // }, {\n    //     moduleName: '图片热区',\n    // }];\n\n    const StoreName = 'moduleName';\n    if (!Array.from(db.objectStoreNames).includes(StoreName)) {\n        const objectStore = db.createObjectStore(StoreName, { keyPath: \"moduleTypeId\", autoIncrement: true });\n        objectStore.createIndex('moduleTypeId', 'moduleTypeId', { unique: true });\n        objectStore.createIndex('moduleName', 'moduleName', { unique: false });\n    }\n\n    // data.forEach(v => {\n    //     objectStore.add(v);\n    // })\n}\n\n;\n\n(function () {\n    var reactHotLoader = __webpack_require__(20).default;\n\n    var leaveModule = __webpack_require__(20).leaveModule;\n\n    if (!reactHotLoader) {\n        return;\n    }\n\n    reactHotLoader.register(DB_VERSION, 'DB_VERSION', 'D:/Project/NaEditor/src/db/createStore.js');\n    reactHotLoader.register(DBOpenRequest, 'DBOpenRequest', 'D:/Project/NaEditor/src/db/createStore.js');\n    reactHotLoader.register(updateModuleName, 'updateModuleName', 'D:/Project/NaEditor/src/db/createStore.js');\n    reactHotLoader.register(updateModule, 'updateModule', 'D:/Project/NaEditor/src/db/createStore.js');\n    reactHotLoader.register(updatePage, 'updatePage', 'D:/Project/NaEditor/src/db/createStore.js');\n    leaveModule(module);\n})();\n\n;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(49)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9kYi9jcmVhdGVTdG9yZS5qcz9hOTY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpZGIgZnJvbSAnaWRiJztcbmltcG9ydCBEQiBmcm9tICcuLi9kYi9kYkNvbmZpZyc7XG5pbXBvcnQgJy4vZGF0YUluaXRpYWwnO1xuXG5jb25zdCBEQl9WRVJTSU9OID0gREIuVmVyc2lvbjtcblxuXG52YXIgREJPcGVuUmVxdWVzdCA9IHdpbmRvdy5pbmRleGVkREIub3BlbihEQi5OYW1lLCBEQl9WRVJTSU9OKTtcblxuREJPcGVuUmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoZSkgPT4ge1xuICAgIGNvbnN0IGRiID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGNvbnN0IGZ1bmMgPSBbdXBkYXRlTW9kdWxlTmFtZSwgdXBkYXRlTW9kdWxlLCB1cGRhdGVQYWdlXTtcbiAgICBmdW5jLmZvckVhY2goZnVuYyA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmdW5jKGRiKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5cbmZ1bmN0aW9uIHVwZGF0ZU1vZHVsZU5hbWUoZGIpIHtcbiAgICAvLyBjb25zdCBkYXRhID0gW3tcbiAgICAvLyAgICAgbW9kdWxlTmFtZTogJ+iHquWumuS5ieS7o+eggScsXG4gICAgLy8gfSwge1xuICAgIC8vICAgICBtb2R1bGVOYW1lOiAn5Zu+54mH54Ot5Yy6JyxcbiAgICAvLyB9XTtcblxuICAgIGNvbnN0IFN0b3JlTmFtZSA9ICdtb2R1bGVOYW1lJztcbiAgICBpZiAoIUFycmF5LmZyb20oZGIub2JqZWN0U3RvcmVOYW1lcykuaW5jbHVkZXMoU3RvcmVOYW1lKSkge1xuICAgICAgICBjb25zdCBvYmplY3RTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKFN0b3JlTmFtZSwgeyBrZXlQYXRoOiBcIm1vZHVsZVR5cGVJZFwiLCBhdXRvSW5jcmVtZW50OiB0cnVlIH0pO1xuICAgICAgICBvYmplY3RTdG9yZS5jcmVhdGVJbmRleCgnbW9kdWxlVHlwZUlkJywgJ21vZHVsZVR5cGVJZCcsIHsgdW5pcXVlOiB0cnVlIH0pO1xuICAgICAgICBvYmplY3RTdG9yZS5jcmVhdGVJbmRleCgnbW9kdWxlTmFtZScsICdtb2R1bGVOYW1lJywgeyB1bmlxdWU6IGZhbHNlIH0pO1xuICAgIH1cblxuICAgIC8vIGRhdGEuZm9yRWFjaCh2ID0+IHtcbiAgICAvLyAgICAgb2JqZWN0U3RvcmUuYWRkKHYpO1xuICAgIC8vIH0pXG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU1vZHVsZShkYikge1xuXG4gICAgLy8gY29uc3QgZGF0YSA9IFt7XG4gICAgLy8gICAgIG1vZHVsZVR5cGVJZDogMSxcbiAgICAvLyAgICAgbW9kdWxlTmFtZTogJ+iHquWumjMyMeS5ieS7o+eggeaooeWdlycsXG4gICAgLy8gICAgIGRhdGE6IHtcbiAgICAvLyAgICAgICAgIGNvZGU6IGA8c3R5bGU+ZGl2e2NvbG9yOnJlZDt9PC9zdHlsZT5cbiAgICAvLyAgICAgICAgIDxkaXYgY2xhc3M9XCJhXCI+ZHNmPC9kaXY+YFxuICAgIC8vICAgICB9XG4gICAgLy8gfSwge1xuICAgIC8vICAgICBtb2R1bGVUeXBlSWQ6IDIsXG4gICAgLy8gICAgIG1vZHVsZU5hbWU6ICflm77niYfng63ljLrmqKHlnZcnLFxuICAgIC8vICAgICBkYXRhOiB7XG4gICAgLy8gICAgICAgICBpbWdTcmM6IGBodHRwczovL3NzMC5iYWlkdS5jb20vNk9OV3NqaXAwUUlaOHR5aG5xL2l0L3U9MjE0MTAxNTUxMSwzNjUzMjExOTE2JmZtPTU4JmJwb3c9NDAwJmJwb2g9NDAwYFxuICAgIC8vICAgICB9XG4gICAgLy8gfV1cblxuICAgIGNvbnN0IFN0b3JlTmFtZSA9ICdtb2R1bGUnO1xuICAgIGlmICghQXJyYXkuZnJvbShkYi5vYmplY3RTdG9yZU5hbWVzKS5pbmNsdWRlcyhTdG9yZU5hbWUpKSB7XG4gICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoU3RvcmVOYW1lLCB7IGtleVBhdGg6IFwibW9kdWxlSWRcIiwgYXV0b0luY3JlbWVudDogdHJ1ZSB9KTtcbiAgICAgICAgb2JqZWN0U3RvcmUuY3JlYXRlSW5kZXgoJ21vZHVsZU5hbWUnLCAnbW9kdWxlTmFtZScsIHsgdW5pcXVlOiBmYWxzZSB9KTtcbiAgICAgICAgb2JqZWN0U3RvcmUuY3JlYXRlSW5kZXgoJ21vZHVsZVR5cGVJZCcsICdtb2R1bGVUeXBlSWQnLCB7IHVuaXF1ZTogZmFsc2UgfSk7XG4gICAgfVxuXG5cbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlUGFnZShkYikge1xuICAgIGNvbnN0IFN0b3JlTmFtZSA9ICdwYWdlJztcbiAgICBpZiAoIUFycmF5LmZyb20oZGIub2JqZWN0U3RvcmVOYW1lcykuaW5jbHVkZXMoU3RvcmVOYW1lKSkge1xuICAgICAgICBjb25zdCBvYmplY3RTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKFN0b3JlTmFtZSwgeyBrZXlQYXRoOiBcInBhZ2VJZFwiLCBhdXRvSW5jcmVtZW50OiB0cnVlIH0pO1xuICAgICAgICBvYmplY3RTdG9yZS5jcmVhdGVJbmRleCgncGFnZU5hbWUnLCAncGFnZU5hbWUnLCB7IHVuaXF1ZTogZmFsc2UgfSk7XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUF5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUExQkE7Ozs7OztBQTJCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7Ozs7Ozs7Ozs7Ozs7QUFwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUFwQ0E7QUFHQTtBQWVBO0FBbUJBO0FBMkJBOzs7OztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///379\n")},40:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50L0ZpeGVkL0ZpeGVkLnNjc3M/N2M1NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///40\n")},400:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12);\n/* harmony import */ var _Decorate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(197);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(37);\n/* harmony import */ var _component_ContextProvider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(36);\n/* harmony import */ var _common_script_action__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(14);\n/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(274);\n/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n__webpack_require__(51);\n\n\n\n\n\n\n\n_common_script_action__WEBPACK_IMPORTED_MODULE_6__[/* default */ "a"].getInitData(0).then(BASE_DATA => {\n    react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n        react_redux__WEBPACK_IMPORTED_MODULE_2__[/* Provider */ "a"],\n        { store: _store__WEBPACK_IMPORTED_MODULE_4__[/* default */ "a"] },\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n            _component_ContextProvider__WEBPACK_IMPORTED_MODULE_5__[/* default */ "a"],\n            { BASE_DATA: BASE_DATA },\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Decorate__WEBPACK_IMPORTED_MODULE_3__[/* default */ "a"], null)\n        )\n    ), document.querySelector(\'#app\'));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9wYWdlL2RlY29yYXRlL2luZGV4LmpzP2QzYmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERvbSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5yZXF1aXJlKCdhbnRkL2Rpc3QvYW50ZC5jc3MnKTtcblxuaW1wb3J0IERlY29yYXRlIGZyb20gJy4vRGVjb3JhdGUnO1xuaW1wb3J0IHN0b3JlIGZyb20gJy4uLy4uL3N0b3JlJztcbmltcG9ydCBDb250ZXh0UHJvdmlkZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50L0NvbnRleHRQcm92aWRlcic7XG5pbXBvcnQgQWN0aW9uIGZyb20gJy4uLy4uL2NvbW1vbi9zY3JpcHQvYWN0aW9uJztcbmltcG9ydCAnLi9pbmRleC5zY3NzJztcblxuQWN0aW9uLmdldEluaXREYXRhKDApLnRoZW4oKEJBU0VfREFUQSkgPT4ge1xuICAgIFJlYWN0RG9tLnJlbmRlcihcbiAgICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0gPlxuICAgICAgICAgICAgPENvbnRleHRQcm92aWRlciBCQVNFX0RBVEE9e0JBU0VfREFUQX0+XG4gICAgICAgICAgICAgICAgPERlY29yYXRlIC8+XG4gICAgICAgICAgICA8L0NvbnRleHRQcm92aWRlcj5cbiAgICAgICAgPC9Qcm92aWRlcj4sXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcHAnKVxuICAgICk7XG59KVxuXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFEQTtBQU9BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///400\n')},45:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 19 modules\nvar es = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(1);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: ./node_modules/react-loading/dist/react-loading.js\nvar react_loading = __webpack_require__(67);\nvar react_loading_default = /*#__PURE__*/__webpack_require__.n(react_loading);\n\n// EXTERNAL MODULE: ./node_modules/jquery/dist/jquery.js\nvar jquery = __webpack_require__(33);\nvar jquery_default = /*#__PURE__*/__webpack_require__.n(jquery);\n\n// EXTERNAL MODULE: ./node_modules/lodash/debounce.js\nvar debounce = __webpack_require__(52);\nvar debounce_default = /*#__PURE__*/__webpack_require__.n(debounce);\n\n// EXTERNAL MODULE: ./src/actions/index.js\nvar actions = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/component/ModuleWrap/ModuleWrap.tsx\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nclass ModuleWrap_ModuleWrap extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.dragOver = (e) => {\r\n            const { nextPlaceholder, moduleData } = this.state;\r\n            const { moduleRef, allModuleTopChange } = this.props;\r\n            if (nextPlaceholder === undefined) {\r\n                const placeholder = document.createElement(\'div\');\r\n                placeholder.className = \'d-next-placeholder\';\r\n                placeholder.innerHTML = `松开鼠标模块会被放置到这里`;\r\n                this.setState({\r\n                    nextPlaceholder: placeholder,\r\n                }, () => {\r\n                    insertAfter(placeholder, moduleRef);\r\n                    window.resizeIframe();\r\n                    // 刷新本模块之后所有模块的top值 \r\n                    // TODO 有性能问题，暂时屏蔽\r\n                    // allModuleTopChange(moduleData.moduleId, placeholder.clientHeight);\r\n                });\r\n                function insertAfter(newEl, targetEl) {\r\n                    let parentEl = targetEl.parentNode;\r\n                    if (parentEl === null) {\r\n                        return;\r\n                    }\r\n                    if (parentEl.lastChild === targetEl) {\r\n                        parentEl.appendChild(newEl);\r\n                    }\r\n                    else {\r\n                        parentEl.insertBefore(newEl, targetEl.nextSibling);\r\n                    }\r\n                }\r\n            }\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        };\r\n        this.dragLeave = (e) => {\r\n            const { moduleData, nextPlaceholder } = this.state;\r\n            const { allModuleTopChange } = this.props;\r\n            let topChange = 0;\r\n            if (nextPlaceholder !== undefined) {\r\n                topChange = -nextPlaceholder.clientHeight;\r\n            }\r\n            // 本模块之后所有模块的top值还原\r\n            // TODO 有性能问题，暂时屏蔽\r\n            // allModuleTopChange(moduleData.moduleId, topChange);\r\n            this.clearNextPlaceholder();\r\n            e.stopPropagation();\r\n        };\r\n        /**\r\n         * 清除dragover时生成的占位元素\r\n         */\r\n        this.clearNextPlaceholder = () => {\r\n            const { nextPlaceholder } = this.state;\r\n            if (nextPlaceholder) {\r\n                nextPlaceholder.remove();\r\n            }\r\n            window.resizeIframe();\r\n            this.setState({\r\n                nextPlaceholder: undefined,\r\n            });\r\n        };\r\n        this.drop = (e) => __awaiter(this, void 0, void 0, function* () {\r\n            const { pageId } = this.context.BASE_DATA;\r\n            const moduleTypeId = Number.parseInt(e.dataTransfer.getData(\'moduleTypeId\'), 10);\r\n            const { addModuleRequest } = this.props;\r\n            const preModuleId = this.state.moduleData.moduleId;\r\n            addModuleRequest({\r\n                preModuleId: preModuleId,\r\n                moduleTypeId,\r\n                pageId,\r\n            });\r\n            this.clearNextPlaceholder();\r\n            e.stopPropagation();\r\n        });\r\n        this.state = {\r\n            moduleData: props.moduleData,\r\n        };\r\n    }\r\n    render() {\r\n        const { moduleData, moduleData: { tempData, moduleId, }, moduleConfig: { isVisible: isConfigVisible, }, showConfig, focusModule } = this.props;\r\n        let isActive = false;\r\n        if (tempData) {\r\n            isActive = tempData.isActive;\r\n        }\r\n        return (react_default.a.createElement("div", { className: `J_moduleWrap d-module-wrap ${isActive ? \'active\' : \'\'}`, onClick: (e) => { showConfig(moduleData); if (!isActive) {\r\n                focusModule(moduleId);\r\n            } }, onDragOver: this.dragOver, onDragLeave: this.dragLeave, onDrop: this.drop, draggable: false }));\r\n    }\r\n}\r\nModuleWrap_ModuleWrap.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        module: state.module,\r\n        moduleConfig: state.moduleConfig,\r\n    };\r\n};\r\n/* harmony default export */ var component_ModuleWrap_ModuleWrap = (Object(es["b" /* connect */])(mapStateToProps, {\r\n    showConfig: actions["y" /* showConfig */],\r\n    focusModule: actions["r" /* focusModule */],\r\n    addModuleRequest: actions["n" /* addModuleRequest */],\r\n    allModuleTopChange: actions["o" /* allModuleTopChange */],\r\n})(ModuleWrap_ModuleWrap));\r\n\n// CONCATENATED MODULE: ./src/component/ModuleWrap/index.ts\n\r\n/* harmony default export */ var component_ModuleWrap = (component_ModuleWrap_ModuleWrap);\r\n\n// CONCATENATED MODULE: ./src/component/Module/Module.tsx\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Placeholder = {\r\n    2: \'http://naeditor-image.oss-cn-shenzhen.aliyuncs.com/rq.jpg\',\r\n};\r\nclass Module_Module extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.moduleRef = react_default.a.createRef();\r\n        const { moduleData } = props;\r\n        if (moduleData.tempData === undefined) {\r\n            moduleData.tempData = {\r\n                isActive: false,\r\n                top: 0,\r\n                height: 0,\r\n            };\r\n        }\r\n        this.state = {\r\n            moduleData: props.moduleData,\r\n        };\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        const { moduleData } = nextProps;\r\n        this.setState({\r\n            moduleData,\r\n        });\r\n        // 模块聚焦后需要滚动到视窗内\r\n        if (moduleData.tempData.isActive === true) {\r\n            this.scrollIntoView();\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.reatChange();\r\n        setTimeout(() => {\r\n            this.reatChange();\r\n        }, 1000);\r\n    }\r\n    componentDidUpdate() {\r\n        this.reatChange();\r\n    }\r\n    reatChange() {\r\n        const { moduleTopChange, moduleHeightChange } = this.props;\r\n        const { moduleData } = this.state;\r\n        const clientRect = this.moduleRef.getBoundingClientRect();\r\n        const { height, top } = clientRect;\r\n        if (!moduleData.tempData || top !== moduleData.tempData.top) {\r\n            moduleTopChange(moduleData.moduleId, top);\r\n            if (moduleData.tempData.isActive === true) {\r\n                this.scrollIntoView();\r\n            }\r\n        }\r\n        if (!moduleData.tempData || height !== moduleData.tempData.height) {\r\n            moduleHeightChange(moduleData.moduleId, height);\r\n        }\r\n    }\r\n    scrollIntoView() {\r\n        debounce_default()(() => {\r\n            const clientRect = this.moduleRef.getBoundingClientRect();\r\n            const { top } = clientRect;\r\n            const container = document.querySelector(\'.J_editorInstanceArea\');\r\n            // 判断是否在当前屏幕内\r\n            const intersectionObserver = new IntersectionObserver((entries) => {\r\n                const ratio = entries[0].intersectionRatio;\r\n                if (ratio < 1 && container) {\r\n                    // jq动画，待优化\r\n                    jquery_default()(container).animate({\r\n                        scrollTop: top - 50,\r\n                    }, {\r\n                        easing: \'swing\',\r\n                    });\r\n                }\r\n                this.moduleRef && intersectionObserver.unobserve(this.moduleRef);\r\n            });\r\n            intersectionObserver.observe(this.moduleRef);\r\n        }, 0)();\r\n    }\r\n    render() {\r\n        const { moduleData, moduleData: { tempData: { isActive, }, moduleTypeId, configData, } } = this.state;\r\n        const isDecorate = this.context.BASE_DATA.pageType === 0;\r\n        let moduleStyle = {};\r\n        let isEmpty = false;\r\n        if (isDecorate) {\r\n            isEmpty = JSON.stringify(configData) === \'{}\';\r\n            moduleStyle = Object.assign({ minHeight: \'50px\' });\r\n            if (isEmpty) {\r\n                moduleStyle = Object.assign({}, moduleStyle, {\r\n                    backgroundImage: "url(" + Placeholder[2] + ")",\r\n                    height: \'180px\',\r\n                });\r\n            }\r\n        }\r\n        return (react_default.a.createElement("div", { className: `J_module d-module ${isActive ? \'active\' : \'\'}`, "data-module-type-id": moduleTypeId, ref: ref => this.moduleRef = ref, style: moduleStyle },\r\n            !isEmpty && this.props.children,\r\n            isDecorate && react_default.a.createElement(component_ModuleWrap, { moduleData: moduleData, moduleRef: this.moduleRef })));\r\n    }\r\n}\r\nModule_Module.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\nconst Module_mapStateToProps = (state) => {\r\n    return { module: state.module }; // TODO dispatch临时丢在这里\r\n};\r\nconst dispatchProps = {\r\n    moduleTopChange: actions["u" /* moduleTopChange */],\r\n    moduleHeightChange: actions["t" /* moduleHeightChange */],\r\n};\r\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\r\n    return Object.assign({}, stateProps, dispatchProps, ownProps);\r\n};\r\n/* harmony default export */ var component_Module_Module = (Object(es["b" /* connect */])(Module_mapStateToProps, dispatchProps, mergeProps, { withRef: true })(Module_Module));\r\n\n// CONCATENATED MODULE: ./src/component/Module/index.ts\n\r\n/* harmony default export */ var component_Module = (component_Module_Module);\r\n\n// CONCATENATED MODULE: ./src/component/UserDefine/UserDefine.tsx\n\r\n\r\n\r\nclass UserDefine_UserDefine extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            code: props.moduleData.data.code,\r\n            isActive: props.moduleData.tempData.isActive,\r\n        };\r\n    }\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        const isActive = nextProps.moduleData.tempData && nextProps.moduleData.tempData.isActive;\r\n        if (this.state.code === nextProps.moduleData.data.code &&\r\n            isActive === this.state.isActive) {\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        this.setState({\r\n            code: nextProps.moduleData.data.code,\r\n        });\r\n    }\r\n    /**\r\n     * 执行用户代码片段\r\n     */\r\n    excuteCode() {\r\n        const { code } = this.state;\r\n        const el = this.refs.module;\r\n        let renderCode = code;\r\n        !code && (renderCode = ``);\r\n        jquery_default()(el).html(renderCode);\r\n    }\r\n    componentDidMount() {\r\n        this.excuteCode();\r\n    }\r\n    componentDidUpdate() {\r\n        this.excuteCode();\r\n    }\r\n    /**\r\n     *\r\n     */\r\n    render() {\r\n        const { code } = this.state;\r\n        return (react_default.a.createElement(component_Module, { moduleData: this.props.moduleData },\r\n            react_default.a.createElement("div", { ref: "module" })));\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/component/UserDefine/index.ts\n\r\n/* harmony default export */ var component_UserDefine = (UserDefine_UserDefine);\r\n\n// CONCATENATED MODULE: ./src/component/ImageHotspot/ImageHotspot.tsx\n\r\n\r\n\r\nclass ImageHotspot_ImageHotspot extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.renderImgs = (imgs) => {\r\n            return (react_default.a.createElement("div", { className: "d-img-wrap" }, imgs.map((v, i) => (react_default.a.createElement("img", { key: i, src: v.url })))));\r\n        };\r\n        this.renderHotspots = (Hotspot) => {\r\n            const Rate = 1;\r\n            const isDecorate = this.context.BASE_DATA.pageType === 0;\r\n            return (react_default.a.createElement("div", { className: "d-hotspot-wrap" }, Hotspot && Hotspot.map((v, i) => {\r\n                const { area } = v;\r\n                if (area === undefined) {\r\n                    return null;\r\n                }\r\n                const { x, y, w, h } = area;\r\n                const top = `${(y || 0) * Rate}px`;\r\n                const left = `${(x || 0) * Rate}px`;\r\n                const width = `${(w || 0) * Rate}px`;\r\n                const height = `${(h || 0) * Rate}px`;\r\n                return (react_default.a.createElement("a", { style: { top, left, width, height }, key: i, href: v.url }, isDecorate && react_default.a.createElement("span", null,\r\n                    "\\u70ED\\u533A",\r\n                    i + 1)));\r\n            })));\r\n        };\r\n        const { imgs } = props.moduleData.data;\r\n        this.state = {\r\n            imgs,\r\n        };\r\n    }\r\n    render() {\r\n        let { moduleData, moduleData: { data: { imgs, hotspots, }, }, } = this.props;\r\n        if (imgs === undefined) {\r\n            imgs = [];\r\n        }\r\n        return (react_default.a.createElement(component_Module, { moduleData: moduleData },\r\n            this.renderImgs(imgs),\r\n            this.renderHotspots(hotspots)));\r\n    }\r\n}\r\nImageHotspot_ImageHotspot.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\n\n// CONCATENATED MODULE: ./src/component/ImageHotspot/index.ts\n\r\n/* harmony default export */ var component_ImageHotspot = (ImageHotspot_ImageHotspot);\r\n\n// CONCATENATED MODULE: ./src/component/Text/Text.tsx\n\r\n\r\nclass Text_Text extends react["Component"] {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        const { moduleData } = this.props;\r\n        const { text, fontWeight, fontSize } = moduleData.data;\r\n        return (react_default.a.createElement(component_Module, { moduleData: moduleData },\r\n            react_default.a.createElement("p", { style: { fontWeight, fontSize } }, text)));\r\n    }\r\n}\r\n/* harmony default export */ var component_Text_Text = (Text_Text);\r\n\n// CONCATENATED MODULE: ./src/component/Text/index.ts\n\r\n/* harmony default export */ var component_Text = (component_Text_Text);\r\n\n// EXTERNAL MODULE: ./node_modules/react-slick/lib/index.js\nvar lib = __webpack_require__(66);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// CONCATENATED MODULE: ./src/component/Carousel/Carousel.tsx\n\r\n/// <reference path="../OuterComponent.d.ts" />\r\n\r\n\r\nclass Carousel_Carousel extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.renderSlider = (imgs) => {\r\n            const settings = {\r\n                dots: true,\r\n                infinite: true,\r\n                speed: 500,\r\n                slidesToShow: 1,\r\n                slidesToScroll: 1,\r\n                autoplay: true,\r\n                autoplaySpeed: 800,\r\n            };\r\n            return (react_default.a.createElement(lib_default.a, Object.assign({}, settings), imgs.map((v, i) => (react_default.a.createElement("div", { key: i },\r\n                react_default.a.createElement("img", { src: v.url }))))));\r\n        };\r\n    }\r\n    render() {\r\n        let { moduleData, moduleData: { data: { imgs, }, }, } = this.props;\r\n        if (imgs === undefined) {\r\n            imgs = [];\r\n        }\r\n        return (react_default.a.createElement(component_Module, { moduleData: moduleData }, this.renderSlider(imgs)));\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/component/Carousel/index.ts\n\r\n/* harmony default export */ var component_Carousel = (Carousel_Carousel);\r\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(10);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/icon/index.js\nvar icon = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./src/component/Layer/Layer.tsx\n\r\n\r\n\r\n\r\n\r\nclass Layer_Layer extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.rootEl = document.createElement(\'div\');\r\n        this.onClose = () => {\r\n            this.closeModal();\r\n        };\r\n        this.closeModal = () => {\r\n            this.rootEl.remove();\r\n            // 滚动穿透还原\r\n            document.querySelector(\'html\').style.overflow = \'initial\';\r\n        };\r\n        this.preventScroll = (e) => {\r\n            e.preventDefault();\r\n            e.cancelable = true;\r\n        };\r\n        this.renderChild = () => {\r\n            let { moduleData: { data: { imgUrl, hotspots, }, }, } = this.props;\r\n            if (!imgUrl) {\r\n                return null;\r\n            }\r\n            return (react_default.a.createElement(react_default.a.Fragment, null,\r\n                react_default.a.createElement("div", { className: "d-img" },\r\n                    react_default.a.createElement("img", { src: imgUrl }),\r\n                    react_default.a.createElement("div", { className: "d-close", onClick: this.onClose },\r\n                        react_default.a.createElement(icon["a" /* default */], { type: "close" })),\r\n                    react_default.a.createElement("div", { className: "d-hotspots-wrap" }, hotspots && hotspots.map((v) => {\r\n                        react_default.a.createElement("a", { href: v.url });\r\n                    }))),\r\n                react_default.a.createElement("div", { className: "d-mask", onClick: this.onClose, onTouchMove: this.preventScroll })));\r\n        };\r\n    }\r\n    ;\r\n    componentDidMount() {\r\n        this.rootEl.classList.add(\'d-layer\');\r\n        if (this.context.BASE_DATA.pageType !== 0) {\r\n            document.body.appendChild(this.rootEl);\r\n            // 阻止滚动穿透\r\n            document.querySelector(\'html\').style.overflow = \'hidden\';\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        this.closeModal();\r\n    }\r\n    render() {\r\n        const { moduleData } = this.props;\r\n        const { pageType } = this.context.BASE_DATA;\r\n        // 装修时的展示\r\n        if (pageType === 0) {\r\n            return (react_default.a.createElement(component_Module, { moduleData: moduleData },\r\n                react_default.a.createElement("span", { className: "d-hint" }, "\\u6D6E\\u5C42\\u6A21\\u5757\\u6548\\u679C\\u8BF7\\u5728\\u9884\\u89C8\\u9875\\u4E2D\\u67E5\\u770B")));\r\n        }\r\n        else {\r\n            return react_dom_default.a.createPortal(this.renderChild(), this.rootEl);\r\n        }\r\n    }\r\n}\r\nLayer_Layer.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\n\n// CONCATENATED MODULE: ./src/component/Layer/index.ts\n\r\n/* harmony default export */ var component_Layer = (Layer_Layer);\r\n\n// CONCATENATED MODULE: ./src/component/Fixed/Fixed.tsx\n\r\n\r\n\r\n\r\nclass Fixed_Fixed extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.rootEl = document.createElement(\'div\');\r\n        this.onClose = () => {\r\n            this.rootEl.remove();\r\n        };\r\n        this.renderChild = () => {\r\n            let { moduleData: { data: { imgUrl, hotspots, vertical, verticalDir, verticalUnit, horizontal, horizontalDir, horizontalUnit, width, widthUnit, }, }, } = this.props;\r\n            verticalUnit === undefined && (verticalUnit = \'%\');\r\n            horizontalUnit === undefined && (horizontalUnit = \'%\');\r\n            let left, right, top, bottom;\r\n            if (verticalDir === \'top\') {\r\n                top = `${vertical}${verticalUnit}`;\r\n            }\r\n            else {\r\n                verticalDir = verticalDir;\r\n                verticalUnit = verticalUnit;\r\n                bottom = `${vertical}${verticalUnit}`;\r\n            }\r\n            if (horizontalDir === \'left\') {\r\n                left = `${horizontal}${horizontalUnit}`;\r\n            }\r\n            else {\r\n                horizontal = horizontal;\r\n                horizontalUnit = horizontalUnit;\r\n                right = `${horizontal}${horizontalUnit}`;\r\n            }\r\n            return (react_default.a.createElement("div", { className: "d-fixed", style: {\r\n                    left,\r\n                    right,\r\n                    top,\r\n                    bottom,\r\n                    width: `${width ? `${width}${widthUnit}` : \'auto\'}`\r\n                } },\r\n                react_default.a.createElement("div", { className: "d-img" },\r\n                    react_default.a.createElement("img", { src: imgUrl }),\r\n                    react_default.a.createElement("div", { className: "d-hotspots-wrap" }, hotspots && hotspots.map((v) => {\r\n                        react_default.a.createElement("a", { href: v.url });\r\n                    })))));\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        if (this.context.BASE_DATA.pageType !== 0) {\r\n            document.body.appendChild(this.rootEl);\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        this.rootEl.remove();\r\n    }\r\n    render() {\r\n        const { moduleData } = this.props;\r\n        const isDecorate = this.context.BASE_DATA.pageType === 0;\r\n        // 装修时的展示\r\n        if (isDecorate) {\r\n            return (react_default.a.createElement(component_Module, { moduleData: moduleData },\r\n                react_default.a.createElement("span", { className: "d-hint" }, "\\u5B9A\\u4F4D\\u6A21\\u5757\\u6548\\u679C\\u8BF7\\u5728\\u9884\\u89C8\\u9875\\u4E2D\\u67E5\\u770B")));\r\n        }\r\n        else {\r\n            return react_dom_default.a.createPortal(this.renderChild(), this.rootEl);\r\n        }\r\n    }\r\n}\r\nFixed_Fixed.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\n\n// EXTERNAL MODULE: ./src/component/Fixed/Fixed.scss\nvar component_Fixed_Fixed = __webpack_require__(40);\n\n// CONCATENATED MODULE: ./src/component/Fixed/index.ts\n\r\n\r\n/* harmony default export */ var component_Fixed = (Fixed_Fixed);\r\n\n// EXTERNAL MODULE: ./src/common/script/isServer.ts\nvar isServer = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./src/component/Canvas/Canvas.tsx\nvar Canvas_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Canvas_Canvas extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.dragOver = (e) => {\r\n            const { nextPlaceholder } = this.state;\r\n            if (nextPlaceholder === undefined) {\r\n                const placeholder = document.createElement(\'div\');\r\n                placeholder.className = \'d-next-placeholder\';\r\n                placeholder.innerHTML = `松开鼠标模块会被放置到这里`;\r\n                this.setState({\r\n                    nextPlaceholder: placeholder,\r\n                }, () => {\r\n                    this.root && this.root.appendChild(placeholder);\r\n                    window.resizeIframe();\r\n                });\r\n            }\r\n            e.preventDefault();\r\n        };\r\n        this.dragLeave = () => {\r\n            this.clearNextPlaceholder();\r\n        };\r\n        /**\r\n         * 清除dragover时生成的占位元素\r\n         */\r\n        this.clearNextPlaceholder = () => {\r\n            const { nextPlaceholder } = this.state;\r\n            if (nextPlaceholder) {\r\n                nextPlaceholder.remove();\r\n            }\r\n            window.resizeIframe();\r\n            this.setState({\r\n                nextPlaceholder: undefined,\r\n            });\r\n        };\r\n        this.drop = (e) => Canvas_awaiter(this, void 0, void 0, function* () {\r\n            const { pageId } = this.context.BASE_DATA;\r\n            const moduleTypeId = Number.parseInt(e.dataTransfer.getData(\'moduleTypeId\'), 10);\r\n            const { addModuleRequest } = this.props;\r\n            addModuleRequest({\r\n                moduleTypeId,\r\n                pageId,\r\n            });\r\n            this.clearNextPlaceholder();\r\n        });\r\n        this.renderPlaceholder = () => {\r\n            return (react_default.a.createElement("div", { className: "d-empty-placeholder" },\r\n                react_default.a.createElement("img", { src: "//gw.alicdn.com/tfs/TB1Sm8ARXXXXXciaXXXXXXXXXXX-254-212.png_290x10000.jpg" }),\r\n                react_default.a.createElement("p", null, "\\u60A8\\u8FD8\\u672A\\u6DFB\\u52A0\\u4EFB\\u4F55\\u6A21\\u5757"),\r\n                react_default.a.createElement("p", null, "\\u8BF7\\u5C06\\u5DE6\\u4FA7\\u6A21\\u5757\\u62D6\\u52A8\\u5230\\u8FD9\\u91CC")));\r\n        };\r\n        this.state = {\r\n            nextPlaceholder: undefined,\r\n            isLoading: true,\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        if (Object(isServer["a" /* default */])()) {\r\n            // 初始化模块\r\n            this.props.fetchModuleList(this.context.BASE_DATA.pageId.toString());\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        // 开启loading\r\n        if (this.context.BASE_DATA.pageType === 0) { // type为0为装修\r\n            setTimeout(() => {\r\n                window.resizeIframe();\r\n            }, 1000);\r\n        }\r\n    }\r\n    componentWillReceiveProps(props) {\r\n        this.setState({\r\n            isLoading: false,\r\n        });\r\n    }\r\n    /**\r\n     * 画布更新\r\n     */\r\n    componentDidUpdate() {\r\n        if (this.context.BASE_DATA.pageType === 0) { // type为0为装修\r\n            window.resizeIframe();\r\n        }\r\n    }\r\n    render() {\r\n        const moduleList = this.props.moduleList;\r\n        const isDecorate = this.context.BASE_DATA.pageType === 0;\r\n        const { isLoading } = this.state;\r\n        function getModuleList(moduleList) {\r\n            if (!moduleList) {\r\n                return null;\r\n            }\r\n            return moduleList.map((v, i) => {\r\n                const { moduleTypeId } = v;\r\n                switch (moduleTypeId) {\r\n                    case 1:\r\n                        return react_default.a.createElement(component_UserDefine, { key: v.moduleId, moduleData: v });\r\n                    case 2:\r\n                        return react_default.a.createElement(component_ImageHotspot, { key: v.moduleId, moduleData: v });\r\n                    case 3:\r\n                        return react_default.a.createElement(component_Text, { key: v.moduleId, moduleData: v });\r\n                    case 4:\r\n                        return react_default.a.createElement(component_Carousel, { key: v.moduleId, moduleData: v });\r\n                    case 5:\r\n                        return react_default.a.createElement(component_Layer, { key: v.moduleId, moduleData: v });\r\n                    case 6:\r\n                        return react_default.a.createElement(component_Fixed, { key: v.moduleId, moduleData: v });\r\n                    default:\r\n                        return null;\r\n                }\r\n            });\r\n        }\r\n        return (react_default.a.createElement("div", { className: "d-module-list", onDragOver: this.dragOver, onDragLeave: this.dragLeave, onDrop: (e) => { this.drop(e); }, ref: (root) => { this.root = root; } },\r\n            this.context.BASE_DATA.pageType === 0\r\n                && react_default.a.createElement("div", { className: "d-header", onDragOver: (e) => { e.stopPropagation(); }, onDragLeave: (e) => { e.stopPropagation(); }, onDrag: (e) => { e.stopPropagation(); } }),\r\n            isLoading &&\r\n                react_default.a.createElement("div", { className: "d-loading" },\r\n                    react_default.a.createElement(react_loading_default.a, { type: "spinningBubbles", color: \'#1890ff\' })),\r\n            isDecorate && (!moduleList || moduleList.length === 0) && this.renderPlaceholder(),\r\n            getModuleList(moduleList)));\r\n    }\r\n}\r\nCanvas_Canvas.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\nconst Canvas_mapStateToProps = (state) => {\r\n    return { moduleList: state.module.moduleList, };\r\n};\r\n/* harmony default export */ var component_Canvas_Canvas = (Object(es["b" /* connect */])(Canvas_mapStateToProps, {\r\n    fetchModuleList: actions["q" /* fetchModuleList */],\r\n    focusModule: actions["r" /* focusModule */],\r\n    addModuleRequest: actions["n" /* addModuleRequest */],\r\n})(Canvas_Canvas));\r\n\n// CONCATENATED MODULE: ./src/component/Canvas/index.ts\n\r\n/* harmony default export */ var component_Canvas = __webpack_exports__["a"] = (component_Canvas_Canvas);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9Nb2R1bGVXcmFwL01vZHVsZVdyYXAudHN4Pzg4ZGIiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvTW9kdWxlV3JhcC9pbmRleC50cz8yNDliIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L01vZHVsZS9Nb2R1bGUudHN4PzA5ZDQiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvTW9kdWxlL2luZGV4LnRzPzAwOTQiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvVXNlckRlZmluZS9Vc2VyRGVmaW5lLnRzeD85NzNjIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L1VzZXJEZWZpbmUvaW5kZXgudHM/YjA5MSIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9JbWFnZUhvdHNwb3QvSW1hZ2VIb3RzcG90LnRzeD8xNzY5Iiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L0ltYWdlSG90c3BvdC9pbmRleC50cz84OWQ1Iiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L1RleHQvVGV4dC50c3g/MGQ3ZSIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9UZXh0L2luZGV4LnRzP2VkMmUiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvQ2Fyb3VzZWwvQ2Fyb3VzZWwudHN4PzdkMDYiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvQ2Fyb3VzZWwvaW5kZXgudHM/ODNkNCIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9MYXllci9MYXllci50c3g/NWJhOSIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9MYXllci9pbmRleC50cz9kN2RkIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L0ZpeGVkL0ZpeGVkLnRzeD84MjljIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L0ZpeGVkL2luZGV4LnRzPzY5MDUiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvQ2FudmFzL0NhbnZhcy50c3g/Y2FlNiIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9DYW52YXMvaW5kZXgudHM/OGQ2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuaW1wb3J0IHsgc2hvd0NvbmZpZywgZm9jdXNNb2R1bGUsIGFkZE1vZHVsZVJlcXVlc3QsIGFsbE1vZHVsZVRvcENoYW5nZSB9IGZyb20gJy4uLy4uL2FjdGlvbnMnO1xyXG5pbXBvcnQgeyBJTW9kdWxlRGF0YSwgSU1vZHVsZUNvbmZpZywgSVN0YXRlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuXHJcbmludGVyZmFjZSBNb2R1bGVXcmFwUHJvcHMge1xyXG4gICAgbW9kdWxlRGF0YTogSU1vZHVsZURhdGE7XHJcbiAgICBtb2R1bGVSZWY6IEhUTUxFbGVtZW50O1xyXG4gICAgYWRkTW9kdWxlUmVxdWVzdDogYW55O1xyXG4gICAgYWxsTW9kdWxlVG9wQ2hhbmdlOiBhbnk7XHJcbiAgICBtb2R1bGVDb25maWc6IElNb2R1bGVDb25maWc7XHJcbiAgICBzaG93Q29uZmlnOiBhbnk7XHJcbiAgICBmb2N1c01vZHVsZTogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTW9kdWxlV3JhcFN0YXRlIHtcclxuICAgIG1vZHVsZURhdGE6IElNb2R1bGVEYXRhO1xyXG4gICAgbmV4dFBsYWNlaG9sZGVyPzogSFRNTERpdkVsZW1lbnQ7XHJcbn1cclxuXHJcbmNsYXNzIE1vZHVsZVdyYXAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8TW9kdWxlV3JhcFByb3BzLCBNb2R1bGVXcmFwU3RhdGU+IHtcclxuXHJcbiAgICBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xyXG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBNb2R1bGVXcmFwUHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIG1vZHVsZURhdGE6IHByb3BzLm1vZHVsZURhdGEsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBkcmFnT3ZlciA9IChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCB7IG5leHRQbGFjZWhvbGRlciwgbW9kdWxlRGF0YSB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBjb25zdCB7IG1vZHVsZVJlZiwgYWxsTW9kdWxlVG9wQ2hhbmdlIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGlmIChuZXh0UGxhY2Vob2xkZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlci5jbGFzc05hbWUgPSAnZC1uZXh0LXBsYWNlaG9sZGVyJztcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gYOadvuW8gOm8oOagh+aooeWdl+S8muiiq+aUvue9ruWIsOi/memHjGA7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgbmV4dFBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcixcclxuICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaW5zZXJ0QWZ0ZXIocGxhY2Vob2xkZXIsIG1vZHVsZVJlZik7XHJcbiAgICAgICAgICAgICAgICAod2luZG93IGFzIGFueSkucmVzaXplSWZyYW1lKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g5Yi35paw5pys5qih5Z2X5LmL5ZCO5omA5pyJ5qih5Z2X55qEdG9w5YC8IFxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETyDmnInmgKfog73pl67popjvvIzmmoLml7blsY/olL1cclxuICAgICAgICAgICAgICAgIC8vIGFsbE1vZHVsZVRvcENoYW5nZShtb2R1bGVEYXRhLm1vZHVsZUlkLCBwbGFjZWhvbGRlci5jbGllbnRIZWlnaHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluc2VydEFmdGVyKG5ld0VsOiBIVE1MRWxlbWVudCwgdGFyZ2V0RWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50RWwgPSB0YXJnZXRFbC5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEVsID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEVsLmxhc3RDaGlsZCA9PT0gdGFyZ2V0RWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZChuZXdFbCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEVsLmluc2VydEJlZm9yZShuZXdFbCwgdGFyZ2V0RWwubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYWdMZWF2ZSA9IChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCB7IG1vZHVsZURhdGEsIG5leHRQbGFjZWhvbGRlciB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBjb25zdCB7IGFsbE1vZHVsZVRvcENoYW5nZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBsZXQgdG9wQ2hhbmdlID0gMDtcclxuICAgICAgICBpZiAobmV4dFBsYWNlaG9sZGVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdG9wQ2hhbmdlID0gLW5leHRQbGFjZWhvbGRlci5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOacrOaooeWdl+S5i+WQjuaJgOacieaooeWdl+eahHRvcOWAvOi/mOWOn1xyXG4gICAgICAgIC8vIFRPRE8g5pyJ5oCn6IO96Zeu6aKY77yM5pqC5pe25bGP6JS9XHJcbiAgICAgICAgLy8gYWxsTW9kdWxlVG9wQ2hhbmdlKG1vZHVsZURhdGEubW9kdWxlSWQsIHRvcENoYW5nZSk7XHJcbiAgICAgICAgdGhpcy5jbGVhck5leHRQbGFjZWhvbGRlcigpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmuIXpmaRkcmFnb3ZlcuaXtueUn+aIkOeahOWNoOS9jeWFg+e0oFxyXG4gICAgICovXHJcbiAgICBjbGVhck5leHRQbGFjZWhvbGRlciA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IG5leHRQbGFjZWhvbGRlciB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBpZiAobmV4dFBsYWNlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgIG5leHRQbGFjZWhvbGRlci5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLnJlc2l6ZUlmcmFtZSgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBuZXh0UGxhY2Vob2xkZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkcm9wID0gYXN5bmMgKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgcGFnZUlkIH0gPSB0aGlzLmNvbnRleHQuQkFTRV9EQVRBO1xyXG4gICAgICAgIGNvbnN0IG1vZHVsZVR5cGVJZCA9IE51bWJlci5wYXJzZUludChlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdtb2R1bGVUeXBlSWQnKSwgMTApO1xyXG4gICAgICAgIGNvbnN0IHsgYWRkTW9kdWxlUmVxdWVzdCB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCBwcmVNb2R1bGVJZCA9IHRoaXMuc3RhdGUubW9kdWxlRGF0YS5tb2R1bGVJZDtcclxuICAgICAgICBhZGRNb2R1bGVSZXF1ZXN0KHtcclxuICAgICAgICAgICAgcHJlTW9kdWxlSWQ6IHByZU1vZHVsZUlkLFxyXG4gICAgICAgICAgICBtb2R1bGVUeXBlSWQsXHJcbiAgICAgICAgICAgIHBhZ2VJZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNsZWFyTmV4dFBsYWNlaG9sZGVyKCk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBtb2R1bGVEYXRhLFxyXG4gICAgICAgICAgICBtb2R1bGVEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wRGF0YSxcclxuICAgICAgICAgICAgICAgIG1vZHVsZUlkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtb2R1bGVDb25maWc6IHtcclxuICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogaXNDb25maWdWaXNpYmxlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaG93Q29uZmlnLFxyXG4gICAgICAgICAgICBmb2N1c01vZHVsZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBsZXQgaXNBY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBpZiAodGVtcERhdGEpIHtcclxuICAgICAgICAgICAgaXNBY3RpdmUgPSB0ZW1wRGF0YS5pc0FjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YEpfbW9kdWxlV3JhcCBkLW1vZHVsZS13cmFwICR7aXNBY3RpdmUgPyAnYWN0aXZlJyA6ICcnfWB9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4geyBzaG93Q29uZmlnKG1vZHVsZURhdGEpOyBpZiAoIWlzQWN0aXZlKSB7IGZvY3VzTW9kdWxlKG1vZHVsZUlkKTsgfSB9fVxyXG4gICAgICAgICAgICAgICAgb25EcmFnT3Zlcj17dGhpcy5kcmFnT3Zlcn1cclxuICAgICAgICAgICAgICAgIG9uRHJhZ0xlYXZlPXt0aGlzLmRyYWdMZWF2ZX1cclxuICAgICAgICAgICAgICAgIG9uRHJvcD17dGhpcy5kcm9wfVxyXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBJU3RhdGUpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbW9kdWxlOiBzdGF0ZS5tb2R1bGUsXHJcbiAgICAgICAgbW9kdWxlQ29uZmlnOiBzdGF0ZS5tb2R1bGVDb25maWcsXHJcbiAgICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIHtcclxuICAgIHNob3dDb25maWcsXHJcbiAgICBmb2N1c01vZHVsZSxcclxuICAgIGFkZE1vZHVsZVJlcXVlc3QsXHJcbiAgICBhbGxNb2R1bGVUb3BDaGFuZ2UsXHJcbn0pKE1vZHVsZVdyYXApO1xyXG4iLCJpbXBvcnQgTW9kdWxlV3JhcCBmcm9tICcuL01vZHVsZVdyYXAnO1xuZXhwb3J0IGRlZmF1bHQgTW9kdWxlV3JhcDsiLCJpbXBvcnQgUmVhY3QsIHsgUmVmT2JqZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJztcclxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuXHJcbmltcG9ydCB7IG1vZHVsZVRvcENoYW5nZSwgbW9kdWxlSGVpZ2h0Q2hhbmdlIH0gZnJvbSAnLi4vLi4vYWN0aW9ucyc7XHJcbmltcG9ydCBNb2R1bGVXcmFwIGZyb20gJy4uL01vZHVsZVdyYXAnO1xyXG5pbXBvcnQgeyBJTW9kdWxlRGF0YSwgSVN0YXRlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuXHJcbmludGVyZmFjZSBNb2R1bGVQcm9wcyB7XHJcbiAgICBtb2R1bGVEYXRhOiBJTW9kdWxlRGF0YTtcclxuICAgIG1vZHVsZVRvcENoYW5nZTogYW55O1xyXG4gICAgbW9kdWxlSGVpZ2h0Q2hhbmdlOiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBNb2R1bGVTdGF0ZSB7XHJcbiAgICBtb2R1bGVEYXRhOiBJTW9kdWxlRGF0YTtcclxuICAgIGlzRW1wdHk/OiBib29sZWFuO1xyXG59XHJcblxyXG5jb25zdCBQbGFjZWhvbGRlciA9IHtcclxuICAgIDI6ICdodHRwOi8vbmFlZGl0b3ItaW1hZ2Uub3NzLWNuLXNoZW56aGVuLmFsaXl1bmNzLmNvbS9ycS5qcGcnLFxyXG4gICAgLy8gNDogJ2h0dHA6Ly9uYWVkaXRvci1pbWFnZS5vc3MtY24tc2hlbnpoZW4uYWxpeXVuY3MuY29tL2xidC5qcGcnLFxyXG59XHJcblxyXG5cclxuY2xhc3MgTW9kdWxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PE1vZHVsZVByb3BzLCBNb2R1bGVTdGF0ZT4ge1xyXG5cclxuICAgIHByaXZhdGUgbW9kdWxlUmVmOiBhbnkgPSBSZWFjdC5jcmVhdGVSZWYoKTtcclxuXHJcbiAgICBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xyXG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdFxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogTW9kdWxlUHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgY29uc3QgeyBtb2R1bGVEYXRhIH0gPSBwcm9wcztcclxuICAgICAgICBpZiAobW9kdWxlRGF0YS50ZW1wRGF0YSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZURhdGEudGVtcERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgbW9kdWxlRGF0YTogcHJvcHMubW9kdWxlRGF0YSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzOiBNb2R1bGVQcm9wcykge1xyXG4gICAgICAgIGNvbnN0IHsgbW9kdWxlRGF0YSB9ID0gbmV4dFByb3BzO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBtb2R1bGVEYXRhLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIOaooeWdl+iBmueEpuWQjumcgOimgea7muWKqOWIsOinhueql+WGhVxyXG4gICAgICAgIGlmIChtb2R1bGVEYXRhLnRlbXBEYXRhLmlzQWN0aXZlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5yZWF0Q2hhbmdlKCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVhdENoYW5nZSgpO1xyXG4gICAgICAgIH0sIDEwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLnJlYXRDaGFuZ2UoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWF0Q2hhbmdlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgbW9kdWxlVG9wQ2hhbmdlLCBtb2R1bGVIZWlnaHRDaGFuZ2UgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgeyBtb2R1bGVEYXRhIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGNvbnN0IGNsaWVudFJlY3QgPSB0aGlzLm1vZHVsZVJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCB7IGhlaWdodCwgdG9wIH0gPSBjbGllbnRSZWN0O1xyXG4gICAgICAgIGlmICghbW9kdWxlRGF0YS50ZW1wRGF0YSB8fCB0b3AgIT09IG1vZHVsZURhdGEudGVtcERhdGEudG9wKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZVRvcENoYW5nZShtb2R1bGVEYXRhLm1vZHVsZUlkLCB0b3ApO1xyXG4gICAgICAgICAgICBpZiAobW9kdWxlRGF0YS50ZW1wRGF0YS5pc0FjdGl2ZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbW9kdWxlRGF0YS50ZW1wRGF0YSB8fCBoZWlnaHQgIT09IG1vZHVsZURhdGEudGVtcERhdGEuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIG1vZHVsZUhlaWdodENoYW5nZShtb2R1bGVEYXRhLm1vZHVsZUlkLCBoZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzY3JvbGxJbnRvVmlldygpIHtcclxuICAgICAgICBkZWJvdW5jZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudFJlY3QgPSB0aGlzLm1vZHVsZVJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgY29uc3QgeyB0b3AgfSA9IGNsaWVudFJlY3Q7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5KX2VkaXRvckluc3RhbmNlQXJlYScpO1xyXG5cclxuICAgICAgICAgICAgLy8g5Yik5pat5piv5ZCm5Zyo5b2T5YmN5bGP5bmV5YaFXHJcbiAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdGlvbk9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByYXRpbyA9IGVudHJpZXNbMF0uaW50ZXJzZWN0aW9uUmF0aW87XHJcbiAgICAgICAgICAgICAgICBpZiAocmF0aW8gPCAxICYmIGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGpx5Yqo55S777yM5b6F5LyY5YyWXHJcbiAgICAgICAgICAgICAgICAgICAgJChjb250YWluZXIpLmFuaW1hdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogdG9wIC0gNTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ3N3aW5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2R1bGVSZWYgJiYgaW50ZXJzZWN0aW9uT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMubW9kdWxlUmVmKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMubW9kdWxlUmVmKTtcclxuICAgICAgICB9LCAwKSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIG1vZHVsZURhdGEsXHJcbiAgICAgICAgICAgIG1vZHVsZURhdGE6IHtcclxuICAgICAgICAgICAgICAgIHRlbXBEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmUsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbW9kdWxlVHlwZUlkLFxyXG4gICAgICAgICAgICAgICAgY29uZmlnRGF0YSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGNvbnN0IGlzRGVjb3JhdGUgPSB0aGlzLmNvbnRleHQuQkFTRV9EQVRBLnBhZ2VUeXBlID09PSAwO1xyXG4gICAgICAgIGxldCBtb2R1bGVTdHlsZSA9IHt9O1xyXG4gICAgICAgIGxldCBpc0VtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKGlzRGVjb3JhdGUpIHtcclxuICAgICAgICAgICAgaXNFbXB0eSA9IEpTT04uc3RyaW5naWZ5KGNvbmZpZ0RhdGEpID09PSAne30nO1xyXG4gICAgICAgICAgICBtb2R1bGVTdHlsZSA9IHsgLi4ueyBtaW5IZWlnaHQ6ICc1MHB4JyB9IH1cclxuICAgICAgICAgICAgaWYgKGlzRW1wdHkpIHtcclxuICAgICAgICAgICAgICAgIG1vZHVsZVN0eWxlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLm1vZHVsZVN0eWxlLCAuLi57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoXCIgKyBQbGFjZWhvbGRlclsyXSArIFwiKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxODBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgSl9tb2R1bGUgZC1tb2R1bGUgJHtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogJyd9YH1cclxuICAgICAgICAgICAgICAgIGRhdGEtbW9kdWxlLXR5cGUtaWQ9e21vZHVsZVR5cGVJZH1cclxuICAgICAgICAgICAgICAgIHJlZj17cmVmID0+IHRoaXMubW9kdWxlUmVmID0gcmVmfVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e21vZHVsZVN0eWxlfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7IWlzRW1wdHkgJiYgdGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgICAgIHtpc0RlY29yYXRlICYmIDxNb2R1bGVXcmFwXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlRGF0YT17bW9kdWxlRGF0YX1cclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVSZWY9e3RoaXMubW9kdWxlUmVmfVxyXG4gICAgICAgICAgICAgICAgLz59XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogSVN0YXRlKSA9PiB7XHJcbiAgICByZXR1cm4geyBtb2R1bGU6IHN0YXRlLm1vZHVsZSB9OyAgIC8vIFRPRE8gZGlzcGF0Y2jkuLTml7bkuKLlnKjov5nph4xcclxufTtcclxuXHJcbmNvbnN0IGRpc3BhdGNoUHJvcHMgPSB7XHJcbiAgICBtb2R1bGVUb3BDaGFuZ2UsXHJcbiAgICBtb2R1bGVIZWlnaHRDaGFuZ2UsXHJcbn07XHJcblxyXG5jb25zdCBtZXJnZVByb3BzOiBhbnkgPSAoc3RhdGVQcm9wczogYW55LCBkaXNwYXRjaFByb3BzOiBhbnksIG93blByb3BzOiBhbnkpID0+IHtcclxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBvd25Qcm9wcyk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgZGlzcGF0Y2hQcm9wcywgbWVyZ2VQcm9wcywgeyB3aXRoUmVmOiB0cnVlIH0pKE1vZHVsZSk7IiwiaW1wb3J0IE1vZHVsZSBmcm9tICcuL01vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IE1vZHVsZTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgTW9kdWxlIGZyb20gJy4uL01vZHVsZSc7XHJcblxyXG5pbXBvcnQgeyBJTW9kdWxlRGF0YSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcblxyXG5pbnRlcmZhY2UgVXNlckRlZmluZVByb3BzIHtcclxuICAgIG1vZHVsZURhdGE6IElNb2R1bGVEYXRhO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVXNlckRlZmluZVN0YXRlIHtcclxuICAgIGNvZGU6IHN0cmluZztcclxuICAgIGlzQWN0aXZlOiBib29sZWFuO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckRlZmluZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxVc2VyRGVmaW5lUHJvcHMsIFVzZXJEZWZpbmVTdGF0ZT4ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBVc2VyRGVmaW5lUHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgY29kZTogcHJvcHMubW9kdWxlRGF0YS5kYXRhLmNvZGUsXHJcbiAgICAgICAgICAgIGlzQWN0aXZlOiBwcm9wcy5tb2R1bGVEYXRhLnRlbXBEYXRhLmlzQWN0aXZlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzOiBVc2VyRGVmaW5lUHJvcHMsIG5leHRTdGF0ZTogVXNlckRlZmluZVN0YXRlKSB7XHJcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBuZXh0UHJvcHMubW9kdWxlRGF0YS50ZW1wRGF0YSAmJiBuZXh0UHJvcHMubW9kdWxlRGF0YS50ZW1wRGF0YS5pc0FjdGl2ZTtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb2RlID09PSBuZXh0UHJvcHMubW9kdWxlRGF0YS5kYXRhLmNvZGUgJiZcclxuICAgICAgICAgICAgaXNBY3RpdmUgPT09IHRoaXMuc3RhdGUuaXNBY3RpdmVcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wczogVXNlckRlZmluZVByb3BzKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGNvZGU6IG5leHRQcm9wcy5tb2R1bGVEYXRhLmRhdGEuY29kZSxcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5omn6KGM55So5oi35Luj56CB54mH5q61XHJcbiAgICAgKi9cclxuICAgIGV4Y3V0ZUNvZGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjb2RlIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGNvbnN0IGVsID0gdGhpcy5yZWZzLm1vZHVsZTtcclxuICAgICAgICBsZXQgcmVuZGVyQ29kZSA9IGNvZGU7XHJcbiAgICAgICAgIWNvZGUgJiYgKHJlbmRlckNvZGUgPSBgYCk7XHJcbiAgICAgICAgJChlbCkuaHRtbChyZW5kZXJDb2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICB0aGlzLmV4Y3V0ZUNvZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5leGN1dGVDb2RlKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKi9cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjb2RlIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxNb2R1bGUgbW9kdWxlRGF0YT17dGhpcy5wcm9wcy5tb2R1bGVEYXRhfT5cclxuICAgICAgICAgICAgICAgIDxkaXYgcmVmPVwibW9kdWxlXCI+XHJcblxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvTW9kdWxlPlxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcblxyXG59IiwiXG5pbXBvcnQgVXNlckRlZmluZSBmcm9tICcuL1VzZXJEZWZpbmUnO1xuZXhwb3J0IGRlZmF1bHQgVXNlckRlZmluZTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IE1vZHVsZSBmcm9tICcuLi9Nb2R1bGUnO1xuaW1wb3J0IHsgSU1vZHVsZURhdGEsIEhvdHNwb3RJbmZvIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcbmltcG9ydCB7IEltYWdlSW5mbyB9IGZyb20gJy4uL0ltYWdlSG90c3BvdENvbmZpZy9pbnRlcmZhY2UnO1xuaW1wb3J0IEhvdHNwb3QgZnJvbSAnLi4vSG90c3BvdCc7XG5cbmludGVyZmFjZSBJbWFnZUhvdHNwb3RQcm9wcyB7XG4gICAgbW9kdWxlRGF0YTogSU1vZHVsZURhdGE7XG59XG5cbmludGVyZmFjZSBJbWFnZUhvdHNwb3RTdGF0ZSB7XG4gICAgaW1nczogSW1hZ2VJbmZvW107XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltYWdlSG90c3BvdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJbWFnZUhvdHNwb3RQcm9wcywgSW1hZ2VIb3RzcG90U3RhdGU+IHtcblxuICAgIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdFxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBJbWFnZUhvdHNwb3RQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIGNvbnN0IHsgaW1ncyB9ID0gcHJvcHMubW9kdWxlRGF0YS5kYXRhO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaW1ncyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZW5kZXJJbWdzID0gKGltZ3M6IEltYWdlSW5mb1tdKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtaW1nLXdyYXBcIj5cbiAgICAgICAgICAgICAgICB7aW1ncy5tYXAoKHYsIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGltZyBrZXk9e2l9IHNyYz17di51cmx9IC8+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZW5kZXJIb3RzcG90cyA9IChIb3RzcG90OiBIb3RzcG90SW5mb1tdKSA9PiB7XG4gICAgICAgIGNvbnN0IFJhdGUgPSAxO1xuICAgICAgICBjb25zdCBpc0RlY29yYXRlID0gdGhpcy5jb250ZXh0LkJBU0VfREFUQS5wYWdlVHlwZSA9PT0gMDtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1ob3RzcG90LXdyYXBcIj5cbiAgICAgICAgICAgICAgICB7SG90c3BvdCAmJiBIb3RzcG90Lm1hcCgodiwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGFyZWEgfSA9IHY7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmVhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgeCwgeSwgdywgaCB9ID0gYXJlYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9wID0gYCR7KHkgfHwgMCkgKiBSYXRlfXB4YDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVmdCA9IGAkeyh4IHx8IDApICogUmF0ZX1weGA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gYCR7KHcgfHwgMCkgKiBSYXRlfXB4YDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gYCR7KGggfHwgMCkgKiBSYXRlfXB4YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIHN0eWxlPXt7IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCB9fSBrZXk9e2l9IGhyZWY9e3YudXJsfSA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzRGVjb3JhdGUgJiYgPHNwYW4+54Ot5Yy6e2kgKyAxfTwvc3Bhbj59XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQge1xuICAgICAgICAgICAgbW9kdWxlRGF0YSxcbiAgICAgICAgICAgIG1vZHVsZURhdGE6IHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGltZ3MsXG4gICAgICAgICAgICAgICAgICAgIGhvdHNwb3RzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICBpZiAoaW1ncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpbWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxNb2R1bGUgbW9kdWxlRGF0YT17bW9kdWxlRGF0YX0+XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVySW1ncyhpbWdzKX1cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJIb3RzcG90cyhob3RzcG90cyl9XG4gICAgICAgICAgICA8LyBNb2R1bGU+XG4gICAgICAgICk7XG4gICAgfVxufSIsIlxuaW1wb3J0IEltYWdlSG90c3BvdCBmcm9tICcuL0ltYWdlSG90c3BvdCc7XG5leHBvcnQgZGVmYXVsdCBJbWFnZUhvdHNwb3Q7IiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNb2R1bGUgZnJvbSAnLi4vTW9kdWxlJztcblxuaW1wb3J0IHsgSU1vZHVsZURhdGEgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xuXG5pbnRlcmZhY2UgVGV4dFByb3BzIHtcbiAgICBtb2R1bGVEYXRhOiBJTW9kdWxlRGF0YTtcbn1cblxuY2xhc3MgVGV4dCBleHRlbmRzIENvbXBvbmVudDxUZXh0UHJvcHMsIHt9PiB7XG4gICAgY29uc3RydWN0b3IocHJvcHM6IFRleHRQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuXG4gICAgICAgIGNvbnN0IHsgbW9kdWxlRGF0YSB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgeyB0ZXh0LCBmb250V2VpZ2h0LCBmb250U2l6ZSB9ID0gbW9kdWxlRGF0YS5kYXRhO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPE1vZHVsZSBtb2R1bGVEYXRhPXttb2R1bGVEYXRhfT5cbiAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBmb250V2VpZ2h0LCBmb250U2l6ZSB9fT57dGV4dH08L3A+XG4gICAgICAgICAgICA8LyBNb2R1bGU+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0OyIsImltcG9ydCBUZXh0IGZyb20gJy4vVGV4dCc7XG5leHBvcnQgZGVmYXVsdCBUZXh0OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vT3V0ZXJDb21wb25lbnQuZC50c1wiIC8+XG5pbXBvcnQgU2xpZGVyIGZyb20gJ3JlYWN0LXNsaWNrJztcblxuaW1wb3J0IE1vZHVsZSBmcm9tICcuLi9Nb2R1bGUnO1xuaW1wb3J0IHsgSU1vZHVsZURhdGEsIEltYWdlSW5mbyB9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5cbmludGVyZmFjZSBDYXJvdXNlbFByb3BzIHtcbiAgICBtb2R1bGVEYXRhOiBJTW9kdWxlRGF0YTtcbn1cblxuaW50ZXJmYWNlIENhcm91c2VsU3RhdGUge1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcm91c2VsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PENhcm91c2VsUHJvcHMsIENhcm91c2VsU3RhdGU+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogQ2Fyb3VzZWxQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgfVxuXG4gICAgcmVuZGVyU2xpZGVyID0gKGltZ3M6IEltYWdlSW5mb1tdKSA9PiB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0ge1xuICAgICAgICAgICAgZG90czogdHJ1ZSxcbiAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxuICAgICAgICAgICAgc3BlZWQ6IDUwMCxcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXG4gICAgICAgICAgICBhdXRvcGxheVNwZWVkOiA4MDAsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8U2xpZGVyIHsuLi5zZXR0aW5nc30+XG4gICAgICAgICAgICAgICAge2ltZ3MubWFwKCh2LCBpKSA9PiAoPGRpdiBrZXk9e2l9PjxpbWcgc3JjPXt2LnVybH0gLz48L2Rpdj4pKX1cbiAgICAgICAgICAgIDwvU2xpZGVyPlxuICAgICAgICApO1xuXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQge1xuICAgICAgICAgICAgbW9kdWxlRGF0YSxcbiAgICAgICAgICAgIG1vZHVsZURhdGE6IHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGltZ3MsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBpZiAoaW1ncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpbWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxNb2R1bGUgbW9kdWxlRGF0YT17bW9kdWxlRGF0YX0+XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyU2xpZGVyKGltZ3MpfVxuICAgICAgICAgICAgPC9Nb2R1bGUgPlxuICAgICAgICApO1xuICAgIH1cbn0iLCJpbXBvcnQgQ2Fyb3VzZWwgZnJvbSAnLi9DYXJvdXNlbCc7XG5leHBvcnQgZGVmYXVsdCBDYXJvdXNlbDsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcclxuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ2FudGQnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuaW1wb3J0IE1vZHVsZSBmcm9tICcuLi9Nb2R1bGUnO1xyXG5pbXBvcnQgeyBJTW9kdWxlRGF0YSwgSG90c3BvdEluZm8sIElDb250ZXh0IH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuXHJcblxyXG5pbnRlcmZhY2UgTGF5ZXJQcm9wcyB7XHJcbiAgICBtb2R1bGVEYXRhOiBJTW9kdWxlRGF0YTtcclxufVxyXG5cclxuaW50ZXJmYWNlIExheWVyU3RhdGUge1xyXG5cclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXllciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxMYXllclByb3BzLCBMYXllclN0YXRlPiB7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBMYXllclByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XHJcbiAgICAgICAgQkFTRV9EQVRBOiBQcm9wVHlwZXMub2JqZWN0XHJcbiAgICB9XHJcblxyXG4gICAgcm9vdEVsOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOztcclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICB0aGlzLnJvb3RFbC5jbGFzc0xpc3QuYWRkKCdkLWxheWVyJyk7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5CQVNFX0RBVEEucGFnZVR5cGUgIT09IDApIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJvb3RFbCk7XHJcblxyXG4gICAgICAgICAgICAvLyDpmLvmraLmu5rliqjnqb/pgI9cclxuICAgICAgICAgICAgKGRvY3VtZW50IGFzIGFueSkucXVlcnlTZWxlY3RvcignaHRtbCcpLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuY2xvc2VNb2RhbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VNb2RhbCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnJvb3RFbC5yZW1vdmUoKTtcclxuICAgICAgICAvLyDmu5rliqjnqb/pgI/ov5jljp9cclxuICAgICAgICAoZG9jdW1lbnQgYXMgYW55KS5xdWVyeVNlbGVjdG9yKCdodG1sJykuc3R5bGUub3ZlcmZsb3cgPSAnaW5pdGlhbCc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJldmVudFNjcm9sbCA9IChlOiBSZWFjdC5Ub3VjaEV2ZW50KSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuY2FuY2VsYWJsZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyQ2hpbGQgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCB7XHJcbiAgICAgICAgICAgIG1vZHVsZURhdGE6IHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpbWdVcmwsXHJcbiAgICAgICAgICAgICAgICAgICAgaG90c3BvdHMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGlmICghaW1nVXJsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtaW1nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e2ltZ1VybH0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImQtY2xvc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xvc2V9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gdHlwZT1cImNsb3NlXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtaG90c3BvdHMtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7aG90c3BvdHMgJiYgaG90c3BvdHMubWFwKCh2OiBIb3RzcG90SW5mbykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17di51cmx9PjwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtbWFza1wiIG9uQ2xpY2s9e3RoaXMub25DbG9zZX0gb25Ub3VjaE1vdmU9e3RoaXMucHJldmVudFNjcm9sbH0+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IG1vZHVsZURhdGEgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgeyBwYWdlVHlwZSB9ID0gdGhpcy5jb250ZXh0LkJBU0VfREFUQTtcclxuXHJcbiAgICAgICAgLy8g6KOF5L+u5pe255qE5bGV56S6XHJcbiAgICAgICAgaWYgKHBhZ2VUeXBlID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8TW9kdWxlIG1vZHVsZURhdGE9e21vZHVsZURhdGF9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImQtaGludFwiPua1ruWxguaooeWdl+aViOaenOivt+WcqOmihOiniOmhteS4reafpeecizwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvTW9kdWxlPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBSZWFjdERPTS5jcmVhdGVQb3J0YWwoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNoaWxkKCksXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3RFbCxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IExheWVyIGZyb20gJy4vTGF5ZXInO1xuZXhwb3J0IGRlZmF1bHQgTGF5ZXI7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IEljb24gfSBmcm9tICdhbnRkJztcblxuaW1wb3J0IE1vZHVsZSBmcm9tICcuLi9Nb2R1bGUnO1xuaW1wb3J0IHsgSU1vZHVsZURhdGEsIEhvdHNwb3RJbmZvLCBJQ29udGV4dCB9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5cblxuaW50ZXJmYWNlIEZpeGVkUHJvcHMge1xuICAgIG1vZHVsZURhdGE6IElNb2R1bGVEYXRhO1xufVxuXG5pbnRlcmZhY2UgRml4ZWRTdGF0ZSB7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRml4ZWQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8Rml4ZWRQcm9wcywgRml4ZWRTdGF0ZT4ge1xuXG5cbiAgICBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xuICAgICAgICBCQVNFX0RBVEE6IFByb3BUeXBlcy5vYmplY3RcbiAgICB9XG5cbiAgICByb290RWw6SFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBGaXhlZFByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5CQVNFX0RBVEEucGFnZVR5cGUgIT09IDApIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yb290RWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIHRoaXMucm9vdEVsLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIG9uQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMucm9vdEVsLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHJlbmRlckNoaWxkID0gKCkgPT4ge1xuXG4gICAgICAgIGxldCB7XG4gICAgICAgICAgICBtb2R1bGVEYXRhOiB7XG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBpbWdVcmwsXG4gICAgICAgICAgICAgICAgICAgIGhvdHNwb3RzLFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbCxcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxEaXIsXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsVW5pdCxcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbCxcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbERpcixcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbFVuaXQsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aFVuaXQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICAgIHZlcnRpY2FsVW5pdCA9PT0gdW5kZWZpbmVkICYmICh2ZXJ0aWNhbFVuaXQgPSAnJScpO1xuICAgICAgICBob3Jpem9udGFsVW5pdCA9PT0gdW5kZWZpbmVkICYmIChob3Jpem9udGFsVW5pdCA9ICclJyk7XG5cbiAgICAgICAgbGV0IGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbTtcblxuICAgICAgICBpZiAodmVydGljYWxEaXIgPT09ICd0b3AnKSB7XG4gICAgICAgICAgICB0b3AgPSBgJHt2ZXJ0aWNhbH0ke3ZlcnRpY2FsVW5pdH1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmVydGljYWxEaXIgPSB2ZXJ0aWNhbERpcjtcbiAgICAgICAgICAgIHZlcnRpY2FsVW5pdCA9IHZlcnRpY2FsVW5pdDtcbiAgICAgICAgICAgIGJvdHRvbSA9IGAke3ZlcnRpY2FsfSR7dmVydGljYWxVbml0fWA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaG9yaXpvbnRhbERpciA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICBsZWZ0ID0gYCR7aG9yaXpvbnRhbH0ke2hvcml6b250YWxVbml0fWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBob3Jpem9udGFsID0gaG9yaXpvbnRhbDtcbiAgICAgICAgICAgIGhvcml6b250YWxVbml0ID0gaG9yaXpvbnRhbFVuaXQ7XG4gICAgICAgICAgICByaWdodCA9IGAke2hvcml6b250YWx9JHtob3Jpem9udGFsVW5pdH1gO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1maXhlZFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogYCR7d2lkdGggPyBgJHt3aWR0aH0ke3dpZHRoVW5pdH1gIDogJ2F1dG8nfWBcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1pbWdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e2ltZ1VybH0gLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWhvdHNwb3RzLXdyYXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtob3RzcG90cyAmJiBob3RzcG90cy5tYXAoKHY6IEhvdHNwb3RJbmZvKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17di51cmx9PjwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgbW9kdWxlRGF0YSB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgaXNEZWNvcmF0ZSA9IHRoaXMuY29udGV4dC5CQVNFX0RBVEEucGFnZVR5cGUgPT09IDA7XG5cbiAgICAgICAgLy8g6KOF5L+u5pe255qE5bGV56S6XG4gICAgICAgIGlmIChpc0RlY29yYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxNb2R1bGUgbW9kdWxlRGF0YT17bW9kdWxlRGF0YX0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImQtaGludFwiPuWumuS9jeaooeWdl+aViOaenOivt+WcqOmihOiniOmhteS4reafpeecizwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L01vZHVsZT5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3RET00uY3JlYXRlUG9ydGFsKFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2hpbGQoKSxcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3RFbCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgIH1cbn0iLCJpbXBvcnQgRml4ZWQgZnJvbSAnLi9GaXhlZCc7XG5pbXBvcnQgJy4vRml4ZWQuc2Nzcyc7XG5leHBvcnQgZGVmYXVsdCBGaXhlZDsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgUmVhY3RMb2FkaW5nIGZyb20gJ3JlYWN0LWxvYWRpbmcnO1xyXG5cclxuaW1wb3J0IHsgSU1vZHVsZURhdGEsIElTdGF0ZSwgSUJBU0VfREFUQSwgSUNvbnRleHQgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgVXNlckRlZmluZSBmcm9tICcuLi9Vc2VyRGVmaW5lJztcclxuaW1wb3J0IEltYWdlSG90c3BvdCBmcm9tICcuLi9JbWFnZUhvdHNwb3QnO1xyXG5pbXBvcnQgVGV4dCBmcm9tICcuLi9UZXh0JztcclxuaW1wb3J0IHsgZmV0Y2hNb2R1bGVMaXN0LCBmb2N1c01vZHVsZSwgYWRkTW9kdWxlUmVxdWVzdCB9IGZyb20gJy4uLy4uL2FjdGlvbnMnO1xyXG5pbXBvcnQgQ2Fyb3VzZWwgZnJvbSAnLi4vQ2Fyb3VzZWwnO1xyXG5pbXBvcnQgTGF5ZXIgZnJvbSAnLi4vTGF5ZXInO1xyXG5pbXBvcnQgRml4ZWQgZnJvbSAnLi4vRml4ZWQnO1xyXG5pbXBvcnQgaXNTZXJ2ZXIgZnJvbSAnLi4vLi4vY29tbW9uL3NjcmlwdC9pc1NlcnZlcic7XHJcblxyXG5pbnRlcmZhY2UgSUNhbnZhc1Byb3BzIHtcclxuICAgIGZldGNoTW9kdWxlTGlzdDogKHBhZ2VJZDogbnVtYmVyKSA9PiB2b2lkO1xyXG4gICAgbW9kdWxlTGlzdDogSU1vZHVsZURhdGFbXTtcclxuICAgIGFkZE1vZHVsZVJlcXVlc3Q6IChhcmdzOiBhbnkpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJQ2FudmFzU3RhdGUge1xyXG4gICAgbmV4dFBsYWNlaG9sZGVyPzogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBpc0xvYWRpbmc6IGJvb2xlYW47XHJcbn1cclxuXHJcbmNsYXNzIENhbnZhcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJQ2FudmFzUHJvcHMsIElDYW52YXNTdGF0ZT4ge1xyXG5cclxuICAgIHJvb3Q/OiBIVE1MRGl2RWxlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogSUNhbnZhc1Byb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIG5leHRQbGFjZWhvbGRlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBpc0xvYWRpbmc6IHRydWUsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XHJcbiAgICAgICAgQkFTRV9EQVRBOiBQcm9wVHlwZXMub2JqZWN0XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgICAgICBpZihpc1NlcnZlcigpKXtcclxuICAgICAgICAgICAgLy8g5Yid5aeL5YyW5qih5Z2XXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZmV0Y2hNb2R1bGVMaXN0KHRoaXMuY29udGV4dC5CQVNFX0RBVEEucGFnZUlkLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICAvLyDlvIDlkK9sb2FkaW5nXHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuQkFTRV9EQVRBLnBhZ2VUeXBlID09PSAwKSB7IC8vIHR5cGXkuLow5Li66KOF5L+uXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgKHdpbmRvdyBhcyBhbnkpLnJlc2l6ZUlmcmFtZSgpO1xyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wczogSUNhbnZhc1Byb3BzKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnlLvluIPmm7TmlrBcclxuICAgICAqL1xyXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuQkFTRV9EQVRBLnBhZ2VUeXBlID09PSAwKSB7IC8vIHR5cGXkuLow5Li66KOF5L+uXHJcbiAgICAgICAgICAgICh3aW5kb3cgYXMgYW55KS5yZXNpemVJZnJhbWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGRyYWdPdmVyID0gKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgbmV4dFBsYWNlaG9sZGVyIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGlmIChuZXh0UGxhY2Vob2xkZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlci5jbGFzc05hbWUgPSAnZC1uZXh0LXBsYWNlaG9sZGVyJztcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gYOadvuW8gOm8oOagh+aooeWdl+S8muiiq+aUvue9ruWIsOi/memHjGA7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgbmV4dFBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcixcclxuICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb290ICYmIHRoaXMucm9vdC5hcHBlbmRDaGlsZChwbGFjZWhvbGRlcik7XHJcbiAgICAgICAgICAgICAgICAod2luZG93IGFzIGFueSkucmVzaXplSWZyYW1lKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRyYWdMZWF2ZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmNsZWFyTmV4dFBsYWNlaG9sZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmuIXpmaRkcmFnb3ZlcuaXtueUn+aIkOeahOWNoOS9jeWFg+e0oFxyXG4gICAgICovXHJcbiAgICBjbGVhck5leHRQbGFjZWhvbGRlciA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IG5leHRQbGFjZWhvbGRlciB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBpZiAobmV4dFBsYWNlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgIG5leHRQbGFjZWhvbGRlci5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLnJlc2l6ZUlmcmFtZSgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBuZXh0UGxhY2Vob2xkZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkcm9wID0gYXN5bmMgKGU6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgcGFnZUlkIH0gPSB0aGlzLmNvbnRleHQuQkFTRV9EQVRBO1xyXG4gICAgICAgIGNvbnN0IG1vZHVsZVR5cGVJZCA9IE51bWJlci5wYXJzZUludChlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdtb2R1bGVUeXBlSWQnKSwgMTApO1xyXG4gICAgICAgIGNvbnN0IHsgYWRkTW9kdWxlUmVxdWVzdCB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBhZGRNb2R1bGVSZXF1ZXN0KHtcclxuICAgICAgICAgICAgbW9kdWxlVHlwZUlkLFxyXG4gICAgICAgICAgICBwYWdlSWQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jbGVhck5leHRQbGFjZWhvbGRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclBsYWNlaG9sZGVyID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1lbXB0eS1wbGFjZWhvbGRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCIvL2d3LmFsaWNkbi5jb20vdGZzL1RCMVNtOEFSWFhYWFhjaWFYWFhYWFhYWFhYWC0yNTQtMjEyLnBuZ18yOTB4MTAwMDAuanBnXCIgLz5cclxuICAgICAgICAgICAgICAgIDxwPuaCqOi/mOacqua3u+WKoOS7u+S9leaooeWdlzwvcD5cclxuICAgICAgICAgICAgICAgIDxwPuivt+WwhuW3puS+p+aooeWdl+aLluWKqOWIsOi/memHjDwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuXHJcbiAgICAgICAgY29uc3QgbW9kdWxlTGlzdDogSU1vZHVsZURhdGFbXSA9IHRoaXMucHJvcHMubW9kdWxlTGlzdDtcclxuICAgICAgICBjb25zdCBpc0RlY29yYXRlID0gdGhpcy5jb250ZXh0LkJBU0VfREFUQS5wYWdlVHlwZSA9PT0gMDtcclxuICAgICAgICBjb25zdCB7IGlzTG9hZGluZyB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBmdW5jdGlvbiBnZXRNb2R1bGVMaXN0KG1vZHVsZUxpc3Q6IElNb2R1bGVEYXRhW10pIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghbW9kdWxlTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVMaXN0Lm1hcCgodiwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBtb2R1bGVUeXBlSWQgfSA9IHY7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZHVsZVR5cGVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxVc2VyRGVmaW5lIGtleT17di5tb2R1bGVJZH0gbW9kdWxlRGF0YT17dn0gLz47XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPEltYWdlSG90c3BvdCBrZXk9e3YubW9kdWxlSWR9IG1vZHVsZURhdGE9e3Z9IC8+O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxUZXh0IGtleT17di5tb2R1bGVJZH0gbW9kdWxlRGF0YT17dn0gLz47XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPENhcm91c2VsIGtleT17di5tb2R1bGVJZH0gbW9kdWxlRGF0YT17dn0gLz47XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPExheWVyIGtleT17di5tb2R1bGVJZH0gbW9kdWxlRGF0YT17dn0gLz47XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPEZpeGVkIGtleT17di5tb2R1bGVJZH0gbW9kdWxlRGF0YT17dn0gLz47XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtbW9kdWxlLWxpc3RcIlxyXG4gICAgICAgICAgICAgICAgb25EcmFnT3Zlcj17dGhpcy5kcmFnT3Zlcn1cclxuICAgICAgICAgICAgICAgIG9uRHJhZ0xlYXZlPXt0aGlzLmRyYWdMZWF2ZX1cclxuICAgICAgICAgICAgICAgIG9uRHJvcD17KGU6IGFueSkgPT4geyB0aGlzLmRyb3AoZSk7IH19ICAvLyBUT0RPIGFueT9cclxuICAgICAgICAgICAgICAgIHJlZj17KHJvb3Q6IEhUTUxEaXZFbGVtZW50KSA9PiB7IHRoaXMucm9vdCA9IHJvb3Q7IH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLmNvbnRleHQuQkFTRV9EQVRBLnBhZ2VUeXBlID09PSAwXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkLWhlYWRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9eyhlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnTGVhdmU9eyhlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnPXsoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH19XHJcbiAgICAgICAgICAgICAgICAgICAgPjwvZGl2Pn1cclxuICAgICAgICAgICAgICAgIHtpc0xvYWRpbmcgJiZcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtbG9hZGluZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8UmVhY3RMb2FkaW5nIHR5cGU9XCJzcGlubmluZ0J1YmJsZXNcIiBjb2xvcj17JyMxODkwZmYnfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAge2lzRGVjb3JhdGUgJiYgKCFtb2R1bGVMaXN0IHx8IG1vZHVsZUxpc3QubGVuZ3RoID09PSAwKSAmJiB0aGlzLnJlbmRlclBsYWNlaG9sZGVyKCl9XHJcbiAgICAgICAgICAgICAgICB7Z2V0TW9kdWxlTGlzdChtb2R1bGVMaXN0KX1cclxuICAgICAgICAgICAgPC8gZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogSVN0YXRlKSA9PiB7XHJcbiAgICByZXR1cm4geyBtb2R1bGVMaXN0OiBzdGF0ZS5tb2R1bGUubW9kdWxlTGlzdCwgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCB7XHJcbiAgICBmZXRjaE1vZHVsZUxpc3QsXHJcbiAgICBmb2N1c01vZHVsZSxcclxuICAgIGFkZE1vZHVsZVJlcXVlc3QsXHJcbn0pKENhbnZhcyk7XHJcbiIsImltcG9ydCBDYW52YXMgZnJvbSAnLi9DYW52YXMnO1xuZXhwb3J0IGRlZmF1bHQgQ2FudmFzOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFrQkE7QUFNQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBL0VBO0FBQ0E7QUFDQTtBQUNBO0FBOEVBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQU9BOztBQW5IQTtBQUNBO0FBQ0E7QUFxSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUMzSkE7QUFDQTs7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFjQTtBQUNBO0FBRUE7QUFHQTtBQVNBO0FBQ0E7QUFSQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFPQTtBQUNBO0FBTUE7O0FBN0hBO0FBQ0E7QUFDQTtBQThIQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7QUM1S0E7QUFFQTs7O0FDRkE7QUFDQTtBQUNBO0FBY0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFHQTs7O0FDOUVBO0FBQ0E7OztBQ0ZBO0FBQ0E7QUFFQTtBQWFBO0FBTUE7QUFDQTtBQU9BO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFHQTtBQUlBO0FBeENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFzQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBOztBQXBFQTtBQUNBO0FBQ0E7OztBQ25CQTtBQUNBOzs7QUNGQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBOzs7QUMxQkE7QUFDQTs7Ozs7OztBQ0RBO0FBQ0E7QUFDQTtBQUVBO0FBV0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFsQkE7QUFvQkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTs7O0FDeERBO0FBQ0E7Ozs7Ozs7Ozs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBY0E7QUFHQTtBQUNBO0FBT0E7QUFnQkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFJQTtBQUdBO0FBckVBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBbURBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUNBO0FBSUE7QUFFQTs7QUF2RkE7QUFDQTtBQUNBOzs7QUM1QkE7QUFDQTs7O0FDREE7QUFDQTtBQUNBO0FBR0E7QUFZQTtBQVNBO0FBQ0E7QUFIQTtBQWdCQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBaUJBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUE3RUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBcUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUNBO0FBSUE7QUFFQTs7QUF6R0E7QUFDQTtBQUNBOzs7Ozs7QUN0QkE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7OztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBSUE7QUFDQTtBQTZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFsR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkRBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBOztBQXBKQTtBQUNBO0FBQ0E7QUFxSkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDck1BO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///45\n')},50:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(11);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n\r\naxios__WEBPACK_IMPORTED_MODULE_0___default.a.interceptors.response.use(function (res) {\r\n    if (res.status === 200 && res.data.success === false && res.data.msg === 'no login') {\r\n        location.href = '/page/login';\r\n    }\r\n    return res;\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbW1vbi9zY3JpcHQvaW50ZXJjZXB0b3IudHM/NTZkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7XHJcbiAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwICYmIHJlcy5kYXRhLnN1Y2Nlc3MgPT09IGZhbHNlICYmIHJlcy5kYXRhLm1zZyA9PT0gJ25vIGxvZ2luJykge1xyXG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnL3BhZ2UvbG9naW4nO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufSk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///50\n")},72:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(module) {(function () {\n    var enterModule = __webpack_require__(20).enterModule;\n\n    enterModule && enterModule(module);\n})();\n\nconst _default = {\n    Name: 'NaEditor',\n    Version: 5\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (_default);\n;\n\n(function () {\n    var reactHotLoader = __webpack_require__(20).default;\n\n    var leaveModule = __webpack_require__(20).leaveModule;\n\n    if (!reactHotLoader) {\n        return;\n    }\n\n    reactHotLoader.register(_default, 'default', 'D:/Project/NaEditor/src/db/dbConfig.js');\n    leaveModule(module);\n})();\n\n;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(49)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2RiL2RiQ29uZmlnLmpzPzUyMWYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xuICAgIE5hbWU6ICdOYUVkaXRvcicsXG4gICAgVmVyc2lvbjogNVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///72\n")},73:function(module,exports){eval("//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzMuanMiLCJzb3VyY2VzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///73\n")},89:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/icon/index.js\nvar icon = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(1);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(10);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/qrcode.react/lib/index.js\nvar lib = __webpack_require__(65);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ./src/common/script/action.ts\nvar action = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./config.js\nvar config = __webpack_require__(30);\n\n// CONCATENATED MODULE: ./src/component/TopBar/Topbar.tsx\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Topbar_Topbar extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.closePreview = () => {\r\n            this.setState({\r\n                isPreviewActive: false,\r\n            });\r\n        };\r\n        this.renderPreview = () => {\r\n            const { pageId, pageInfo: { pageName } } = this.context.BASE_DATA;\r\n            return (react_default.a.createElement("div", { className: `d-preview-wrap ${this.state.isPreviewActive ? \'active\' : \'\'}` },\r\n                react_default.a.createElement("div", { className: "d-phone" },\r\n                    react_default.a.createElement("div", { className: "J_previewContainer d-preview-container" })),\r\n                react_default.a.createElement("div", { className: "d-desc" },\r\n                    react_default.a.createElement("div", { className: "d-qrcode" },\r\n                        react_default.a.createElement(lib_default.a, { value: `${config["serverAddress"]}/page/preview?pageId=${pageId}` })),\r\n                    react_default.a.createElement("p", null, "\\u9884\\u89C8\\u9875\\u6709\\u6548\\u671F30\\u5206\\u949F\\uFF0C\\u53D1\\u5E03\\u540E\\u6C38\\u4E45\\u751F\\u6548"),\r\n                    react_default.a.createElement("h2", null, pageName)),\r\n                react_default.a.createElement("div", { className: "d-close-btn J_closeBtn", onClick: this.closePreview },\r\n                    react_default.a.createElement(icon["a" /* default */], { type: "close" })),\r\n                react_default.a.createElement("div", { className: "d-canvas-filter" })));\r\n        };\r\n        this.preview = () => {\r\n            const { pageId } = this.context.BASE_DATA;\r\n            this.setState({\r\n                isPreviewActive: true,\r\n            });\r\n            document.querySelector(\'.J_previewContainer\').innerHTML = `\r\n\t\t<iframe class="cd-canvas J_canvas" src="/page/preview?pageId=${pageId}">                \r\n\t\t</iframe>`;\r\n        };\r\n        this.logout = () => __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield action["a" /* default */].logout();\r\n            location.href = \'/page/login\';\r\n        });\r\n        this.state = {\r\n            isMounted: false,\r\n            isPreviewActive: false,\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.setState({\r\n            isMounted: true,\r\n        });\r\n    }\r\n    render() {\r\n        const { hasPreview, hasPublish, username } = this.props;\r\n        const { isMounted } = this.state;\r\n        return (react_default.a.createElement("div", { className: "d-top-bar" },\r\n            react_default.a.createElement("a", { className: "d-left", href: "/" },\r\n                react_default.a.createElement("div", { className: "d-logo" },\r\n                    react_default.a.createElement("img", { src: "//naeditor-image.oss-cn-shenzhen.aliyuncs.com/timg.jpg?x-oss-process=image/resize,w_30" })),\r\n                react_default.a.createElement("h2", null, "NaEditor")),\r\n            react_default.a.createElement("div", { className: "d-right" },\r\n                hasPreview &&\r\n                    react_default.a.createElement(react_default.a.Fragment, null,\r\n                        react_default.a.createElement("div", { className: "d-line" }),\r\n                        react_default.a.createElement("div", { className: "J_preview d-preview", onClick: this.preview }, "\\u9884\\u89C8")),\r\n                hasPublish &&\r\n                    react_default.a.createElement(react_default.a.Fragment, null,\r\n                        react_default.a.createElement("div", { className: "d-line" }),\r\n                        react_default.a.createElement("div", { className: "J_publish d-publish" }, "\\u53D1\\u5E03")),\r\n                react_default.a.createElement("div", { className: "d-line" }),\r\n                react_default.a.createElement("div", { className: "d-username" },\r\n                    react_default.a.createElement("span", null,\r\n                        "\\u60A8\\u597D\\uFF0C",\r\n                        username),\r\n                    react_default.a.createElement(icon["a" /* default */], { type: "logout", onClick: this.logout }))),\r\n            hasPreview && isMounted && react_dom_default.a.createPortal(this.renderPreview(), window.document.querySelector(\'.J_previewWrap\'))));\r\n    }\r\n}\r\nTopbar_Topbar.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\nTopbar_Topbar.defaultProps = {\r\n    hasPreview: true,\r\n    hasPublish: true,\r\n};\r\n/* harmony default export */ var TopBar_Topbar = (Topbar_Topbar);\r\n\n// EXTERNAL MODULE: ./src/component/TopBar/Topbar.scss\nvar component_TopBar_Topbar = __webpack_require__(112);\n\n// CONCATENATED MODULE: ./src/component/TopBar/index.ts\n\r\n\r\n/* harmony default export */ var TopBar = __webpack_exports__["a"] = (TopBar_Topbar);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9Ub3BCYXIvVG9wYmFyLnRzeD9jN2RlIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L1RvcEJhci9pbmRleC50cz82NzgzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEljb24gfSBmcm9tICdhbnRkJztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XHJcbmltcG9ydCBRUkNvZGUgZnJvbSAncXJjb2RlLnJlYWN0JztcclxuaW1wb3J0IEFjdGlvbiBmcm9tICcuLi8uLi9jb21tb24vc2NyaXB0L2FjdGlvbic7XHJcbmltcG9ydCB7IHNlcnZlckFkZHJlc3MgfSBmcm9tICcuLi8uLi8uLi9jb25maWcnO1xyXG5cclxuaW50ZXJmYWNlIFRvcGJhclByb3BzIHtcclxuICAgIGhhc1ByZXZpZXc/OiBib29sZWFuO1xyXG4gICAgaGFzUHVibGlzaD86IGJvb2xlYW47XHJcbiAgICB1c2VybmFtZT86IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFRvcGJhclN0YXRlIHtcclxuICAgIGlzTW91bnRlZDogYm9vbGVhbjtcclxuICAgIGlzUHJldmlld0FjdGl2ZTogYm9vbGVhbjtcclxufVxyXG5cclxuXHJcbmNsYXNzIFRvcGJhciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxUb3BiYXJQcm9wcywgVG9wYmFyU3RhdGU+IHtcclxuXHJcbiAgICBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xyXG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHM6IFRvcGJhclByb3BzID0ge1xyXG4gICAgICAgIGhhc1ByZXZpZXc6IHRydWUsXHJcbiAgICAgICAgaGFzUHVibGlzaDogdHJ1ZSxcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogVG9wYmFyUHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgaXNNb3VudGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNQcmV2aWV3QWN0aXZlOiBmYWxzZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzTW91bnRlZDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZVByZXZpZXcgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzUHJldmlld0FjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUHJldmlldyA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IHBhZ2VJZCwgcGFnZUluZm86IHsgcGFnZU5hbWUgfSB9ID0gdGhpcy5jb250ZXh0LkJBU0VfREFUQTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGQtcHJldmlldy13cmFwICR7dGhpcy5zdGF0ZS5pc1ByZXZpZXdBY3RpdmUgPyAnYWN0aXZlJyA6ICcnfWB9PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLXBob25lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJKX3ByZXZpZXdDb250YWluZXIgZC1wcmV2aWV3LWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZGVzY1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1xcmNvZGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFFSQ29kZSB2YWx1ZT17YCR7c2VydmVyQWRkcmVzc30vcGFnZS9wcmV2aWV3P3BhZ2VJZD0ke3BhZ2VJZH1gfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPumihOiniOmhteacieaViOacnzMw5YiG6ZKf77yM5Y+R5biD5ZCO5rC45LmF55Sf5pWIPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMj57cGFnZU5hbWV9PC9oMj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImQtY2xvc2UtYnRuIEpfY2xvc2VCdG5cIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VQcmV2aWV3fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxJY29uIHR5cGU9XCJjbG9zZVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1jYW52YXMtZmlsdGVyXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJldmlldyA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IHBhZ2VJZCB9ID0gdGhpcy5jb250ZXh0LkJBU0VfREFUQTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNQcmV2aWV3QWN0aXZlOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuSl9wcmV2aWV3Q29udGFpbmVyJykgYXMgYW55KS5pbm5lckhUTUwgPSBgXHJcblx0XHQ8aWZyYW1lIGNsYXNzPVwiY2QtY2FudmFzIEpfY2FudmFzXCIgc3JjPVwiL3BhZ2UvcHJldmlldz9wYWdlSWQ9JHtwYWdlSWR9XCI+ICAgICAgICAgICAgICAgIFxyXG5cdFx0PC9pZnJhbWU+YDtcclxuICAgIH1cclxuXHJcbiAgICBsb2dvdXQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQWN0aW9uLmxvZ291dCgpO1xyXG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnL3BhZ2UvbG9naW4nO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IGhhc1ByZXZpZXcsIGhhc1B1Ymxpc2gsIHVzZXJuYW1lIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IHsgaXNNb3VudGVkIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC10b3AtYmFyXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJkLWxlZnRcIiBocmVmPVwiL1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1sb2dvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLy9uYWVkaXRvci1pbWFnZS5vc3MtY24tc2hlbnpoZW4uYWxpeXVuY3MuY29tL3RpbWcuanBnP3gtb3NzLXByb2Nlc3M9aW1hZ2UvcmVzaXplLHdfMzBcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMj5OYUVkaXRvcjwvaDI+XHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICB7aGFzUHJldmlldyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtbGluZVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIkpfcHJldmlldyBkLXByZXZpZXdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJldmlld31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID7pooTop4g8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAge2hhc1B1Ymxpc2ggJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWxpbmVcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiSl9wdWJsaXNoIGQtcHVibGlzaFwiPuWPkeW4gzwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtbGluZVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC11c2VybmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7mgqjlpb3vvIx7dXNlcm5hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiB0eXBlPVwibG9nb3V0XCIgb25DbGljaz17dGhpcy5sb2dvdXR9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIHtoYXNQcmV2aWV3ICYmIGlzTW91bnRlZCAmJiBSZWFjdERPTS5jcmVhdGVQb3J0YWwoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQcmV2aWV3KCksXHJcbiAgICAgICAgICAgICAgICAgICAgKHdpbmRvdyBhcyBhbnkpLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5KX3ByZXZpZXdXcmFwJyksXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRvcGJhcjtcclxuIiwiaW1wb3J0IFRvcGJhciBmcm9tICcuL1RvcGJhcic7XG5pbXBvcnQgJy4vVG9wYmFyLnNjc3MnO1xuZXhwb3J0IGRlZmF1bHQgVG9wYmFyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBO0FBV0E7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBSUE7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUF6REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFpREE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBR0E7QUFNQTs7QUE3R0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUF5R0E7Ozs7OztBQ3RJQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///89\n')},9:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(module) {/* unused harmony export REFRESH_MODULE */\n/* unused harmony export refreshModule */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return REFRESH_MODULE_LIST; });\n/* unused harmony export refreshModuleList */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ADD_MODULE; });\n/* unused harmony export addModule */\n/* unused harmony export ADD_MODULE_REQUEST */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"n\", function() { return addModuleRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return REMOVE_MODULE; });\n/* unused harmony export removeModule */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"w\", function() { return removeModuleRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return SHOW_CONFIG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"y\", function() { return showConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return HIDE_CONFIG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"s\", function() { return hideConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return FOCUS_MODULE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"r\", function() { return focusModule; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return UPDATE_MODULE; });\n/* unused harmony export updateModule */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return SAVE_CONFIG_REQUEST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"x\", function() { return saveConfigRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return POSITION_MODULE; });\n/* unused harmony export positionModule */\n/* unused harmony export POSITION_MODULE_REQUEST */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"v\", function() { return positionModuleRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return COPY_MODULE; });\n/* unused harmony export copyModule */\n/* unused harmony export COPY_MODULE_REQUEST */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"p\", function() { return copyModuleRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return MODULE_TOP_CHANGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"u\", function() { return moduleTopChange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return MODULE_HEIGHT_CHANGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"t\", function() { return moduleHeightChange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return ALL_MODULE_TOP_CHANGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"o\", function() { return allModuleTopChange; });\n/* unused harmony export FETCH_MODULE_LIST */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"q\", function() { return fetchModuleList; });\n/* harmony import */ var _common_script_action__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);\n(function () {\n    var enterModule = __webpack_require__(20).enterModule;\n\n    enterModule && enterModule(module);\n})();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n\n\nconst REFRESH_MODULE = 'REFRESH_MODULE';\nconst refreshModule = moduleData => {\n    return {\n        type: REFRESH_MODULE,\n        moduleData\n    };\n};\n\nconst REFRESH_MODULE_LIST = 'REFRESH_MODULE_LIST';\nconst refreshModuleList = moduleList => {\n    return {\n        type: REFRESH_MODULE_LIST,\n        moduleList\n    };\n};\n\n// 添加模块\nconst ADD_MODULE = 'ADD_MODULE';\nconst addModule = ({ moduleData, preModuleId }) => ({\n    type: ADD_MODULE,\n    moduleData,\n    preModuleId\n});\n\n// 添加模块请求\nconst ADD_MODULE_REQUEST = 'ADD_MODULE_REQUEST';\nconst addModuleRequest = args => {\n    return (() => {\n        var _ref = _asyncToGenerator(function* (dispatch) {\n            const moduleData = yield _common_script_action__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].addModule(args);\n            dispatch(addModule({\n                moduleData,\n                preModuleId: args.preModuleId\n            }));\n            return moduleData;\n        });\n\n        return function (_x) {\n            return _ref.apply(this, arguments);\n        };\n    })();\n};\n\n// 删除模块\nconst REMOVE_MODULE = 'REMOVE_MODULE';\nconst removeModule = moduleId => ({\n    type: REMOVE_MODULE,\n    moduleId\n});\n\n/**\r\n * 删除模块请求\r\n * @param {Object} args 入参 包含moduleId与pageId\r\n */\nconst removeModuleRequest = args => (() => {\n    var _ref2 = _asyncToGenerator(function* (dispatch) {\n        const data = yield _common_script_action__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].removeModule(args);\n        if (data.result === true) {\n            const { moduleId } = args;\n            dispatch(removeModule(data.moduleId));\n        }\n    });\n\n    return function (_x2) {\n        return _ref2.apply(this, arguments);\n    };\n})();\n\n// 打开配置框\nconst SHOW_CONFIG = 'SHOW_CONFIG';\nconst showConfig = moduleData => {\n\n    return {\n        type: SHOW_CONFIG,\n        moduleData\n    };\n};\n\n// 关闭配置框\nconst HIDE_CONFIG = 'HIDE_CONFIG';\nconst hideConfig = hideConfig => {\n    return {\n        type: HIDE_CONFIG\n    };\n};\n\n// 聚焦模块\nconst FOCUS_MODULE = 'FOCUS_MODULE';\nconst focusModule = moduleId => {\n    return {\n        type: FOCUS_MODULE,\n        moduleId\n    };\n};\n\n// 更新模块\nconst UPDATE_MODULE = 'UPDATE_MODULE';\nconst updateModule = moduleData => {\n    return {\n        type: UPDATE_MODULE,\n        moduleData\n    };\n};\n\n// 保存模块配置\nconst SAVE_CONFIG_REQUEST = 'SAVE_CONFIG_REQUEST';\nconst saveConfigRequest = moduleData => {\n    return (() => {\n        var _ref3 = _asyncToGenerator(function* (dispatch) {\n            dispatch(updateModule((yield _common_script_action__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].updateModule(moduleData))));\n        });\n\n        return function (_x3) {\n            return _ref3.apply(this, arguments);\n        };\n    })();\n};\n\n// 移动模块\nconst POSITION_MODULE = 'POSITION_MODULE';\nconst positionModule = ({ success, moduleId, preModuleId }) => {\n    if (success) {\n        return {\n            type: POSITION_MODULE,\n            moduleId,\n            preModuleId\n        };\n    }\n};\n\n// 移动模块请求\nconst POSITION_MODULE_REQUEST = 'POSITION_MODULE_QUEST';\nconst positionModuleRequest = args => {\n    return (() => {\n        var _ref4 = _asyncToGenerator(function* (dispatch) {\n            dispatch(positionModule((yield _common_script_action__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].positionModule(args))));\n            dispatch(focusModule(args.moduleId)); // 移动后要聚焦模块\n        });\n\n        return function (_x4) {\n            return _ref4.apply(this, arguments);\n        };\n    })();\n};\n\n// 复制模块\nconst COPY_MODULE = 'COPY_MODULE';\nconst copyModule = ({ prevModuleId, moduleData }) => {\n    return {\n        type: COPY_MODULE,\n        prevModuleId,\n        moduleData\n    };\n};\n\n// 复制模块请求\nconst COPY_MODULE_REQUEST = 'COPY_MODULE_REQUEST';\nconst copyModuleRequest = ({ moduleId, pageId }) => {\n    return (() => {\n        var _ref5 = _asyncToGenerator(function* (dispatch) {\n            const newModule = yield _common_script_action__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].copyModule(moduleId, pageId);\n            dispatch(copyModule({\n                prevModuleId: moduleId,\n                moduleData: newModule\n            }));\n            // 复制后聚焦\n            dispatch(focusModule(newModule.moduleId)); // 移动后要聚焦模块\n        });\n\n        return function (_x5) {\n            return _ref5.apply(this, arguments);\n        };\n    })();\n};\n\n// 模块top值变动\nconst MODULE_TOP_CHANGE = 'MODULE_TOP_CHANGE';\nconst moduleTopChange = (moduleId, top) => {\n    return {\n        type: MODULE_TOP_CHANGE,\n        moduleId,\n        top\n    };\n};\n\n// 模块height值变动\nconst MODULE_HEIGHT_CHANGE = 'MODULE_HEIGHT_CHANGE';\nconst moduleHeightChange = (moduleId, height) => {\n    return {\n        type: MODULE_HEIGHT_CHANGE,\n        moduleId,\n        height\n    };\n};\n\n// 刷新某模块之后所有模块的top值\nconst ALL_MODULE_TOP_CHANGE = 'ALL_MODULE_TOP_CHANGE';\nconst allModuleTopChange = (afterModuleId, topChange) => {\n    return {\n        type: ALL_MODULE_TOP_CHANGE,\n        afterModuleId,\n        topChange\n    };\n};\n\nconst FETCH_MODULE_LIST = 'FETCH_MODULE_LIST';\nconst fetchModuleList = pageId => {\n    return (() => {\n        var _ref6 = _asyncToGenerator(function* (dispatch) {\n            dispatch(refreshModuleList((yield _common_script_action__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].getAllModule(pageId))));\n        });\n\n        return function (_x6) {\n            return _ref6.apply(this, arguments);\n        };\n    })();\n};\n;\n\n(function () {\n    var reactHotLoader = __webpack_require__(20).default;\n\n    var leaveModule = __webpack_require__(20).leaveModule;\n\n    if (!reactHotLoader) {\n        return;\n    }\n\n    reactHotLoader.register(REFRESH_MODULE, 'REFRESH_MODULE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(refreshModule, 'refreshModule', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(REFRESH_MODULE_LIST, 'REFRESH_MODULE_LIST', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(refreshModuleList, 'refreshModuleList', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(ADD_MODULE, 'ADD_MODULE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(addModule, 'addModule', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(ADD_MODULE_REQUEST, 'ADD_MODULE_REQUEST', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(addModuleRequest, 'addModuleRequest', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(REMOVE_MODULE, 'REMOVE_MODULE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(removeModule, 'removeModule', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(removeModuleRequest, 'removeModuleRequest', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(SHOW_CONFIG, 'SHOW_CONFIG', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(showConfig, 'showConfig', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(HIDE_CONFIG, 'HIDE_CONFIG', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(hideConfig, 'hideConfig', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(FOCUS_MODULE, 'FOCUS_MODULE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(focusModule, 'focusModule', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(UPDATE_MODULE, 'UPDATE_MODULE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(updateModule, 'updateModule', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(SAVE_CONFIG_REQUEST, 'SAVE_CONFIG_REQUEST', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(saveConfigRequest, 'saveConfigRequest', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(POSITION_MODULE, 'POSITION_MODULE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(positionModule, 'positionModule', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(POSITION_MODULE_REQUEST, 'POSITION_MODULE_REQUEST', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(positionModuleRequest, 'positionModuleRequest', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(COPY_MODULE, 'COPY_MODULE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(copyModule, 'copyModule', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(COPY_MODULE_REQUEST, 'COPY_MODULE_REQUEST', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(copyModuleRequest, 'copyModuleRequest', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(MODULE_TOP_CHANGE, 'MODULE_TOP_CHANGE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(moduleTopChange, 'moduleTopChange', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(MODULE_HEIGHT_CHANGE, 'MODULE_HEIGHT_CHANGE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(moduleHeightChange, 'moduleHeightChange', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(ALL_MODULE_TOP_CHANGE, 'ALL_MODULE_TOP_CHANGE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(allModuleTopChange, 'allModuleTopChange', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(FETCH_MODULE_LIST, 'FETCH_MODULE_LIST', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(fetchModuleList, 'fetchModuleList', 'D:/Project/NaEditor/src/actions/index.js');\n    leaveModule(module);\n})();\n\n;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(49)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYWN0aW9ucy9pbmRleC5qcz82ZTM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBY3Rpb24gZnJvbSAnLi4vY29tbW9uL3NjcmlwdC9hY3Rpb24nO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY29uc3QgUkVGUkVTSF9NT0RVTEUgPSAnUkVGUkVTSF9NT0RVTEUnO1xyXG5leHBvcnQgY29uc3QgcmVmcmVzaE1vZHVsZSA9IChtb2R1bGVEYXRhKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGU6IFJFRlJFU0hfTU9EVUxFLFxyXG4gICAgICAgIG1vZHVsZURhdGEsXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBSRUZSRVNIX01PRFVMRV9MSVNUID0gJ1JFRlJFU0hfTU9EVUxFX0xJU1QnO1xyXG5leHBvcnQgY29uc3QgcmVmcmVzaE1vZHVsZUxpc3QgPSAobW9kdWxlTGlzdCkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiBSRUZSRVNIX01PRFVMRV9MSVNULFxyXG4gICAgICAgIG1vZHVsZUxpc3QsXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyDmt7vliqDmqKHlnZdcclxuZXhwb3J0IGNvbnN0IEFERF9NT0RVTEUgPSAnQUREX01PRFVMRSc7XHJcbmV4cG9ydCBjb25zdCBhZGRNb2R1bGUgPSAoeyBtb2R1bGVEYXRhLCBwcmVNb2R1bGVJZCB9KSA9PiAoe1xyXG4gICAgdHlwZTogQUREX01PRFVMRSxcclxuICAgIG1vZHVsZURhdGEsXHJcbiAgICBwcmVNb2R1bGVJZCxcclxufSlcclxuXHJcblxyXG4vLyDmt7vliqDmqKHlnZfor7fmsYJcclxuZXhwb3J0IGNvbnN0IEFERF9NT0RVTEVfUkVRVUVTVCA9ICdBRERfTU9EVUxFX1JFUVVFU1QnO1xyXG5leHBvcnQgY29uc3QgYWRkTW9kdWxlUmVxdWVzdCA9IChhcmdzKSA9PiB7XHJcbiAgICByZXR1cm4gYXN5bmMoZGlzcGF0Y2gpID0+IHtcclxuICAgICAgICBjb25zdCBtb2R1bGVEYXRhID0gYXdhaXQgQWN0aW9uLmFkZE1vZHVsZShhcmdzKTtcclxuICAgICAgICBkaXNwYXRjaChhZGRNb2R1bGUoe1xyXG4gICAgICAgICAgICBtb2R1bGVEYXRhLFxyXG4gICAgICAgICAgICBwcmVNb2R1bGVJZDogYXJncy5wcmVNb2R1bGVJZCxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmV0dXJuIG1vZHVsZURhdGE7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyDliKDpmaTmqKHlnZdcclxuZXhwb3J0IGNvbnN0IFJFTU9WRV9NT0RVTEUgPSAnUkVNT1ZFX01PRFVMRSc7XHJcbmV4cG9ydCBjb25zdCByZW1vdmVNb2R1bGUgPSAobW9kdWxlSWQpID0+ICh7XHJcbiAgICB0eXBlOiBSRU1PVkVfTU9EVUxFLFxyXG4gICAgbW9kdWxlSWQsXHJcbn0pXHJcblxyXG4vKipcclxuICog5Yig6Zmk5qih5Z2X6K+35rGCXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzIOWFpeWPgiDljIXlkKttb2R1bGVJZOS4jnBhZ2VJZFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHJlbW92ZU1vZHVsZVJlcXVlc3QgPSAoYXJncykgPT4gYXN5bmMoZGlzcGF0Y2gpID0+IHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBBY3Rpb24ucmVtb3ZlTW9kdWxlKGFyZ3MpO1xyXG4gICAgaWYgKGRhdGEucmVzdWx0ID09PSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgeyBtb2R1bGVJZCB9ID0gYXJncztcclxuICAgICAgICBkaXNwYXRjaChyZW1vdmVNb2R1bGUoZGF0YS5tb2R1bGVJZCkpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyDmiZPlvIDphY3nva7moYZcclxuZXhwb3J0IGNvbnN0IFNIT1dfQ09ORklHID0gJ1NIT1dfQ09ORklHJztcclxuZXhwb3J0IGNvbnN0IHNob3dDb25maWcgPSAobW9kdWxlRGF0YSkgPT4ge1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdHlwZTogU0hPV19DT05GSUcsXHJcbiAgICAgICAgbW9kdWxlRGF0YVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyDlhbPpl63phY3nva7moYZcclxuZXhwb3J0IGNvbnN0IEhJREVfQ09ORklHID0gJ0hJREVfQ09ORklHJztcclxuZXhwb3J0IGNvbnN0IGhpZGVDb25maWcgPSAoaGlkZUNvbmZpZykgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiBISURFX0NPTkZJRyxcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8vIOiBmueEpuaooeWdl1xyXG5leHBvcnQgY29uc3QgRk9DVVNfTU9EVUxFID0gJ0ZPQ1VTX01PRFVMRSc7XHJcbmV4cG9ydCBjb25zdCBmb2N1c01vZHVsZSA9IChtb2R1bGVJZCkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiBGT0NVU19NT0RVTEUsXHJcbiAgICAgICAgbW9kdWxlSWQsXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbi8vIOabtOaWsOaooeWdl1xyXG5leHBvcnQgY29uc3QgVVBEQVRFX01PRFVMRSA9ICdVUERBVEVfTU9EVUxFJztcclxuZXhwb3J0IGNvbnN0IHVwZGF0ZU1vZHVsZSA9IChtb2R1bGVEYXRhKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGU6IFVQREFURV9NT0RVTEUsXHJcbiAgICAgICAgbW9kdWxlRGF0YSxcclxuICAgIH1cclxufVxyXG5cclxuLy8g5L+d5a2Y5qih5Z2X6YWN572uXHJcbmV4cG9ydCBjb25zdCBTQVZFX0NPTkZJR19SRVFVRVNUID0gJ1NBVkVfQ09ORklHX1JFUVVFU1QnO1xyXG5leHBvcnQgY29uc3Qgc2F2ZUNvbmZpZ1JlcXVlc3QgPSAobW9kdWxlRGF0YSkgPT4ge1xyXG4gICAgcmV0dXJuIGFzeW5jKGRpc3BhdGNoKSA9PiB7XHJcbiAgICAgICAgZGlzcGF0Y2godXBkYXRlTW9kdWxlKGF3YWl0IEFjdGlvbi51cGRhdGVNb2R1bGUobW9kdWxlRGF0YSkpKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8g56e75Yqo5qih5Z2XXHJcbmV4cG9ydCBjb25zdCBQT1NJVElPTl9NT0RVTEUgPSAnUE9TSVRJT05fTU9EVUxFJztcclxuZXhwb3J0IGNvbnN0IHBvc2l0aW9uTW9kdWxlID0gKHsgc3VjY2VzcywgbW9kdWxlSWQsIHByZU1vZHVsZUlkIH0pID0+IHtcclxuICAgIGlmIChzdWNjZXNzKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogUE9TSVRJT05fTU9EVUxFLFxyXG4gICAgICAgICAgICBtb2R1bGVJZCxcclxuICAgICAgICAgICAgcHJlTW9kdWxlSWQsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyDnp7vliqjmqKHlnZfor7fmsYJcclxuZXhwb3J0IGNvbnN0IFBPU0lUSU9OX01PRFVMRV9SRVFVRVNUID0gJ1BPU0lUSU9OX01PRFVMRV9RVUVTVCc7XHJcbmV4cG9ydCBjb25zdCBwb3NpdGlvbk1vZHVsZVJlcXVlc3QgPSAoYXJncykgPT4ge1xyXG4gICAgcmV0dXJuIGFzeW5jKGRpc3BhdGNoKSA9PiB7XHJcbiAgICAgICAgZGlzcGF0Y2gocG9zaXRpb25Nb2R1bGUoYXdhaXQgQWN0aW9uLnBvc2l0aW9uTW9kdWxlKGFyZ3MpKSk7XHJcbiAgICAgICAgZGlzcGF0Y2goZm9jdXNNb2R1bGUoYXJncy5tb2R1bGVJZCkpOyAvLyDnp7vliqjlkI7opoHogZrnhKbmqKHlnZdcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8vIOWkjeWItuaooeWdl1xyXG5leHBvcnQgY29uc3QgQ09QWV9NT0RVTEUgPSAnQ09QWV9NT0RVTEUnO1xyXG5leHBvcnQgY29uc3QgY29weU1vZHVsZSA9ICh7IHByZXZNb2R1bGVJZCwgbW9kdWxlRGF0YSB9KSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGU6IENPUFlfTU9EVUxFLFxyXG4gICAgICAgIHByZXZNb2R1bGVJZCxcclxuICAgICAgICBtb2R1bGVEYXRhXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIOWkjeWItuaooeWdl+ivt+axglxyXG5leHBvcnQgY29uc3QgQ09QWV9NT0RVTEVfUkVRVUVTVCA9ICdDT1BZX01PRFVMRV9SRVFVRVNUJztcclxuZXhwb3J0IGNvbnN0IGNvcHlNb2R1bGVSZXF1ZXN0ID0gKHsgbW9kdWxlSWQsIHBhZ2VJZCB9KSA9PiB7XHJcbiAgICByZXR1cm4gYXN5bmMoZGlzcGF0Y2gpID0+IHtcclxuICAgICAgICBjb25zdCBuZXdNb2R1bGUgPSBhd2FpdCBBY3Rpb24uY29weU1vZHVsZShtb2R1bGVJZCwgcGFnZUlkKVxyXG4gICAgICAgIGRpc3BhdGNoKGNvcHlNb2R1bGUoe1xyXG4gICAgICAgICAgICBwcmV2TW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgICAgICBtb2R1bGVEYXRhOiBuZXdNb2R1bGUsXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIC8vIOWkjeWItuWQjuiBmueEplxyXG4gICAgICAgIGRpc3BhdGNoKGZvY3VzTW9kdWxlKG5ld01vZHVsZS5tb2R1bGVJZCkpOyAvLyDnp7vliqjlkI7opoHogZrnhKbmqKHlnZdcclxuICAgIH1cclxufVxyXG5cclxuLy8g5qih5Z2XdG9w5YC85Y+Y5YqoXHJcbmV4cG9ydCBjb25zdCBNT0RVTEVfVE9QX0NIQU5HRSA9ICdNT0RVTEVfVE9QX0NIQU5HRSc7XHJcbmV4cG9ydCBjb25zdCBtb2R1bGVUb3BDaGFuZ2UgPSAobW9kdWxlSWQsIHRvcCkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiBNT0RVTEVfVE9QX0NIQU5HRSxcclxuICAgICAgICBtb2R1bGVJZCxcclxuICAgICAgICB0b3AsXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIOaooeWdl2hlaWdodOWAvOWPmOWKqFxyXG5leHBvcnQgY29uc3QgTU9EVUxFX0hFSUdIVF9DSEFOR0UgPSAnTU9EVUxFX0hFSUdIVF9DSEFOR0UnO1xyXG5leHBvcnQgY29uc3QgbW9kdWxlSGVpZ2h0Q2hhbmdlID0gKG1vZHVsZUlkLCBoZWlnaHQpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdHlwZTogTU9EVUxFX0hFSUdIVF9DSEFOR0UsXHJcbiAgICAgICAgbW9kdWxlSWQsXHJcbiAgICAgICAgaGVpZ2h0LFxyXG4gICAgfVxyXG59XHJcblxyXG4vLyDliLfmlrDmn5DmqKHlnZfkuYvlkI7miYDmnInmqKHlnZfnmoR0b3DlgLxcclxuZXhwb3J0IGNvbnN0IEFMTF9NT0RVTEVfVE9QX0NIQU5HRSA9ICdBTExfTU9EVUxFX1RPUF9DSEFOR0UnO1xyXG5leHBvcnQgY29uc3QgYWxsTW9kdWxlVG9wQ2hhbmdlID0gKGFmdGVyTW9kdWxlSWQsIHRvcENoYW5nZSkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiBBTExfTU9EVUxFX1RPUF9DSEFOR0UsXHJcbiAgICAgICAgYWZ0ZXJNb2R1bGVJZCxcclxuICAgICAgICB0b3BDaGFuZ2UsXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBGRVRDSF9NT0RVTEVfTElTVCA9ICdGRVRDSF9NT0RVTEVfTElTVCc7XHJcbmV4cG9ydCBjb25zdCBmZXRjaE1vZHVsZUxpc3QgPSAocGFnZUlkKSA9PiB7XHJcbiAgICByZXR1cm4gYXN5bmMoZGlzcGF0Y2gpID0+IHtcclxuICAgICAgICBkaXNwYXRjaChyZWZyZXNoTW9kdWxlTGlzdChhd2FpdCBBY3Rpb24uZ2V0QWxsTW9kdWxlKHBhZ2VJZCkpKVxyXG4gICAgfVxyXG5cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQVJBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7Ozs7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBQUE7QUFBQTtBQUFBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFJQTs7Ozs7Ozs7Ozs7O0FBN0xBO0FBQ0E7QUFPQTtBQUNBO0FBU0E7QUFDQTtBQVFBO0FBQ0E7QUFhQTtBQUNBO0FBU0E7QUFTQTtBQUNBO0FBU0E7QUFDQTtBQVFBO0FBQ0E7QUFXQTtBQUNBO0FBUUE7QUFDQTtBQU9BO0FBQ0E7QUFXQTtBQUNBO0FBU0E7QUFDQTtBQVNBO0FBQ0E7QUFhQTtBQUNBO0FBU0E7QUFDQTtBQVNBO0FBQ0E7QUFRQTtBQUNBOzs7OztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9\n")}});