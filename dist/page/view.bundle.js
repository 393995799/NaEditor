!function(I){function g(g){for(var A,n,t=g[0],l=g[1],r=g[2],a=0,B=[];a<t.length;a++)n=t[a],e[n]&&B.push(e[n][0]),e[n]=0;for(A in l)Object.prototype.hasOwnProperty.call(l,A)&&(I[A]=l[A]);for(d&&d(g);B.length;)B.shift()();return c.push.apply(c,r||[]),C()}function C(){for(var I,g=0;g<c.length;g++){for(var C=c[g],A=!0,t=1;t<C.length;t++){var l=C[t];0!==e[l]&&(A=!1)}A&&(c.splice(g--,1),I=n(n.s=C[0]))}return I}var A={},e={1:0},c=[];function n(g){if(A[g])return A[g].exports;var C=A[g]={i:g,l:!1,exports:{}};return I[g].call(C.exports,C,C.exports,n),C.l=!0,C.exports}n.m=I,n.c=A,n.d=function(I,g,C){n.o(I,g)||Object.defineProperty(I,g,{enumerable:!0,get:C})},n.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},n.t=function(I,g){if(1&g&&(I=n(I)),8&g)return I;if(4&g&&"object"==typeof I&&I&&I.__esModule)return I;var C=Object.create(null);if(n.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:I}),2&g&&"string"!=typeof I)for(var A in I)n.d(C,A,function(g){return I[g]}.bind(null,A));return C},n.n=function(I){var g=I&&I.__esModule?function(){return I.default}:function(){return I};return n.d(g,"a",g),g},n.o=function(I,g){return Object.prototype.hasOwnProperty.call(I,g)},n.p="http://h5editor.cn:8080/";var t=window.webpackJsonp=window.webpackJsonp||[],l=t.push.bind(t);t.push=g,t=t.slice();for(var r=0;r<t.length;r++)g(t[r]);var d=l;c.push([200,0]),C()}({13:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("const { serverAddress } = __webpack_require__(30);\r\nconst SLD = {\r\n    backend: serverAddress,\r\n};\r\nconst prefix = '/api';\r\nconst INTERFACE = {\r\n    uploadImage: `${SLD.backend}${prefix}/uploadImage`,\r\n    getImageList: `${SLD.backend}${prefix}/getImageList`,\r\n    getAllModule: `${SLD.backend}${prefix}/getAllModule`,\r\n    getModuleList: `${SLD.backend}${prefix}/getModuleList`,\r\n    addModule: `${SLD.backend}${prefix}/addModule`,\r\n    removeModule: `${SLD.backend}${prefix}/removeModule`,\r\n    positionModule: `${SLD.backend}${prefix}/positionModule`,\r\n    updateModule: `${SLD.backend}${prefix}/updateModule`,\r\n    copyModule: `${SLD.backend}${prefix}/copyModule`,\r\n    getPageList: `${SLD.backend}${prefix}/getPageList`,\r\n    addPage: `${SLD.backend}${prefix}/addPage`,\r\n    deletePage: `${SLD.backend}${prefix}/deletePage`,\r\n    copyPage: `${SLD.backend}${prefix}/copyPage`,\r\n    getInitData: `${SLD.backend}${prefix}/getInitData`,\r\n    logout: `${SLD.backend}${prefix}/logout`,\r\n};\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (INTERFACE);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbW1vbi9zY3JpcHQvSU5URVJGQUNFLnRzPzEzMzAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBzZXJ2ZXJBZGRyZXNzIH0gPSByZXF1aXJlKCcuLi8uLi8uLi9jb25maWcnKTtcclxuXHJcbmNvbnN0IFNMRCA9IHtcclxuICAgIGJhY2tlbmQ6IHNlcnZlckFkZHJlc3MsXHJcbn1cclxuXHJcbmNvbnN0IHByZWZpeCA9ICcvYXBpJ1xyXG5cclxuY29uc3QgSU5URVJGQUNFID0ge1xyXG4gICAgdXBsb2FkSW1hZ2U6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS91cGxvYWRJbWFnZWAsXHJcbiAgICBnZXRJbWFnZUxpc3Q6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS9nZXRJbWFnZUxpc3RgLFxyXG4gICAgZ2V0QWxsTW9kdWxlOiBgJHtTTEQuYmFja2VuZH0ke3ByZWZpeH0vZ2V0QWxsTW9kdWxlYCxcclxuICAgIGdldE1vZHVsZUxpc3Q6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS9nZXRNb2R1bGVMaXN0YCxcclxuICAgIGFkZE1vZHVsZTogYCR7U0xELmJhY2tlbmR9JHtwcmVmaXh9L2FkZE1vZHVsZWAsXHJcbiAgICByZW1vdmVNb2R1bGU6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS9yZW1vdmVNb2R1bGVgLFxyXG4gICAgcG9zaXRpb25Nb2R1bGU6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS9wb3NpdGlvbk1vZHVsZWAsXHJcbiAgICB1cGRhdGVNb2R1bGU6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS91cGRhdGVNb2R1bGVgLFxyXG4gICAgY29weU1vZHVsZTogYCR7U0xELmJhY2tlbmR9JHtwcmVmaXh9L2NvcHlNb2R1bGVgLC8v5aSN5Yi25qih5Z2XXHJcblxyXG4gICAgZ2V0UGFnZUxpc3Q6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS9nZXRQYWdlTGlzdGAsIC8vIOiOt+WPlumhtemdouWIl+ihqFxyXG4gICAgYWRkUGFnZTogYCR7U0xELmJhY2tlbmR9JHtwcmVmaXh9L2FkZFBhZ2VgLCAvLyDmlrDlu7rpobXpnaJcclxuICAgIGRlbGV0ZVBhZ2U6IGAke1NMRC5iYWNrZW5kfSR7cHJlZml4fS9kZWxldGVQYWdlYCwgLy8g5Yig6Zmk6aG16Z2iXHJcbiAgICBjb3B5UGFnZTogYCR7U0xELmJhY2tlbmR9JHtwcmVmaXh9L2NvcHlQYWdlYCwgLy8g5aSN5Yi26aG16Z2iXHJcbiAgICBnZXRJbml0RGF0YTogYCR7U0xELmJhY2tlbmR9JHtwcmVmaXh9L2dldEluaXREYXRhYCwgLy8g6I635Y+W6aG16Z2i5Yid5aeL5YyW5pWw5o2uXHJcblxyXG4gICAgbG9nb3V0OiBgJHtTTEQuYmFja2VuZH0ke3ByZWZpeH0vbG9nb3V0YCwgLy8g6YCA5Ye655m75b2VXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IElOVEVSRkFDRTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n")},14:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(427);\n/* harmony import */ var _INTERFACE__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _isServer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n// let Action: any = {\r\n//     /**\r\n//      * 根据模块Id删除模块  \r\n//      * @param {Object}  入参 带moduleId和pageId\r\n//      */\r\n//     async removeModule({ moduleId, pageId }: { moduleId: number, pageId: number }) {\r\n//         return new Promise(async (resolve, reject) => {\r\n//             const db = await idb.open(DB.Name);\r\n//             const tx = db.transaction(['page', 'module'], 'readwrite');\r\n//             const pageStore = tx.objectStore('page');\r\n//             const moduleStore = tx.objectStore('module');\r\n//             // 删除页面引用\r\n//             let page = await pageStore.get(pageId);\r\n//             page.moduleList = page.moduleList.filter((v: number) => v !== moduleId);\r\n//             // 回填到页面\r\n//             await pageStore.put(page);\r\n//             // 删除模块实例\r\n//             await moduleStore.delete(moduleId);\r\n//             resolve({\r\n//                 result: true,\r\n//                 moduleId,\r\n//             })\r\n//         })\r\n//     },\r\n//     /**\r\n//      * 添加模块\r\n//      * @param {Object} args 入参，模块类型，位置等\r\n//      */\r\n//     async addModule(args = { preModuleId: undefined, moduleTypeId: 1, data: {}, pageId: 1 }) {\r\n//         let { preModuleId, moduleTypeId, data, pageId } = args;\r\n//         // 没有模块数据默认为空对象\r\n//         data === undefined && (data = {});\r\n//         // 根据moduleTypeId查模块名称\r\n//         const moduleName = await Action.getModuleName(moduleTypeId);\r\n//         const moduleData = {\r\n//             moduleTypeId,\r\n//             moduleName,\r\n//             data,\r\n//             pageId,\r\n//         }\r\n//         return new Promise(async (resolve, reject) => {\r\n//             const db = await idb.open(DB.Name);\r\n//             const tx = db.transaction(['module', 'page'], 'readwrite');\r\n//             const pageStore = tx.objectStore('page');\r\n//             const moduleStore = tx.objectStore('module');\r\n//             const moduleId = await moduleStore.add(moduleData);\r\n//             // 在该page中插入模块id\r\n//             let page = await pageStore.get(pageId);\r\n//             page.moduleList === undefined && (page.moduleList = []);\r\n//             //没有前一个模块的Id则默认添加到页面最后\r\n//             if (preModuleId === undefined) {\r\n//                 preModuleId = page.moduleList[page.moduleList.length - 1] || undefined;\r\n//             }\r\n//             const index = page.moduleList.indexOf(preModuleId);\r\n//             page.moduleList.splice(index + 1, 0, moduleId);\r\n//             // 更新page\r\n//             pageStore.put(page);\r\n//             resolve({\r\n//                 moduleData: await moduleStore.get(moduleId),\r\n//                 preModuleId,\r\n//             });\r\n//         })\r\n//     },\r\n//     /**\r\n//      * 更新模块\r\n//      */\r\n//     async updateModule(moduleData: IModuleData) {\r\n//         const db = await idb.open(DB.Name);\r\n//         delete moduleData.tempData; //  临时属性不存到库里\r\n//         const tx = db.transaction(['module'], 'readwrite');\r\n//         const moduleId = await tx.objectStore('module').put(moduleData);\r\n//         const result = await tx.objectStore('module').get(moduleId);\r\n//         return result;\r\n//     },\r\n//     /**\r\n//      * 移动模块\r\n//      */\r\n//     async positionModule({ moduleId, preModuleId, pageId }: { moduleId: number, preModuleId?: number, pageId: number }) {\r\n//         const db = await idb.open(DB.Name);\r\n//         const tx = db.transaction(['page'], 'readwrite');\r\n//         let page = await tx.objectStore('page').get(pageId);\r\n//         page.moduleList = page.moduleList.filter((v: number) => v !== moduleId); //先移除模块\r\n//         // 如果没有设置preModuleId，则说明移到第一个模块\r\n//         if (preModuleId === undefined) {\r\n//             page.moduleList = [moduleId].concat(page.moduleList)\r\n//         } else {\r\n//             const preIndex = page.moduleList.indexOf(preModuleId);\r\n//             page.moduleList.splice(preIndex + 1, 0, moduleId); //在preModule后添加模块\r\n//         }\r\n//         const result = await tx.objectStore('page').put(page);\r\n//         if (result) {\r\n//             return {\r\n//                 success: true,\r\n//                 moduleId,\r\n//                 preModuleId,\r\n//             }\r\n//         } else {\r\n//             return {\r\n//                 success: false,\r\n//             }\r\n//         }\r\n//     },\r\n//     /**\r\n//      * 获得页面所有模块数据\r\n//      * @param {String} pageId 页面Id\r\n//      */\r\n//     async getAllModule(pageId: number) {\r\n//         const db = await idb.open(DB.Name);\r\n//         const tx = db.transaction(['module', 'page'], 'readonly');\r\n//         const moduleInfos = await tx.objectStore('module').getAll();\r\n//         const pageInfo = await tx.objectStore('page').get(pageId);\r\n//         let promiseArr = [];\r\n//         for (let moduleId of pageInfo.moduleList) {\r\n//             if (moduleId !== undefined) {\r\n//                 promiseArr.push(tx.objectStore('module').get(moduleId))\r\n//             }\r\n//         }\r\n//         const result = await Promise.all(promiseArr);\r\n//         return result;\r\n//     },\r\n//     /**\r\n//      * 根据moduleTypeId获取模块名称\r\n//      * @param {Number} moduleTypeId 模块类型Id\r\n//      */\r\n//     async getModuleName(moduleTypeId: number) {\r\n//         const db = await idb.open(DB.Name);\r\n//         const result = await db.transaction('moduleName').objectStore('moduleName').get(moduleTypeId);\r\n//         return result.moduleName;\r\n//     },\r\n//     /**\r\n//      * 删除所有模块\r\n//      */\r\n//     async deleteAllModules() {\r\n//         const db = await idb.open(DB.Name);\r\n//         const moduleResult = await db.transaction('module').objectStore('module').getAll();\r\n//         const moduleIds = moduleResult.map(v => v.moduleId);\r\n//         return new Promise(async (resolve, reject) => {\r\n//             Promise.all(moduleIds.map((moduleId) => new Promise((resolve, reject) => {\r\n//                 const tx = db.transaction('module', 'readwrite').objectStore('module');\r\n//                 const result = (tx.delete(moduleId) as any).request;\r\n//                 result.onsuccess = () => {\r\n//                     resolve({ result: true });\r\n//                 }\r\n//                 result.onerror = () => {\r\n//                     reject({ result: false });\r\n//                 }\r\n//             }))).then(() => {\r\n//                 resolve(true);\r\n//             });\r\n//         })\r\n//     },\r\n//     /**\r\n//      * 新增页面\r\n//      */\r\n//     async addPage(pageData = { name: '页面名称' }) {\r\n//         const NAME = `page`\r\n//         const db = await idb.open(DB.Name);\r\n//         const tx = db.transaction(NAME, 'readwrite').objectStore(NAME);\r\n//         const pageId = await tx.put(pageData)\r\n//         return await db.transaction(NAME, 'readonly').objectStore(NAME).get(pageId);\r\n//     }\r\n// }\r\nconst DBAction = {\r\n    getAllModule(pageId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { data } = (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].getAllModule, {\r\n                params: {\r\n                    pageId,\r\n                }\r\n            }));\r\n            if (data.success === true) {\r\n                return data.data;\r\n            }\r\n            else {\r\n                return [];\r\n            }\r\n        });\r\n    },\r\n    /**\r\n    * 添加模块\r\n    * @param {Object} args 入参，模块类型，位置等\r\n    */\r\n    addModule(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { data } = (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].addModule, {\r\n                params: args,\r\n            }));\r\n            if (data.success === true) {\r\n                antd__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].success('添加成功', 1);\r\n                return data.data;\r\n            }\r\n            else {\r\n                antd__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].error(data.message);\r\n                return {};\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * 根据模块Id删除模块\r\n     * @param {Object}  入参 带moduleId和pageId\r\n     */\r\n    removeModule({ moduleId, pageId }) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].removeModule, {\r\n                params: {\r\n                    moduleId,\r\n                    pageId\r\n                }\r\n            })).data;\r\n            if (result.success === true) {\r\n                return {\r\n                    result: true,\r\n                    moduleId,\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    result: false,\r\n                };\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * 移动模块\r\n     */\r\n    positionModule({ moduleId, preModuleId, pageId }) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].positionModule, {\r\n                params: { moduleId, preModuleId, pageId }\r\n            })).data;\r\n            if (result.success === true) {\r\n                return {\r\n                    success: true,\r\n                    moduleId,\r\n                    preModuleId,\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    success: false,\r\n                };\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * 更新模块\r\n     */\r\n    updateModule(moduleData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            delete moduleData.tempData; // 删除临时数据\r\n            const result = (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].updateModule, {\r\n                params: {\r\n                    moduleData,\r\n                },\r\n            })).data;\r\n            if (result.success === true) {\r\n                antd__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].success('保存成功', 1);\r\n                return result.data;\r\n            }\r\n            else {\r\n                return {};\r\n            }\r\n            ;\r\n        });\r\n    },\r\n    /**\r\n     * 复制模块\r\n     */\r\n    copyModule(moduleId, pageId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].copyModule, {\r\n                params: {\r\n                    moduleId,\r\n                    pageId,\r\n                }\r\n            })).data;\r\n            if (result.success === true) {\r\n                antd__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].success('复制成功');\r\n                return result.data;\r\n            }\r\n            else {\r\n                return {};\r\n            }\r\n            ;\r\n        });\r\n    },\r\n    /**\r\n     * 获取页面初始化数据\r\n     * @param pageType 页面类型 0：装修 1：预览 2：浏览\r\n     */\r\n    getInitData(pageType, pageId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!pageId && !Object(_isServer__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])()) {\r\n                pageId = window.location.href.match(/pageId=([0-9]+)/)[1];\r\n            }\r\n            const result = (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].getInitData, {\r\n                params: {\r\n                    pageId,\r\n                }\r\n            })).data;\r\n            if (result.success) {\r\n                result.data.pageType = pageType;\r\n                return result.data;\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * 退出登录\r\n     */\r\n    logout() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return (yield axios__WEBPACK_IMPORTED_MODULE_2___default()(_INTERFACE__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].logout)).data;\r\n        });\r\n    }\r\n};\r\nconst Action = DBAction;\r\nif (!_isServer__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"]) {\r\n    window.Action = Action;\r\n}\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Action);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbW1vbi9zY3JpcHQvYWN0aW9uLnRzP2NkOTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWVzc2FnZSB9IGZyb20gJ2FudGQnO1xyXG5pbXBvcnQgeyBJTW9kdWxlRGF0YSwgSU1vZHVsZSB9IGZyb20gJy4vLi4vLi4vY29tcG9uZW50L2ludGVyZmFjZSc7XHJcbmltcG9ydCBpZGIgZnJvbSAnaWRiJztcclxuaW1wb3J0IERCIGZyb20gJy4uLy4uL2RiL2RiQ29uZmlnJztcclxuaW1wb3J0IElOVEVSRkFDRSBmcm9tICcuL0lOVEVSRkFDRSc7XHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBpc1NlcnZlciBmcm9tICcuL2lzU2VydmVyJztcclxuXHJcbi8vIGxldCBBY3Rpb246IGFueSA9IHtcclxuLy8gICAgIC8qKlxyXG4vLyAgICAgICog5qC55o2u5qih5Z2XSWTliKDpmaTmqKHlnZcgIFxyXG4vLyAgICAgICogQHBhcmFtIHtPYmplY3R9ICDlhaXlj4Ig5bimbW9kdWxlSWTlkoxwYWdlSWRcclxuLy8gICAgICAqL1xyXG4vLyAgICAgYXN5bmMgcmVtb3ZlTW9kdWxlKHsgbW9kdWxlSWQsIHBhZ2VJZCB9OiB7IG1vZHVsZUlkOiBudW1iZXIsIHBhZ2VJZDogbnVtYmVyIH0pIHtcclxuLy8gICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4vLyAgICAgICAgICAgICBjb25zdCBkYiA9IGF3YWl0IGlkYi5vcGVuKERCLk5hbWUpO1xyXG4vLyAgICAgICAgICAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKFsncGFnZScsICdtb2R1bGUnXSwgJ3JlYWR3cml0ZScpO1xyXG4vLyAgICAgICAgICAgICBjb25zdCBwYWdlU3RvcmUgPSB0eC5vYmplY3RTdG9yZSgncGFnZScpO1xyXG4vLyAgICAgICAgICAgICBjb25zdCBtb2R1bGVTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCdtb2R1bGUnKTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIOWIoOmZpOmhtemdouW8leeUqFxyXG4vLyAgICAgICAgICAgICBsZXQgcGFnZSA9IGF3YWl0IHBhZ2VTdG9yZS5nZXQocGFnZUlkKTtcclxuLy8gICAgICAgICAgICAgcGFnZS5tb2R1bGVMaXN0ID0gcGFnZS5tb2R1bGVMaXN0LmZpbHRlcigodjogbnVtYmVyKSA9PiB2ICE9PSBtb2R1bGVJZCk7XHJcbi8vICAgICAgICAgICAgIC8vIOWbnuWhq+WIsOmhtemdolxyXG4vLyAgICAgICAgICAgICBhd2FpdCBwYWdlU3RvcmUucHV0KHBhZ2UpO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8g5Yig6Zmk5qih5Z2X5a6e5L6LXHJcbi8vICAgICAgICAgICAgIGF3YWl0IG1vZHVsZVN0b3JlLmRlbGV0ZShtb2R1bGVJZCk7XHJcblxyXG4vLyAgICAgICAgICAgICByZXNvbHZlKHtcclxuLy8gICAgICAgICAgICAgICAgIHJlc3VsdDogdHJ1ZSxcclxuLy8gICAgICAgICAgICAgICAgIG1vZHVsZUlkLFxyXG4vLyAgICAgICAgICAgICB9KVxyXG5cclxuLy8gICAgICAgICB9KVxyXG4vLyAgICAgfSxcclxuLy8gICAgIC8qKlxyXG4vLyAgICAgICog5re75Yqg5qih5Z2XXHJcbi8vICAgICAgKiBAcGFyYW0ge09iamVjdH0gYXJncyDlhaXlj4LvvIzmqKHlnZfnsbvlnovvvIzkvY3nva7nrYlcclxuLy8gICAgICAqL1xyXG4vLyAgICAgYXN5bmMgYWRkTW9kdWxlKGFyZ3MgPSB7IHByZU1vZHVsZUlkOiB1bmRlZmluZWQsIG1vZHVsZVR5cGVJZDogMSwgZGF0YToge30sIHBhZ2VJZDogMSB9KSB7XHJcblxyXG4vLyAgICAgICAgIGxldCB7IHByZU1vZHVsZUlkLCBtb2R1bGVUeXBlSWQsIGRhdGEsIHBhZ2VJZCB9ID0gYXJncztcclxuXHJcbi8vICAgICAgICAgLy8g5rKh5pyJ5qih5Z2X5pWw5o2u6buY6K6k5Li656m65a+56LGhXHJcbi8vICAgICAgICAgZGF0YSA9PT0gdW5kZWZpbmVkICYmIChkYXRhID0ge30pO1xyXG5cclxuXHJcbi8vICAgICAgICAgLy8g5qC55o2ubW9kdWxlVHlwZUlk5p+l5qih5Z2X5ZCN56ewXHJcbi8vICAgICAgICAgY29uc3QgbW9kdWxlTmFtZSA9IGF3YWl0IEFjdGlvbi5nZXRNb2R1bGVOYW1lKG1vZHVsZVR5cGVJZCk7XHJcblxyXG4vLyAgICAgICAgIGNvbnN0IG1vZHVsZURhdGEgPSB7XHJcbi8vICAgICAgICAgICAgIG1vZHVsZVR5cGVJZCxcclxuLy8gICAgICAgICAgICAgbW9kdWxlTmFtZSxcclxuLy8gICAgICAgICAgICAgZGF0YSxcclxuLy8gICAgICAgICAgICAgcGFnZUlkLFxyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuLy8gICAgICAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBpZGIub3BlbihEQi5OYW1lKTtcclxuLy8gICAgICAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ21vZHVsZScsICdwYWdlJ10sICdyZWFkd3JpdGUnKTtcclxuXHJcbi8vICAgICAgICAgICAgIGNvbnN0IHBhZ2VTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCdwYWdlJyk7XHJcbi8vICAgICAgICAgICAgIGNvbnN0IG1vZHVsZVN0b3JlID0gdHgub2JqZWN0U3RvcmUoJ21vZHVsZScpO1xyXG5cclxuLy8gICAgICAgICAgICAgY29uc3QgbW9kdWxlSWQgPSBhd2FpdCBtb2R1bGVTdG9yZS5hZGQobW9kdWxlRGF0YSk7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyDlnKjor6VwYWdl5Lit5o+S5YWl5qih5Z2XaWRcclxuLy8gICAgICAgICAgICAgbGV0IHBhZ2UgPSBhd2FpdCBwYWdlU3RvcmUuZ2V0KHBhZ2VJZCk7XHJcbi8vICAgICAgICAgICAgIHBhZ2UubW9kdWxlTGlzdCA9PT0gdW5kZWZpbmVkICYmIChwYWdlLm1vZHVsZUxpc3QgPSBbXSk7XHJcblxyXG4vLyAgICAgICAgICAgICAvL+ayoeacieWJjeS4gOS4quaooeWdl+eahElk5YiZ6buY6K6k5re75Yqg5Yiw6aG16Z2i5pyA5ZCOXHJcbi8vICAgICAgICAgICAgIGlmIChwcmVNb2R1bGVJZCA9PT0gdW5kZWZpbmVkKSB7XHJcbi8vICAgICAgICAgICAgICAgICBwcmVNb2R1bGVJZCA9IHBhZ2UubW9kdWxlTGlzdFtwYWdlLm1vZHVsZUxpc3QubGVuZ3RoIC0gMV0gfHwgdW5kZWZpbmVkO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFnZS5tb2R1bGVMaXN0LmluZGV4T2YocHJlTW9kdWxlSWQpO1xyXG4vLyAgICAgICAgICAgICBwYWdlLm1vZHVsZUxpc3Quc3BsaWNlKGluZGV4ICsgMSwgMCwgbW9kdWxlSWQpO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8g5pu05pawcGFnZVxyXG4vLyAgICAgICAgICAgICBwYWdlU3RvcmUucHV0KHBhZ2UpO1xyXG5cclxuLy8gICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbi8vICAgICAgICAgICAgICAgICBtb2R1bGVEYXRhOiBhd2FpdCBtb2R1bGVTdG9yZS5nZXQobW9kdWxlSWQpLFxyXG4vLyAgICAgICAgICAgICAgICAgcHJlTW9kdWxlSWQsXHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgIH0pXHJcbi8vICAgICB9LFxyXG4vLyAgICAgLyoqXHJcbi8vICAgICAgKiDmm7TmlrDmqKHlnZdcclxuLy8gICAgICAqL1xyXG4vLyAgICAgYXN5bmMgdXBkYXRlTW9kdWxlKG1vZHVsZURhdGE6IElNb2R1bGVEYXRhKSB7XHJcbi8vICAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBpZGIub3BlbihEQi5OYW1lKTtcclxuLy8gICAgICAgICBkZWxldGUgbW9kdWxlRGF0YS50ZW1wRGF0YTsgLy8gIOS4tOaXtuWxnuaAp+S4jeWtmOWIsOW6k+mHjFxyXG4vLyAgICAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oWydtb2R1bGUnXSwgJ3JlYWR3cml0ZScpO1xyXG4vLyAgICAgICAgIGNvbnN0IG1vZHVsZUlkID0gYXdhaXQgdHgub2JqZWN0U3RvcmUoJ21vZHVsZScpLnB1dChtb2R1bGVEYXRhKTtcclxuLy8gICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0eC5vYmplY3RTdG9yZSgnbW9kdWxlJykuZ2V0KG1vZHVsZUlkKTtcclxuLy8gICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4vLyAgICAgfSxcclxuLy8gICAgIC8qKlxyXG4vLyAgICAgICog56e75Yqo5qih5Z2XXHJcbi8vICAgICAgKi9cclxuLy8gICAgIGFzeW5jIHBvc2l0aW9uTW9kdWxlKHsgbW9kdWxlSWQsIHByZU1vZHVsZUlkLCBwYWdlSWQgfTogeyBtb2R1bGVJZDogbnVtYmVyLCBwcmVNb2R1bGVJZD86IG51bWJlciwgcGFnZUlkOiBudW1iZXIgfSkge1xyXG4vLyAgICAgICAgIGNvbnN0IGRiID0gYXdhaXQgaWRiLm9wZW4oREIuTmFtZSk7XHJcbi8vICAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ3BhZ2UnXSwgJ3JlYWR3cml0ZScpO1xyXG4vLyAgICAgICAgIGxldCBwYWdlID0gYXdhaXQgdHgub2JqZWN0U3RvcmUoJ3BhZ2UnKS5nZXQocGFnZUlkKTtcclxuLy8gICAgICAgICBwYWdlLm1vZHVsZUxpc3QgPSBwYWdlLm1vZHVsZUxpc3QuZmlsdGVyKCh2OiBudW1iZXIpID0+IHYgIT09IG1vZHVsZUlkKTsgLy/lhYjnp7vpmaTmqKHlnZdcclxuLy8gICAgICAgICAvLyDlpoLmnpzmsqHmnInorr7nva5wcmVNb2R1bGVJZO+8jOWImeivtOaYjuenu+WIsOesrOS4gOS4quaooeWdl1xyXG4vLyAgICAgICAgIGlmIChwcmVNb2R1bGVJZCA9PT0gdW5kZWZpbmVkKSB7XHJcbi8vICAgICAgICAgICAgIHBhZ2UubW9kdWxlTGlzdCA9IFttb2R1bGVJZF0uY29uY2F0KHBhZ2UubW9kdWxlTGlzdClcclxuLy8gICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICBjb25zdCBwcmVJbmRleCA9IHBhZ2UubW9kdWxlTGlzdC5pbmRleE9mKHByZU1vZHVsZUlkKTtcclxuLy8gICAgICAgICAgICAgcGFnZS5tb2R1bGVMaXN0LnNwbGljZShwcmVJbmRleCArIDEsIDAsIG1vZHVsZUlkKTsgLy/lnKhwcmVNb2R1bGXlkI7mt7vliqDmqKHlnZdcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdHgub2JqZWN0U3RvcmUoJ3BhZ2UnKS5wdXQocGFnZSk7XHJcbi8vICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuLy8gICAgICAgICAgICAgICAgIG1vZHVsZUlkLFxyXG4vLyAgICAgICAgICAgICAgICAgcHJlTW9kdWxlSWQsXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG4vLyAgICAgLyoqXHJcbi8vICAgICAgKiDojrflvpfpobXpnaLmiYDmnInmqKHlnZfmlbDmja5cclxuLy8gICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYWdlSWQg6aG16Z2iSWRcclxuLy8gICAgICAqL1xyXG4vLyAgICAgYXN5bmMgZ2V0QWxsTW9kdWxlKHBhZ2VJZDogbnVtYmVyKSB7XHJcblxyXG4vLyAgICAgICAgIGNvbnN0IGRiID0gYXdhaXQgaWRiLm9wZW4oREIuTmFtZSk7XHJcbi8vICAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ21vZHVsZScsICdwYWdlJ10sICdyZWFkb25seScpO1xyXG4vLyAgICAgICAgIGNvbnN0IG1vZHVsZUluZm9zID0gYXdhaXQgdHgub2JqZWN0U3RvcmUoJ21vZHVsZScpLmdldEFsbCgpO1xyXG5cclxuLy8gICAgICAgICBjb25zdCBwYWdlSW5mbyA9IGF3YWl0IHR4Lm9iamVjdFN0b3JlKCdwYWdlJykuZ2V0KHBhZ2VJZCk7XHJcbi8vICAgICAgICAgbGV0IHByb21pc2VBcnIgPSBbXTtcclxuLy8gICAgICAgICBmb3IgKGxldCBtb2R1bGVJZCBvZiBwYWdlSW5mby5tb2R1bGVMaXN0KSB7XHJcbi8vICAgICAgICAgICAgIGlmIChtb2R1bGVJZCAhPT0gdW5kZWZpbmVkKSB7XHJcbi8vICAgICAgICAgICAgICAgICBwcm9taXNlQXJyLnB1c2godHgub2JqZWN0U3RvcmUoJ21vZHVsZScpLmdldChtb2R1bGVJZCkpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZUFycik7XHJcbi8vICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuLy8gICAgIH0sXHJcbi8vICAgICAvKipcclxuLy8gICAgICAqIOagueaNrm1vZHVsZVR5cGVJZOiOt+WPluaooeWdl+WQjeensFxyXG4vLyAgICAgICogQHBhcmFtIHtOdW1iZXJ9IG1vZHVsZVR5cGVJZCDmqKHlnZfnsbvlnotJZFxyXG4vLyAgICAgICovXHJcbi8vICAgICBhc3luYyBnZXRNb2R1bGVOYW1lKG1vZHVsZVR5cGVJZDogbnVtYmVyKSB7XHJcbi8vICAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBpZGIub3BlbihEQi5OYW1lKTtcclxuLy8gICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi50cmFuc2FjdGlvbignbW9kdWxlTmFtZScpLm9iamVjdFN0b3JlKCdtb2R1bGVOYW1lJykuZ2V0KG1vZHVsZVR5cGVJZCk7XHJcbi8vICAgICAgICAgcmV0dXJuIHJlc3VsdC5tb2R1bGVOYW1lO1xyXG4vLyAgICAgfSxcclxuLy8gICAgIC8qKlxyXG4vLyAgICAgICog5Yig6Zmk5omA5pyJ5qih5Z2XXHJcbi8vICAgICAgKi9cclxuLy8gICAgIGFzeW5jIGRlbGV0ZUFsbE1vZHVsZXMoKSB7XHJcblxyXG4vLyAgICAgICAgIGNvbnN0IGRiID0gYXdhaXQgaWRiLm9wZW4oREIuTmFtZSk7XHJcbi8vICAgICAgICAgY29uc3QgbW9kdWxlUmVzdWx0ID0gYXdhaXQgZGIudHJhbnNhY3Rpb24oJ21vZHVsZScpLm9iamVjdFN0b3JlKCdtb2R1bGUnKS5nZXRBbGwoKTtcclxuLy8gICAgICAgICBjb25zdCBtb2R1bGVJZHMgPSBtb2R1bGVSZXN1bHQubWFwKHYgPT4gdi5tb2R1bGVJZCk7XHJcblxyXG4vLyAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbi8vICAgICAgICAgICAgIFByb21pc2UuYWxsKG1vZHVsZUlkcy5tYXAoKG1vZHVsZUlkKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbi8vICAgICAgICAgICAgICAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKCdtb2R1bGUnLCAncmVhZHdyaXRlJykub2JqZWN0U3RvcmUoJ21vZHVsZScpO1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKHR4LmRlbGV0ZShtb2R1bGVJZCkgYXMgYW55KS5yZXF1ZXN0O1xyXG5cclxuLy8gICAgICAgICAgICAgICAgIHJlc3VsdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHJlc3VsdDogdHJ1ZSB9KTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIHJlc3VsdC5vbmVycm9yID0gKCkgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh7IHJlc3VsdDogZmFsc2UgfSk7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH0pKSkudGhlbigoKSA9PiB7XHJcbi8vICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4vLyAgICAgICAgICAgICB9KTtcclxuXHJcbi8vICAgICAgICAgfSlcclxuXHJcbi8vICAgICB9LFxyXG4vLyAgICAgLyoqXHJcbi8vICAgICAgKiDmlrDlop7pobXpnaJcclxuLy8gICAgICAqL1xyXG4vLyAgICAgYXN5bmMgYWRkUGFnZShwYWdlRGF0YSA9IHsgbmFtZTogJ+mhtemdouWQjeensCcgfSkge1xyXG4vLyAgICAgICAgIGNvbnN0IE5BTUUgPSBgcGFnZWBcclxuLy8gICAgICAgICBjb25zdCBkYiA9IGF3YWl0IGlkYi5vcGVuKERCLk5hbWUpO1xyXG4vLyAgICAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oTkFNRSwgJ3JlYWR3cml0ZScpLm9iamVjdFN0b3JlKE5BTUUpO1xyXG4vLyAgICAgICAgIGNvbnN0IHBhZ2VJZCA9IGF3YWl0IHR4LnB1dChwYWdlRGF0YSlcclxuLy8gICAgICAgICByZXR1cm4gYXdhaXQgZGIudHJhbnNhY3Rpb24oTkFNRSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoTkFNRSkuZ2V0KHBhZ2VJZCk7XHJcbi8vICAgICB9XHJcblxyXG4vLyB9XHJcblxyXG5jb25zdCBEQkFjdGlvbiA9IHtcclxuICAgIGFzeW5jIGdldEFsbE1vZHVsZShwYWdlSWQ6IG51bWJlcikge1xyXG5cclxuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IChhd2FpdCBheGlvcyhJTlRFUkZBQ0UuZ2V0QWxsTW9kdWxlLCB7XHJcbiAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgcGFnZUlkLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGF0YTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgKiDmt7vliqDmqKHlnZdcclxuICAgICogQHBhcmFtIHtPYmplY3R9IGFyZ3Mg5YWl5Y+C77yM5qih5Z2X57G75Z6L77yM5L2N572u562JXHJcbiAgICAqL1xyXG4gICAgYXN5bmMgYWRkTW9kdWxlKGFyZ3M6IHsgcHJlTW9kdWxlSWQ/OiBudW1iZXIsIG1vZHVsZVR5cGVJZDogbnVtYmVyLCBkYXRhPzogYW55LCBwYWdlSWQ6IG51bWJlciB9KSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSAoYXdhaXQgYXhpb3MoSU5URVJGQUNFLmFkZE1vZHVsZSwge1xyXG4gICAgICAgICAgICBwYXJhbXM6IGFyZ3MsXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgbWVzc2FnZS5zdWNjZXNzKCfmt7vliqDmiJDlip8nLCAxKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGF0YTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtZXNzYWdlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiDmoLnmja7mqKHlnZdJZOWIoOmZpOaooeWdlyAgXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gIOWFpeWPgiDluKZtb2R1bGVJZOWSjHBhZ2VJZFxyXG4gICAgICovXHJcbiAgICBhc3luYyByZW1vdmVNb2R1bGUoeyBtb2R1bGVJZCwgcGFnZUlkIH06IHsgbW9kdWxlSWQ6IG51bWJlciwgcGFnZUlkOiBudW1iZXIgfSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCBheGlvcyhJTlRFUkZBQ0UucmVtb3ZlTW9kdWxlLCB7XHJcbiAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgbW9kdWxlSWQsXHJcbiAgICAgICAgICAgICAgICBwYWdlSWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKS5kYXRhO1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbW9kdWxlSWQsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0OiBmYWxzZSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOenu+WKqOaooeWdl1xyXG4gICAgICovXHJcbiAgICBhc3luYyBwb3NpdGlvbk1vZHVsZSh7IG1vZHVsZUlkLCBwcmVNb2R1bGVJZCwgcGFnZUlkIH06IHsgbW9kdWxlSWQ6IG51bWJlciwgcHJlTW9kdWxlSWQ/OiBudW1iZXIsIHBhZ2VJZDogbnVtYmVyIH0pIHtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IGF4aW9zKElOVEVSRkFDRS5wb3NpdGlvbk1vZHVsZSwge1xyXG4gICAgICAgICAgICBwYXJhbXM6IHsgbW9kdWxlSWQsIHByZU1vZHVsZUlkLCBwYWdlSWQgfVxyXG4gICAgICAgIH0pKS5kYXRhO1xyXG5cclxuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtb2R1bGVJZCxcclxuICAgICAgICAgICAgICAgIHByZU1vZHVsZUlkLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog5pu05paw5qih5Z2XXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHVwZGF0ZU1vZHVsZShtb2R1bGVEYXRhOiBJTW9kdWxlRGF0YSkge1xyXG4gICAgICAgIGRlbGV0ZSBtb2R1bGVEYXRhLnRlbXBEYXRhOyAvLyDliKDpmaTkuLTml7bmlbDmja5cclxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgYXhpb3MoSU5URVJGQUNFLnVwZGF0ZU1vZHVsZSwge1xyXG4gICAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgIG1vZHVsZURhdGEsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSkpLmRhdGE7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2Uuc3VjY2Vzcygn5L+d5a2Y5oiQ5YqfJywgMSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOWkjeWItuaooeWdl1xyXG4gICAgICovXHJcbiAgICBhc3luYyBjb3B5TW9kdWxlKG1vZHVsZUlkOiBudW1iZXIsIHBhZ2VJZDogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IGF4aW9zKElOVEVSRkFDRS5jb3B5TW9kdWxlLCB7XHJcbiAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgbW9kdWxlSWQsXHJcbiAgICAgICAgICAgICAgICBwYWdlSWQsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSkuZGF0YTtcclxuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgbWVzc2FnZS5zdWNjZXNzKCflpI3liLbmiJDlip8nKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W6aG16Z2i5Yid5aeL5YyW5pWw5o2uXHJcbiAgICAgKiBAcGFyYW0gcGFnZVR5cGUg6aG16Z2i57G75Z6LIDDvvJroo4Xkv64gMe+8mumihOiniCAy77ya5rWP6KeIXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldEluaXREYXRhKHBhZ2VUeXBlOiBudW1iZXIsIHBhZ2VJZD86IG51bWJlcikge1xyXG4gICAgICAgIGlmICghcGFnZUlkICYmICFpc1NlcnZlcigpKSB7XHJcbiAgICAgICAgICAgIHBhZ2VJZCA9ICh3aW5kb3cgYXMgYW55KS5sb2NhdGlvbi5ocmVmLm1hdGNoKC9wYWdlSWQ9KFswLTldKykvKVsxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IGF4aW9zKElOVEVSRkFDRS5nZXRJbml0RGF0YSwge1xyXG4gICAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgIHBhZ2VJZCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKS5kYXRhO1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICByZXN1bHQuZGF0YS5wYWdlVHlwZSA9IHBhZ2VUeXBlO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog6YCA5Ye655m75b2VXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGxvZ291dCgpIHtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zKElOVEVSRkFDRS5sb2dvdXQpKS5kYXRhO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBBY3Rpb24gPSBEQkFjdGlvbjtcclxuXHJcbmlmICghaXNTZXJ2ZXIpIHtcclxuICAgICh3aW5kb3cgYXMgYW55KS5BY3Rpb24gPSBBY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFjdGlvbjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBR0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFHQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBR0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n")},200:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/page/view/view.scss\nvar view = __webpack_require__(203);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(10);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 19 modules\nvar es = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./src/store/index.ts + 3 modules\nvar store = __webpack_require__(37);\n\n// EXTERNAL MODULE: ./src/component/Canvas/index.ts + 17 modules\nvar Canvas = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./src/common/script/action.ts\nvar action = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./src/component/ContextProvider/index.ts + 1 modules\nvar ContextProvider = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./src/common/script/isServer.ts\nvar isServer = __webpack_require__(21);\n\n// CONCATENATED MODULE: ./src/page/view/view.tsx\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nif (Object(isServer["a" /* default */])()) {\r\n    action["a" /* default */].getInitData(2).then((BASE_DATA) => {\r\n        react_dom_default.a.render(react_default.a.createElement(es["a" /* Provider */], { store: store["a" /* default */] },\r\n            react_default.a.createElement(ContextProvider["a" /* default */], { BASE_DATA: BASE_DATA },\r\n                react_default.a.createElement(Canvas["a" /* default */], null))), document.querySelector(\'#Container\'));\r\n    });\r\n}\r\nelse {\r\n    let BASE_DATA = window.BASE_DATA;\r\n    // 服务端报错，无BASE_DATA,兜底处理\r\n    if (BASE_DATA === undefined) {\r\n        action["a" /* default */].getInitData(2).then((BASE_DATA) => {\r\n            init(BASE_DATA);\r\n        });\r\n    }\r\n    else {\r\n        init(BASE_DATA);\r\n    }\r\n    function init(BASE_DATA) {\r\n        react_dom_default.a.hydrate(react_default.a.createElement(es["a" /* Provider */], { store: store["a" /* default */] },\r\n            react_default.a.createElement(ContextProvider["a" /* default */], { BASE_DATA: BASE_DATA },\r\n                react_default.a.createElement(Canvas["a" /* default */], null))), document.querySelector(\'#Container\'));\r\n    }\r\n}\r\n\n// EXTERNAL MODULE: ./src/common/script/moduleStyle.ts\nvar moduleStyle = __webpack_require__(90);\n\n// CONCATENATED MODULE: ./src/page/view/index.js\n__webpack_require__(50);\n\n\n\n// 模块样式\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9wYWdlL3ZpZXcvdmlldy50c3g/MTBmNCIsIndlYnBhY2s6Ly8vc3JjL3BhZ2Uvdmlldy9pbmRleC5qcz9iNmE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuXHJcbmltcG9ydCBzdG9yZSBmcm9tICcuLi8uLi9zdG9yZSc7XHJcbmltcG9ydCBDYW52YXMgZnJvbSAnLi4vLi4vY29tcG9uZW50L0NhbnZhcyc7XHJcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi4vLi4vY29tbW9uL3NjcmlwdC9hY3Rpb24nO1xyXG5pbXBvcnQgQ29udGV4dFByb3ZpZGVyIGZyb20gJy4uLy4uL2NvbXBvbmVudC9Db250ZXh0UHJvdmlkZXInO1xyXG5pbXBvcnQgeyBJQkFTRV9EQVRBIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50L2ludGVyZmFjZSc7XHJcbmltcG9ydCBpc1NlcnZlciBmcm9tICcuLi8uLi9jb21tb24vc2NyaXB0L2lzU2VydmVyJztcclxuXHJcblxyXG5pZiAoaXNTZXJ2ZXIoKSkge1xyXG4gICAgQWN0aW9uLmdldEluaXREYXRhKDIpLnRoZW4oKEJBU0VfREFUQTogSUJBU0VfREFUQSkgPT4ge1xyXG4gICAgICAgIFJlYWN0RE9NLnJlbmRlcihcclxuICAgICAgICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0gPlxyXG4gICAgICAgICAgICAgICAgPENvbnRleHRQcm92aWRlciBCQVNFX0RBVEE9e0JBU0VfREFUQX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPENhbnZhcyAvPlxyXG4gICAgICAgICAgICAgICAgPC9Db250ZXh0UHJvdmlkZXI+XHJcbiAgICAgICAgICAgIDwvUHJvdmlkZXI+LFxyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ29udGFpbmVyJylcclxuICAgICAgICApO1xyXG4gICAgfSlcclxufSBlbHNlIHtcclxuICAgIGxldCBCQVNFX0RBVEEgPSAod2luZG93IGFzIGFueSkuQkFTRV9EQVRBO1xyXG4gICAgLy8g5pyN5Yqh56uv5oql6ZSZ77yM5pegQkFTRV9EQVRBLOWFnOW6leWkhOeQhlxyXG4gICAgaWYgKEJBU0VfREFUQSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgQWN0aW9uLmdldEluaXREYXRhKDIpLnRoZW4oKEJBU0VfREFUQTogSUJBU0VfREFUQSkgPT4ge1xyXG4gICAgICAgICAgICBpbml0KEJBU0VfREFUQSk7XHJcbiAgICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW5pdChCQVNFX0RBVEEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluaXQoQkFTRV9EQVRBOiBJQkFTRV9EQVRBKSB7XHJcbiAgICAgICAgUmVhY3RET00uaHlkcmF0ZShcclxuICAgICAgICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0gPlxyXG4gICAgICAgICAgICAgICAgPENvbnRleHRQcm92aWRlciBCQVNFX0RBVEE9e0JBU0VfREFUQX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPENhbnZhcyAvPlxyXG4gICAgICAgICAgICAgICAgPC9Db250ZXh0UHJvdmlkZXI+XHJcbiAgICAgICAgICAgIDwvUHJvdmlkZXI+LFxyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ29udGFpbmVyJylcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG4iLCJyZXF1aXJlKCdhbnRkL2Rpc3QvYW50ZC5jc3MnKTtcbmltcG9ydCAnLi92aWV3LnNjc3MnO1xuaW1wb3J0ICcuL3ZpZXcnO1xuXG4vLyDmqKHlnZfmoLflvI9cbmltcG9ydCAnLi4vLi4vY29tbW9uL3NjcmlwdC9tb2R1bGVTdHlsZSc7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBRUE7Ozs7OztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///200\n')},203:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2Uvdmlldy92aWV3LnNjc3M/MDc3YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///203\n")},21:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony default export */ __webpack_exports__[\"a\"] = (function () {\r\n    return typeof window === 'undefined';\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbW1vbi9zY3JpcHQvaXNTZXJ2ZXIudHM/NTc1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCc7XHJcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///21\n")},30:function(module,exports){eval("// dev\r\nmodule.exports = {\r\n    serverAddress: `http://h5editor.cn:8080`,\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb25maWcuanM/YTFiYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBkZXZcclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBzZXJ2ZXJBZGRyZXNzOiBgaHR0cDovL2g1ZWRpdG9yLmNuOjgwODBgLFxyXG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///30\n")},36:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(1);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// CONCATENATED MODULE: ./src/component/ContextProvider/ContextProvider.tsx\n\r\n\r\nclass ContextProvider_ContextProvider extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.BASE_DATA = props.BASE_DATA;\r\n    }\r\n    getChildContext() {\r\n        return {\r\n            BASE_DATA: this.BASE_DATA,\r\n        };\r\n    }\r\n    render() {\r\n        return this.props.children;\r\n    }\r\n}\r\nContextProvider_ContextProvider.childContextTypes = {\r\n    BASE_DATA: prop_types_default.a.object,\r\n};\r\n/* harmony default export */ var component_ContextProvider_ContextProvider = (ContextProvider_ContextProvider);\r\n\n// CONCATENATED MODULE: ./src/component/ContextProvider/index.ts\n\r\n/* harmony default export */ var component_ContextProvider = __webpack_exports__["a"] = (component_ContextProvider_ContextProvider);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9Db250ZXh0UHJvdmlkZXIvQ29udGV4dFByb3ZpZGVyLnRzeD84NjMyIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L0NvbnRleHRQcm92aWRlci9pbmRleC50cz82MjA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5pbXBvcnQgeyBJQkFTRV9EQVRBIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcblxuaW50ZXJmYWNlIElDb250ZXh0UHJvdmlkZXJQcm9wcyB7XG4gICAgQkFTRV9EQVRBOiBJQkFTRV9EQVRBO1xufVxuXG5jbGFzcyBDb250ZXh0UHJvdmlkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SUNvbnRleHRQcm92aWRlclByb3BzLCBhbnk+IHtcblxuICAgIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIEJBU0VfREFUQTogdGhpcy5CQVNFX0RBVEEsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgY2hpbGRDb250ZXh0VHlwZXMgPSB7XG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICB9O1xuXG4gICAgQkFTRV9EQVRBOiBJQkFTRV9EQVRBO1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6IElDb250ZXh0UHJvdmlkZXJQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuQkFTRV9EQVRBID0gcHJvcHMuQkFTRV9EQVRBO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250ZXh0UHJvdmlkZXI7IiwiaW1wb3J0IENvbnRleHRQcm92aWRlciBmcm9tICcuL0NvbnRleHRQcm92aWRlcic7XG5leHBvcnQgZGVmYXVsdCBDb250ZXh0UHJvdmlkZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQVFBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYUE7QUFDQTtBQUNBOztBQWJBO0FBQ0E7QUFDQTtBQWNBOzs7QUNqQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///36\n')},37:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/redux/lib/index.js\nvar lib = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/redux-devtools-extension/index.js\nvar redux_devtools_extension = __webpack_require__(70);\n\n// EXTERNAL MODULE: ./node_modules/redux-thunk/lib/index.js\nvar redux_thunk_lib = __webpack_require__(69);\nvar redux_thunk_lib_default = /*#__PURE__*/__webpack_require__.n(redux_thunk_lib);\n\n// EXTERNAL MODULE: ./src/actions/index.js\nvar actions = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/reducers/configReducer.ts\n\r\n/* harmony default export */ var configReducer = ((state = { isVisiable: false, configData: {} }, action) => {\r\n    switch (action.type) {\r\n        case actions["l" /* SHOW_CONFIG */]:\r\n            {\r\n                const { moduleData } = action;\r\n                const moduleConfig = {\r\n                    isVisiable: true,\r\n                    moduleData,\r\n                };\r\n                const result = moduleConfig;\r\n                return result;\r\n            }\r\n        case actions["e" /* HIDE_CONFIG */]:\r\n            return Object.assign({ isVisiable: false });\r\n        case actions["k" /* SAVE_CONFIG_REQUEST */]:\r\n            const { configData } = action;\r\n            return Object.assign({}, state, {\r\n                configData,\r\n            });\r\n        case actions["a" /* ADD_MODULE */]: {\r\n            const { moduleData } = action;\r\n            const result = Object.assign({}, state, {\r\n                moduleData,\r\n            });\r\n            return result;\r\n        }\r\n        case actions["m" /* UPDATE_MODULE */]: {\r\n            const { moduleData } = action;\r\n            const result = Object.assign({}, state, {\r\n                moduleData,\r\n            });\r\n            return result;\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n});\r\n\n// EXTERNAL MODULE: ./src/component/interface.tsx\nvar component_interface = __webpack_require__(75);\n\n// CONCATENATED MODULE: ./src/reducers/moduleReducer.ts\n\r\n\r\n/* harmony default export */ var moduleReducer = ((state = { moduleList: [] }, action) => {\r\n    switch (action.type) {\r\n        case actions["a" /* ADD_MODULE */]:\r\n            {\r\n                const { preModuleId, moduleData } = action;\r\n                // 添加tempData\r\n                moduleData.tempData = {\r\n                    isActive: true,\r\n                };\r\n                let newModuleList;\r\n                if (preModuleId === undefined) {\r\n                    newModuleList = state.moduleList.concat([moduleData]);\r\n                }\r\n                else {\r\n                    const init = [];\r\n                    newModuleList = state.moduleList.reduce((acc, v, i, array) => {\r\n                        acc.push(v);\r\n                        if (v.moduleId === preModuleId) {\r\n                            acc.push(moduleData);\r\n                        }\r\n                        return acc;\r\n                    }, init);\r\n                }\r\n                newModuleList = newModuleList.map(v => {\r\n                    if (v.moduleId === moduleData.moduleId) {\r\n                        v.tempData.isActive = true;\r\n                    }\r\n                    else {\r\n                        v.tempData.isActive = false;\r\n                    }\r\n                    return v;\r\n                });\r\n                const result = Object.assign({}, state, { moduleList: newModuleList });\r\n                return result;\r\n            }\r\n        case actions["i" /* REFRESH_MODULE_LIST */]: //刷新整页\r\n            {\r\n                const { moduleList } = action;\r\n                return {\r\n                    moduleList: moduleList.map((v) => {\r\n                        return Object.assign({}, v, {\r\n                            tempData: {\r\n                                isActive: false,\r\n                                top: 0,\r\n                                height: 0,\r\n                            }\r\n                        });\r\n                    }),\r\n                };\r\n            }\r\n        case actions["j" /* REMOVE_MODULE */]: // 删除模块\r\n            {\r\n                const { moduleId } = action;\r\n                let result;\r\n                if (state.moduleList) {\r\n                    return Object.assign({}, state, {\r\n                        moduleList: state.moduleList.filter(v => v.moduleId !== moduleId)\r\n                    });\r\n                }\r\n                else {\r\n                    return state;\r\n                }\r\n            }\r\n            break;\r\n        case actions["m" /* UPDATE_MODULE */]: //更新模块\r\n            const { moduleData } = action;\r\n            if (moduleData) {\r\n                const { moduleId } = moduleData;\r\n                const result = Object.assign({}, state, {\r\n                    moduleList: state.moduleList.map((v) => {\r\n                        if (v.moduleId === moduleId) {\r\n                            moduleData.tempData = v.tempData; //带上临时数据\r\n                            return moduleData;\r\n                        }\r\n                        else {\r\n                            return v;\r\n                        }\r\n                    })\r\n                });\r\n                return result;\r\n            }\r\n        case actions["d" /* FOCUS_MODULE */]: //聚焦模块\r\n            {\r\n                const { moduleId } = action;\r\n                const result = Object.assign({}, state, {\r\n                    moduleList: state.moduleList.map(v => {\r\n                        v.moduleId === moduleId ?\r\n                            v.tempData = Object.assign({}, v.tempData, { isActive: true }) :\r\n                            v.tempData = Object.assign({}, v.tempData, { isActive: false });\r\n                        return v;\r\n                    })\r\n                });\r\n                return result;\r\n            }\r\n        case actions["h" /* POSITION_MODULE */]: //移动模块\r\n            {\r\n                const { moduleId, preModuleId } = action;\r\n                let { newModuleList, module } = state.moduleList.reduce((acc, v) => {\r\n                    if (v.moduleId === moduleId) {\r\n                        acc.module = v;\r\n                    }\r\n                    else {\r\n                        acc.newModuleList.push(v);\r\n                    }\r\n                    return acc;\r\n                }, ({\r\n                    newModuleList: [],\r\n                    module: undefined,\r\n                }));\r\n                // 如果移到第一个位置\r\n                if (preModuleId === undefined) {\r\n                    newModuleList = [module].concat(newModuleList);\r\n                }\r\n                else {\r\n                    const preModuleIndex = newModuleList.findIndex((v) => v.moduleId === preModuleId);\r\n                    newModuleList.splice(preModuleIndex + 1, 0, module);\r\n                }\r\n                const result = Object.assign({}, state, {\r\n                    moduleList: newModuleList,\r\n                });\r\n                return result;\r\n            }\r\n        case actions["g" /* MODULE_TOP_CHANGE */]: // 模块top值变化\r\n            {\r\n                const { moduleId, top } = action;\r\n                const newModuleList = state.moduleList.map(v => {\r\n                    if (v.moduleId === moduleId) {\r\n                        v.tempData = Object.assign({}, v.tempData, { top });\r\n                    }\r\n                    return v;\r\n                });\r\n                const result = Object.assign({}, state, {\r\n                    moduleList: newModuleList,\r\n                });\r\n                return result;\r\n            }\r\n        case actions["b" /* ALL_MODULE_TOP_CHANGE */]: //  刷新某模块之后所有模块top值\r\n            {\r\n                const { afterModuleId, topChange } = action;\r\n                let shouldChange = false;\r\n                const newModuleList = state.moduleList.reduce((acc, v) => {\r\n                    if (shouldChange === true) {\r\n                        v.tempData.top += topChange;\r\n                    }\r\n                    // 该模块之后的模块top值都要发生变化\r\n                    if (v.moduleId === afterModuleId) {\r\n                        shouldChange = true;\r\n                    }\r\n                    acc.push(v);\r\n                    return acc;\r\n                }, []);\r\n                const result = Object.assign({}, state, {\r\n                    moduleList: newModuleList,\r\n                });\r\n                return result;\r\n            }\r\n        case actions["f" /* MODULE_HEIGHT_CHANGE */]: // 模块height值变化\r\n            {\r\n                const { moduleId, height } = action;\r\n                const newModuleList = state.moduleList.map(v => {\r\n                    if (v.moduleId === moduleId) {\r\n                        v.tempData = Object.assign({}, v.tempData, { height });\r\n                    }\r\n                    return v;\r\n                });\r\n                const result = Object.assign({}, state, {\r\n                    moduleList: newModuleList,\r\n                });\r\n                return result;\r\n            }\r\n        case actions["c" /* COPY_MODULE */]:\r\n            {\r\n                const { prevModuleId, moduleData } = action;\r\n                // 添加tempData\r\n                moduleData.tempData = {\r\n                    isActive: true,\r\n                };\r\n                const newModuleList = state.moduleList.reduce((acc, v) => {\r\n                    acc.push(v);\r\n                    if (v.moduleId === prevModuleId) {\r\n                        acc.push(moduleData);\r\n                    }\r\n                    return acc;\r\n                }, []);\r\n                const result = Object.assign({}, state, {\r\n                    moduleList: newModuleList,\r\n                });\r\n                return result;\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n});\r\n\n// CONCATENATED MODULE: ./src/reducers/index.ts\n\r\n\r\n\r\n/* harmony default export */ var reducers = (Object(lib["combineReducers"])({\r\n    module: moduleReducer,\r\n    moduleConfig: configReducer\r\n}));\r\n\n// EXTERNAL MODULE: ./src/common/script/isServer.ts\nvar isServer = __webpack_require__(21);\n\n// CONCATENATED MODULE: ./src/store/index.ts\n\r\n\r\n\r\n\r\n\r\nconst middleware = [redux_thunk_lib_default.a];\r\nif (false) {}\r\nconst composeEnhancers = Object(redux_devtools_extension["composeWithDevTools"])({\r\n// Specify here name, actionsBlacklist, actionsCreators and other options\r\n});\r\nlet initialState = {};\r\nif (!Object(isServer["a" /* default */])()) {\r\n    initialState = window.__INITIAL_STATE__ || {};\r\n}\r\nelse {\r\n}\r\nconst store = Object(lib["createStore"])(reducers, initialState, composeEnhancers(Object(lib["applyMiddleware"])(...middleware)));\r\n/* harmony default export */ var src_store = __webpack_exports__["a"] = (store);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3JlZHVjZXJzL2NvbmZpZ1JlZHVjZXIudHM/ZmYyZCIsIndlYnBhY2s6Ly8vc3JjL3JlZHVjZXJzL21vZHVsZVJlZHVjZXIudHM/Y2YwYSIsIndlYnBhY2s6Ly8vc3JjL3JlZHVjZXJzL2luZGV4LnRzP2NhNmIiLCJ3ZWJwYWNrOi8vL3NyYy9zdG9yZS9pbmRleC50cz8zMjQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNIT1dfQ09ORklHLCBISURFX0NPTkZJRywgU0FWRV9DT05GSUdfUkVRVUVTVCwgQUREX01PRFVMRSwgVVBEQVRFX01PRFVMRSB9IGZyb20gJy4uL2FjdGlvbnMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKHN0YXRlID0geyBpc1Zpc2lhYmxlOiBmYWxzZSwgY29uZmlnRGF0YToge30gfSwgYWN0aW9uOiBhbnkpID0+IHtcclxuXHJcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcbiAgICAgICAgY2FzZSBTSE9XX0NPTkZJRzpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBtb2R1bGVEYXRhIH0gPSBhY3Rpb247XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb2R1bGVDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVEYXRhLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG1vZHVsZUNvbmZpZztcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBjYXNlIEhJREVfQ09ORklHOlxyXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7IGlzVmlzaWFibGU6IGZhbHNlIH0pO1xyXG4gICAgICAgIGNhc2UgU0FWRV9DT05GSUdfUkVRVUVTVDpcclxuICAgICAgICAgICAgY29uc3QgeyBjb25maWdEYXRhIH0gPSBhY3Rpb247XHJcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xyXG4gICAgICAgICAgICAgICAgY29uZmlnRGF0YSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgY2FzZSBBRERfTU9EVUxFOiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbW9kdWxlRGF0YSB9ID0gYWN0aW9uO1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZSwgLi4ue1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZURhdGEsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgVVBEQVRFX01PRFVMRToge1xyXG4gICAgICAgICAgICBjb25zdCB7IG1vZHVsZURhdGEgfSA9IGFjdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsIC4uLntcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVEYXRhLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICB9XHJcbn07XHJcbiIsImltcG9ydCB7IElTdGF0ZSwgSU1vZHVsZSwgSU1vZHVsZURhdGEgfSBmcm9tICcuLi9jb21wb25lbnQvaW50ZXJmYWNlJztcclxuaW1wb3J0IHtcclxuICAgIEFERF9NT0RVTEUsXHJcbiAgICBSRUZSRVNIX01PRFVMRSxcclxuICAgIFJFRlJFU0hfTU9EVUxFX0xJU1QsXHJcbiAgICBSRU1PVkVfTU9EVUxFLFxyXG4gICAgVVBEQVRFX01PRFVMRSxcclxuICAgIEZPQ1VTX01PRFVMRSxcclxuICAgIFBPU0lUSU9OX01PRFVMRSxcclxuICAgIE1PRFVMRV9UT1BfQ0hBTkdFLFxyXG4gICAgTU9EVUxFX0hFSUdIVF9DSEFOR0UsXHJcbiAgICBBTExfTU9EVUxFX1RPUF9DSEFOR0UsXHJcbiAgICBDT1BZX01PRFVMRSxcclxufSBmcm9tIFwiLi4vYWN0aW9uc1wiO1xyXG5cclxuaW1wb3J0ICcuLi9jb21wb25lbnQvaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgYWNjZXNzIH0gZnJvbSAnZnMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKHN0YXRlOiBJTW9kdWxlID0geyBtb2R1bGVMaXN0OiBbXSB9LCBhY3Rpb246IGFueSkgPT4ge1xyXG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgICAgIGNhc2UgQUREX01PRFVMRTpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBwcmVNb2R1bGVJZCwgbW9kdWxlRGF0YSB9ID0gYWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgLy8g5re75YqgdGVtcERhdGFcclxuICAgICAgICAgICAgICAgIG1vZHVsZURhdGEudGVtcERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ld01vZHVsZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJlTW9kdWxlSWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld01vZHVsZUxpc3QgPSBzdGF0ZS5tb2R1bGVMaXN0LmNvbmNhdChbbW9kdWxlRGF0YV0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbml0OiBJTW9kdWxlRGF0YVtdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3TW9kdWxlTGlzdCA9IHN0YXRlLm1vZHVsZUxpc3QucmVkdWNlKChhY2MsIHY6IElNb2R1bGVEYXRhLCBpLCBhcnJheSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2MucHVzaCh2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYubW9kdWxlSWQgPT09IHByZU1vZHVsZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2MucHVzaChtb2R1bGVEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGluaXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV3TW9kdWxlTGlzdCA9IG5ld01vZHVsZUxpc3QubWFwKHYgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2Lm1vZHVsZUlkID09PSBtb2R1bGVEYXRhLm1vZHVsZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHYudGVtcERhdGEuaXNBY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHYudGVtcERhdGEuaXNBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IG1vZHVsZUxpc3Q6IG5ld01vZHVsZUxpc3QgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBSRUZSRVNIX01PRFVMRV9MSVNUOiAvL+WIt+aWsOaVtOmhtVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IG1vZHVsZUxpc3QgfSA9IGFjdGlvbjtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlTGlzdDogbW9kdWxlTGlzdC5tYXAoKHY6IElNb2R1bGVEYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB2LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgY2FzZSBSRU1PVkVfTU9EVUxFOiAvLyDliKDpmaTmqKHlnZdcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBtb2R1bGVJZCB9ID0gYWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5tb2R1bGVMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZUxpc3Q6IHN0YXRlLm1vZHVsZUxpc3QuZmlsdGVyKHYgPT4gdi5tb2R1bGVJZCAhPT0gbW9kdWxlSWQpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFVQREFURV9NT0RVTEU6IC8v5pu05paw5qih5Z2XXHJcbiAgICAgICAgICAgIGNvbnN0IHsgbW9kdWxlRGF0YSB9ID0gYWN0aW9uO1xyXG4gICAgICAgICAgICBpZiAobW9kdWxlRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBtb2R1bGVJZCB9ID0gbW9kdWxlRGF0YTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlTGlzdDogc3RhdGUubW9kdWxlTGlzdC5tYXAoKHYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYubW9kdWxlSWQgPT09IG1vZHVsZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVEYXRhLnRlbXBEYXRhID0gdi50ZW1wRGF0YTsgLy/luKbkuIrkuLTml7bmlbDmja5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGVEYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBGT0NVU19NT0RVTEU6IC8v6IGa54Sm5qih5Z2XXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbW9kdWxlSWQgfSA9IGFjdGlvbjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlTGlzdDogc3RhdGUubW9kdWxlTGlzdC5tYXAodiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHYubW9kdWxlSWQgPT09IG1vZHVsZUlkID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYudGVtcERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB2LnRlbXBEYXRhLCB7IGlzQWN0aXZlOiB0cnVlIH0pIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYudGVtcERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB2LnRlbXBEYXRhLCB7IGlzQWN0aXZlOiBmYWxzZSB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdjtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBjYXNlIFBPU0lUSU9OX01PRFVMRTogLy/np7vliqjmqKHlnZdcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBtb2R1bGVJZCwgcHJlTW9kdWxlSWQgfSA9IGFjdGlvbjtcclxuICAgICAgICAgICAgICAgIGxldCB7IG5ld01vZHVsZUxpc3QsIG1vZHVsZSB9ID0gc3RhdGUubW9kdWxlTGlzdC5yZWR1Y2UoKGFjYywgdikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2Lm1vZHVsZUlkID09PSBtb2R1bGVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2MubW9kdWxlID0gdjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2MubmV3TW9kdWxlTGlzdC5wdXNoKHYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICAgICAgfSwgKHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdNb2R1bGVMaXN0OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGU6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIH0pIGFzIGFueSk7XHJcbiAgICAgICAgICAgICAgICAvLyDlpoLmnpznp7vliLDnrKzkuIDkuKrkvY3nva5cclxuICAgICAgICAgICAgICAgIGlmIChwcmVNb2R1bGVJZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3TW9kdWxlTGlzdCA9IFttb2R1bGVdLmNvbmNhdChuZXdNb2R1bGVMaXN0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlTW9kdWxlSW5kZXggPSBuZXdNb2R1bGVMaXN0LmZpbmRJbmRleCgodjogSU1vZHVsZURhdGEpID0+IHYubW9kdWxlSWQgPT09IHByZU1vZHVsZUlkKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdNb2R1bGVMaXN0LnNwbGljZShwcmVNb2R1bGVJbmRleCArIDEsIDAsIG1vZHVsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZUxpc3Q6IG5ld01vZHVsZUxpc3QsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgTU9EVUxFX1RPUF9DSEFOR0U6IC8vIOaooeWdl3RvcOWAvOWPmOWMllxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IG1vZHVsZUlkLCB0b3AgfSA9IGFjdGlvbjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld01vZHVsZUxpc3QgPSBzdGF0ZS5tb2R1bGVMaXN0Lm1hcCh2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodi5tb2R1bGVJZCA9PT0gbW9kdWxlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdi50ZW1wRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHYudGVtcERhdGEsIHsgdG9wIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdjtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZUxpc3Q6IG5ld01vZHVsZUxpc3QsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgQUxMX01PRFVMRV9UT1BfQ0hBTkdFOi8vICDliLfmlrDmn5DmqKHlnZfkuYvlkI7miYDmnInmqKHlnZd0b3DlgLxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBhZnRlck1vZHVsZUlkLCB0b3BDaGFuZ2UgfSA9IGFjdGlvbjtcclxuICAgICAgICAgICAgICAgIGxldCBzaG91bGRDaGFuZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld01vZHVsZUxpc3QgPSBzdGF0ZS5tb2R1bGVMaXN0LnJlZHVjZSgoYWNjOiBJTW9kdWxlRGF0YVtdLCB2OiBJTW9kdWxlRGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRDaGFuZ2UgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdi50ZW1wRGF0YS50b3AgKz0gdG9wQ2hhbmdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyDor6XmqKHlnZfkuYvlkI7nmoTmqKHlnZd0b3DlgLzpg73opoHlj5HnlJ/lj5jljJZcclxuICAgICAgICAgICAgICAgICAgICBpZiAodi5tb2R1bGVJZCA9PT0gYWZ0ZXJNb2R1bGVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRDaGFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBhY2MucHVzaCh2KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICAgICAgfSwgW10pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVMaXN0OiBuZXdNb2R1bGVMaXN0LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBNT0RVTEVfSEVJR0hUX0NIQU5HRTogLy8g5qih5Z2XaGVpZ2h05YC85Y+Y5YyWXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbW9kdWxlSWQsIGhlaWdodCB9ID0gYWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TW9kdWxlTGlzdCA9IHN0YXRlLm1vZHVsZUxpc3QubWFwKHYgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2Lm1vZHVsZUlkID09PSBtb2R1bGVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2LnRlbXBEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdi50ZW1wRGF0YSwgeyBoZWlnaHQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2O1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlTGlzdDogbmV3TW9kdWxlTGlzdCxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBDT1BZX01PRFVMRTpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBwcmV2TW9kdWxlSWQsIG1vZHVsZURhdGEgfSA9IGFjdGlvbjtcclxuICAgICAgICAgICAgICAgIC8vIOa3u+WKoHRlbXBEYXRhXHJcbiAgICAgICAgICAgICAgICBtb2R1bGVEYXRhLnRlbXBEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld01vZHVsZUxpc3QgPSBzdGF0ZS5tb2R1bGVMaXN0LnJlZHVjZSgoYWNjOiBJTW9kdWxlRGF0YVtdLCB2OiBJTW9kdWxlRGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjYy5wdXNoKHYpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2Lm1vZHVsZUlkID09PSBwcmV2TW9kdWxlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjLnB1c2gobW9kdWxlRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICB9LCBbXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZUxpc3Q6IG5ld01vZHVsZUxpc3QsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBjb21iaW5lUmVkdWNlcnMgfSBmcm9tICdyZWR1eCc7XG5cbmltcG9ydCBtb2R1bGVDb25maWcgZnJvbSAnLi9jb25maWdSZWR1Y2VyJztcbmltcG9ydCBtb2R1bGUgZnJvbSBcIi4vbW9kdWxlUmVkdWNlclwiO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNvbWJpbmVSZWR1Y2Vycyh7XG4gICAgbW9kdWxlLFxuICAgIG1vZHVsZUNvbmZpZ1xufSkiLCJpbXBvcnQgeyBjcmVhdGVTdG9yZSwgYXBwbHlNaWRkbGV3YXJlLCBjb21wb3NlIH0gZnJvbSAncmVkdXgnO1xyXG5pbXBvcnQgeyBjb21wb3NlV2l0aERldlRvb2xzIH0gZnJvbSAncmVkdXgtZGV2dG9vbHMtZXh0ZW5zaW9uJztcclxuaW1wb3J0IHRodW5rIGZyb20gJ3JlZHV4LXRodW5rJztcclxuaW1wb3J0IHsgY3JlYXRlTG9nZ2VyIH0gZnJvbSAncmVkdXgtbG9nZ2VyJ1xyXG5cclxuaW1wb3J0IHJlZHVjZXIgZnJvbSAnLi4vcmVkdWNlcnMnO1xyXG5pbXBvcnQgaXNTZXJ2ZXIgZnJvbSAnLi4vY29tbW9uL3NjcmlwdC9pc1NlcnZlcic7XHJcblxyXG5jb25zdCBtaWRkbGV3YXJlID0gW3RodW5rXVxyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgLy8gbWlkZGxld2FyZS5wdXNoKGNyZWF0ZUxvZ2dlcigpKVxyXG59XHJcbmNvbnN0IGNvbXBvc2VFbmhhbmNlcnMgPSBjb21wb3NlV2l0aERldlRvb2xzKHtcclxuICAgIC8vIFNwZWNpZnkgaGVyZSBuYW1lLCBhY3Rpb25zQmxhY2tsaXN0LCBhY3Rpb25zQ3JlYXRvcnMgYW5kIG90aGVyIG9wdGlvbnNcclxufSk7XHJcblxyXG5sZXQgaW5pdGlhbFN0YXRlID0ge307XHJcbmlmICghaXNTZXJ2ZXIoKSkge1xyXG4gICAgaW5pdGlhbFN0YXRlID0gKHdpbmRvdyBhcyBhbnkpLl9fSU5JVElBTF9TVEFURV9fIHx8IHt9O1xyXG59IGVsc2Uge1xyXG5cclxufVxyXG5cclxuY29uc3Qgc3RvcmUgPSBjcmVhdGVTdG9yZShyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGNvbXBvc2VFbmhhbmNlcnMoXHJcbiAgICBhcHBseU1pZGRsZXdhcmUoLi4ubWlkZGxld2FyZSksXHJcbiAgICAvLyBvdGhlciBzdG9yZSBlbmhhbmNlcnMgaWYgYW55XHJcbikpO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHN0b3JlO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQzFDQTtBQWNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzdNQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDVEE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0EsYUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBTUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///37\n')},42:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50L0ZpeGVkL0ZpeGVkLnNjc3M/N2M1NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///42\n")},43:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 19 modules\nvar es = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(1);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: ./node_modules/react-loading/dist/react-loading.js\nvar react_loading = __webpack_require__(67);\nvar react_loading_default = /*#__PURE__*/__webpack_require__.n(react_loading);\n\n// EXTERNAL MODULE: ./node_modules/jquery/dist/jquery.js\nvar jquery = __webpack_require__(33);\nvar jquery_default = /*#__PURE__*/__webpack_require__.n(jquery);\n\n// EXTERNAL MODULE: ./node_modules/lodash/debounce.js\nvar debounce = __webpack_require__(53);\nvar debounce_default = /*#__PURE__*/__webpack_require__.n(debounce);\n\n// EXTERNAL MODULE: ./src/actions/index.js\nvar actions = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/component/ModuleWrap/ModuleWrap.tsx\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nclass ModuleWrap_ModuleWrap extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.dragOver = (e) => {\r\n            const { nextPlaceholder, moduleData } = this.state;\r\n            const { moduleRef, allModuleTopChange } = this.props;\r\n            if (nextPlaceholder === undefined) {\r\n                const placeholder = document.createElement(\'div\');\r\n                placeholder.className = \'d-next-placeholder\';\r\n                placeholder.innerHTML = `松开鼠标模块会被放置到这里`;\r\n                this.setState({\r\n                    nextPlaceholder: placeholder,\r\n                }, () => {\r\n                    insertAfter(placeholder, moduleRef);\r\n                    window.resizeIframe();\r\n                    // 刷新本模块之后所有模块的top值 \r\n                    // TODO 有性能问题，暂时屏蔽\r\n                    // allModuleTopChange(moduleData.moduleId, placeholder.clientHeight);\r\n                });\r\n                function insertAfter(newEl, targetEl) {\r\n                    let parentEl = targetEl.parentNode;\r\n                    if (parentEl === null) {\r\n                        return;\r\n                    }\r\n                    if (parentEl.lastChild === targetEl) {\r\n                        parentEl.appendChild(newEl);\r\n                    }\r\n                    else {\r\n                        parentEl.insertBefore(newEl, targetEl.nextSibling);\r\n                    }\r\n                }\r\n            }\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        };\r\n        this.dragLeave = (e) => {\r\n            const { moduleData, nextPlaceholder } = this.state;\r\n            const { allModuleTopChange } = this.props;\r\n            let topChange = 0;\r\n            if (nextPlaceholder !== undefined) {\r\n                topChange = -nextPlaceholder.clientHeight;\r\n            }\r\n            // 本模块之后所有模块的top值还原\r\n            // TODO 有性能问题，暂时屏蔽\r\n            // allModuleTopChange(moduleData.moduleId, topChange);\r\n            this.clearNextPlaceholder();\r\n            e.stopPropagation();\r\n        };\r\n        /**\r\n         * 清除dragover时生成的占位元素\r\n         */\r\n        this.clearNextPlaceholder = () => {\r\n            const { nextPlaceholder } = this.state;\r\n            if (nextPlaceholder) {\r\n                nextPlaceholder.remove();\r\n            }\r\n            window.resizeIframe();\r\n            this.setState({\r\n                nextPlaceholder: undefined,\r\n            });\r\n        };\r\n        this.drop = (e) => __awaiter(this, void 0, void 0, function* () {\r\n            const { pageId } = this.context.BASE_DATA;\r\n            const moduleTypeId = Number.parseInt(e.dataTransfer.getData(\'moduleTypeId\'), 10);\r\n            const { addModuleRequest } = this.props;\r\n            const preModuleId = this.state.moduleData.moduleId;\r\n            addModuleRequest({\r\n                preModuleId: preModuleId,\r\n                moduleTypeId,\r\n                pageId,\r\n            });\r\n            this.clearNextPlaceholder();\r\n            e.stopPropagation();\r\n        });\r\n        this.state = {\r\n            moduleData: props.moduleData,\r\n        };\r\n    }\r\n    render() {\r\n        const { moduleData, moduleData: { tempData, moduleId, }, moduleConfig: { isVisible: isConfigVisible, }, showConfig, focusModule } = this.props;\r\n        let isActive = false;\r\n        if (tempData) {\r\n            isActive = tempData.isActive;\r\n        }\r\n        return (react_default.a.createElement("div", { className: `J_moduleWrap d-module-wrap ${isActive ? \'active\' : \'\'}`, onClick: (e) => { showConfig(moduleData); if (!isActive) {\r\n                focusModule(moduleId);\r\n            } }, onDragOver: this.dragOver, onDragLeave: this.dragLeave, onDrop: this.drop, draggable: false }));\r\n    }\r\n}\r\nModuleWrap_ModuleWrap.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        module: state.module,\r\n        moduleConfig: state.moduleConfig,\r\n    };\r\n};\r\n/* harmony default export */ var component_ModuleWrap_ModuleWrap = (Object(es["b" /* connect */])(mapStateToProps, {\r\n    showConfig: actions["y" /* showConfig */],\r\n    focusModule: actions["r" /* focusModule */],\r\n    addModuleRequest: actions["n" /* addModuleRequest */],\r\n    allModuleTopChange: actions["o" /* allModuleTopChange */],\r\n})(ModuleWrap_ModuleWrap));\r\n\n// CONCATENATED MODULE: ./src/component/ModuleWrap/index.ts\n\r\n/* harmony default export */ var component_ModuleWrap = (component_ModuleWrap_ModuleWrap);\r\n\n// CONCATENATED MODULE: ./src/component/Module/Module.tsx\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Placeholder = {\r\n    2: \'http://naeditor-image.oss-cn-shenzhen.aliyuncs.com/rq.jpg\',\r\n};\r\nclass Module_Module extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.moduleRef = react_default.a.createRef();\r\n        const { moduleData } = props;\r\n        if (moduleData.tempData === undefined) {\r\n            moduleData.tempData = {\r\n                isActive: false,\r\n                top: 0,\r\n                height: 0,\r\n            };\r\n        }\r\n        this.state = {\r\n            moduleData: props.moduleData,\r\n        };\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        const { moduleData } = nextProps;\r\n        this.setState({\r\n            moduleData,\r\n        });\r\n        // 模块聚焦后需要滚动到视窗内\r\n        if (moduleData.tempData.isActive === true) {\r\n            this.scrollIntoView();\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.reatChange();\r\n        setTimeout(() => {\r\n            this.reatChange();\r\n        }, 1000);\r\n    }\r\n    componentDidUpdate() {\r\n        this.reatChange();\r\n    }\r\n    reatChange() {\r\n        const { moduleTopChange, moduleHeightChange } = this.props;\r\n        const { moduleData } = this.state;\r\n        const clientRect = this.moduleRef.getBoundingClientRect();\r\n        const { height, top } = clientRect;\r\n        if (!moduleData.tempData || top !== moduleData.tempData.top) {\r\n            moduleTopChange(moduleData.moduleId, top);\r\n            if (moduleData.tempData.isActive === true) {\r\n                this.scrollIntoView();\r\n            }\r\n        }\r\n        if (!moduleData.tempData || height !== moduleData.tempData.height) {\r\n            moduleHeightChange(moduleData.moduleId, height);\r\n        }\r\n    }\r\n    scrollIntoView() {\r\n        debounce_default()(() => {\r\n            const clientRect = this.moduleRef.getBoundingClientRect();\r\n            const { top } = clientRect;\r\n            const container = document.querySelector(\'.J_editorInstanceArea\');\r\n            // 判断是否在当前屏幕内\r\n            const intersectionObserver = new IntersectionObserver((entries) => {\r\n                const ratio = entries[0].intersectionRatio;\r\n                if (ratio < 1 && container) {\r\n                    // jq动画，待优化\r\n                    jquery_default()(container).animate({\r\n                        scrollTop: top - 50,\r\n                    }, {\r\n                        easing: \'swing\',\r\n                    });\r\n                }\r\n                this.moduleRef && intersectionObserver.unobserve(this.moduleRef);\r\n            });\r\n            intersectionObserver.observe(this.moduleRef);\r\n        }, 0)();\r\n    }\r\n    render() {\r\n        const { moduleData, moduleData: { tempData: { isActive, }, moduleTypeId, configData, } } = this.state;\r\n        const isDecorate = this.context.BASE_DATA.pageType === 0;\r\n        let moduleStyle = {};\r\n        let isEmpty = false;\r\n        if (isDecorate) {\r\n            isEmpty = JSON.stringify(configData) === \'{}\';\r\n            moduleStyle = Object.assign({ minHeight: \'50px\' });\r\n            if (isEmpty) {\r\n                moduleStyle = Object.assign({}, moduleStyle, {\r\n                    backgroundImage: "url(" + Placeholder[2] + ")",\r\n                    height: \'180px\',\r\n                });\r\n            }\r\n        }\r\n        return (react_default.a.createElement("div", { className: `J_module d-module ${isActive ? \'active\' : \'\'}`, "data-module-type-id": moduleTypeId, ref: ref => this.moduleRef = ref, style: moduleStyle },\r\n            !isEmpty && this.props.children,\r\n            isDecorate && react_default.a.createElement(component_ModuleWrap, { moduleData: moduleData, moduleRef: this.moduleRef })));\r\n    }\r\n}\r\nModule_Module.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\nconst Module_mapStateToProps = (state) => {\r\n    return { module: state.module }; // TODO dispatch临时丢在这里\r\n};\r\nconst dispatchProps = {\r\n    moduleTopChange: actions["u" /* moduleTopChange */],\r\n    moduleHeightChange: actions["t" /* moduleHeightChange */],\r\n};\r\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\r\n    return Object.assign({}, stateProps, dispatchProps, ownProps);\r\n};\r\n/* harmony default export */ var component_Module_Module = (Object(es["b" /* connect */])(Module_mapStateToProps, dispatchProps, mergeProps, { withRef: true })(Module_Module));\r\n\n// CONCATENATED MODULE: ./src/component/Module/index.ts\n\r\n/* harmony default export */ var component_Module = (component_Module_Module);\r\n\n// EXTERNAL MODULE: ./node_modules/html-escaper/html.js\nvar html = __webpack_require__(45);\n\n// CONCATENATED MODULE: ./src/component/UserDefine/UserDefine.tsx\n\r\n\r\n\r\n\r\n\r\nclass UserDefine_UserDefine extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            code: props.moduleData.data.code,\r\n            isActive: props.moduleData.tempData && props.moduleData.tempData.isActive,\r\n        };\r\n    }\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if (this.context.BASE_DATA.pageType === 0) {\r\n            const isActive = nextProps.moduleData.tempData && nextProps.moduleData.tempData.isActive;\r\n            if (this.state.code === nextProps.moduleData.data.code &&\r\n                isActive === this.state.isActive) {\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        this.setState({\r\n            code: nextProps.moduleData.data.code,\r\n        });\r\n    }\r\n    /**\r\n     * 执行用户代码片段\r\n     */\r\n    excuteCode() {\r\n        const { code } = this.state;\r\n        const el = this.refs.module;\r\n        if (code === undefined) {\r\n            return;\r\n        }\r\n        let renderCode = Object(html["unescape"])(code);\r\n        !code && (renderCode = ``);\r\n        jquery_default()(el).html(renderCode);\r\n    }\r\n    componentDidMount() {\r\n        this.excuteCode();\r\n    }\r\n    componentDidUpdate() {\r\n        this.excuteCode();\r\n    }\r\n    /**\r\n     *\r\n     */\r\n    render() {\r\n        const { code } = this.state;\r\n        return (react_default.a.createElement(component_Module, { moduleData: this.props.moduleData },\r\n            react_default.a.createElement("div", { ref: "module" })));\r\n    }\r\n}\r\nUserDefine_UserDefine.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\n\n// CONCATENATED MODULE: ./src/component/UserDefine/index.ts\n\r\n/* harmony default export */ var component_UserDefine = (UserDefine_UserDefine);\r\n\n// CONCATENATED MODULE: ./src/component/ImageHotspot/ImageHotspot.tsx\n\r\n\r\n\r\nclass ImageHotspot_ImageHotspot extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.renderImgs = (imgs) => {\r\n            return (react_default.a.createElement("div", { className: "d-img-wrap" }, imgs.map((v, i) => (react_default.a.createElement("img", { key: i, src: v.url })))));\r\n        };\r\n        this.renderHotspots = (Hotspot) => {\r\n            const Rate = 1;\r\n            const isDecorate = this.context.BASE_DATA.pageType === 0;\r\n            return (react_default.a.createElement("div", { className: "d-hotspot-wrap" }, Hotspot && Hotspot.map((v, i) => {\r\n                const { area } = v;\r\n                if (area === undefined) {\r\n                    return null;\r\n                }\r\n                const { x, y, w, h } = area;\r\n                const top = `${(y || 0) * Rate}px`;\r\n                const left = `${(x || 0) * Rate}px`;\r\n                const width = `${(w || 0) * Rate}px`;\r\n                const height = `${(h || 0) * Rate}px`;\r\n                return (react_default.a.createElement("a", { style: { top, left, width, height }, key: i, href: v.url }, isDecorate && react_default.a.createElement("span", null,\r\n                    "\\u70ED\\u533A",\r\n                    i + 1)));\r\n            })));\r\n        };\r\n        const { imgs } = props.moduleData.data;\r\n        this.state = {\r\n            imgs,\r\n        };\r\n    }\r\n    render() {\r\n        let { moduleData, moduleData: { data: { imgs, hotspots, }, }, } = this.props;\r\n        if (imgs === undefined) {\r\n            imgs = [];\r\n        }\r\n        return (react_default.a.createElement(component_Module, { moduleData: moduleData },\r\n            this.renderImgs(imgs),\r\n            this.renderHotspots(hotspots)));\r\n    }\r\n}\r\nImageHotspot_ImageHotspot.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\n\n// CONCATENATED MODULE: ./src/component/ImageHotspot/index.ts\n\r\n/* harmony default export */ var component_ImageHotspot = (ImageHotspot_ImageHotspot);\r\n\n// CONCATENATED MODULE: ./src/component/Text/Text.tsx\n\r\n\r\nclass Text_Text extends react["Component"] {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        const { moduleData } = this.props;\r\n        const { text, fontWeight, fontSize } = moduleData.data;\r\n        return (react_default.a.createElement(component_Module, { moduleData: moduleData },\r\n            react_default.a.createElement("p", { style: { fontWeight, fontSize } }, text)));\r\n    }\r\n}\r\n/* harmony default export */ var component_Text_Text = (Text_Text);\r\n\n// CONCATENATED MODULE: ./src/component/Text/index.ts\n\r\n/* harmony default export */ var component_Text = (component_Text_Text);\r\n\n// EXTERNAL MODULE: ./node_modules/react-slick/lib/index.js\nvar lib = __webpack_require__(66);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// CONCATENATED MODULE: ./src/component/Carousel/Carousel.tsx\n\r\n/// <reference path="../OuterComponent.d.ts" />\r\n\r\n\r\nclass Carousel_Carousel extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.renderSlider = (imgs) => {\r\n            const settings = {\r\n                dots: true,\r\n                infinite: true,\r\n                speed: 500,\r\n                slidesToShow: 1,\r\n                slidesToScroll: 1,\r\n                autoplay: true,\r\n                autoplaySpeed: 800,\r\n            };\r\n            return (react_default.a.createElement(lib_default.a, Object.assign({}, settings), imgs.map((v, i) => (react_default.a.createElement("div", { key: i },\r\n                react_default.a.createElement("img", { src: v.url }))))));\r\n        };\r\n    }\r\n    render() {\r\n        let { moduleData, moduleData: { data: { imgs, }, }, } = this.props;\r\n        if (imgs === undefined) {\r\n            imgs = [];\r\n        }\r\n        return (react_default.a.createElement(component_Module, { moduleData: moduleData }, this.renderSlider(imgs)));\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/component/Carousel/index.ts\n\r\n/* harmony default export */ var component_Carousel = (Carousel_Carousel);\r\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(10);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/icon/index.js\nvar icon = __webpack_require__(23);\n\n// CONCATENATED MODULE: ./src/component/Layer/Layer.tsx\n\r\n\r\n\r\n\r\n\r\nclass Layer_Layer extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.rootEl = undefined;\r\n        this.onClose = () => {\r\n            this.closeModal();\r\n        };\r\n        this.closeModal = () => {\r\n            this.rootEl && this.rootEl.remove();\r\n        };\r\n        this.preventScroll = (e) => {\r\n            e.preventDefault();\r\n            e.cancelable = true;\r\n        };\r\n        this.renderChild = () => {\r\n            let { moduleData: { data: { imgUrl, hotspots, }, }, } = this.props;\r\n            if (!imgUrl) {\r\n                return null;\r\n            }\r\n            return (react_default.a.createElement(react_default.a.Fragment, null,\r\n                react_default.a.createElement("div", { className: "d-img" },\r\n                    react_default.a.createElement("img", { src: imgUrl }),\r\n                    react_default.a.createElement("div", { className: "d-close", onClick: this.onClose },\r\n                        react_default.a.createElement(icon["a" /* default */], { type: "close" })),\r\n                    react_default.a.createElement("div", { className: "d-hotspots-wrap" }, hotspots && hotspots.map((v) => {\r\n                        react_default.a.createElement("a", { href: v.url });\r\n                    }))),\r\n                react_default.a.createElement("div", { className: "d-mask", onClick: this.onClose, onTouchMove: this.preventScroll })));\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.rootEl = document.createElement(\'div\');\r\n        this.rootEl.classList.add(\'d-layer\');\r\n        if (this.context.BASE_DATA.pageType !== 0) {\r\n            document.body.appendChild(this.rootEl);\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        this.closeModal();\r\n    }\r\n    render() {\r\n        const { moduleData } = this.props;\r\n        const { pageType } = this.context.BASE_DATA;\r\n        // 装修时的展示\r\n        if (pageType === 0) {\r\n            return (react_default.a.createElement(component_Module, { moduleData: moduleData },\r\n                react_default.a.createElement("span", { className: "d-hint" }, "\\u6D6E\\u5C42\\u6A21\\u5757\\u6548\\u679C\\u8BF7\\u5728\\u9884\\u89C8\\u9875\\u4E2D\\u67E5\\u770B")));\r\n        }\r\n        else {\r\n            return this.rootEl ? react_dom_default.a.createPortal(this.renderChild(), this.rootEl) : null;\r\n        }\r\n    }\r\n}\r\nLayer_Layer.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\n\n// CONCATENATED MODULE: ./src/component/Layer/index.ts\n\r\n/* harmony default export */ var component_Layer = (Layer_Layer);\r\n\n// CONCATENATED MODULE: ./src/component/Fixed/Fixed.tsx\n\r\n\r\n\r\n\r\nclass Fixed_Fixed extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.rootEl = undefined;\r\n        this.onClose = () => {\r\n            this.rootEl && this.rootEl.remove();\r\n        };\r\n        this.renderChild = () => {\r\n            let { moduleData: { data: { imgUrl, hotspots, vertical, verticalDir, verticalUnit, horizontal, horizontalDir, horizontalUnit, width, widthUnit, }, }, } = this.props;\r\n            verticalUnit === undefined && (verticalUnit = \'%\');\r\n            horizontalUnit === undefined && (horizontalUnit = \'%\');\r\n            let left, right, top, bottom;\r\n            if (verticalDir === \'top\') {\r\n                top = `${vertical}${verticalUnit}`;\r\n            }\r\n            else {\r\n                verticalDir = verticalDir;\r\n                verticalUnit = verticalUnit;\r\n                bottom = `${vertical}${verticalUnit}`;\r\n            }\r\n            if (horizontalDir === \'left\') {\r\n                left = `${horizontal}${horizontalUnit}`;\r\n            }\r\n            else {\r\n                horizontal = horizontal;\r\n                horizontalUnit = horizontalUnit;\r\n                right = `${horizontal}${horizontalUnit}`;\r\n            }\r\n            return (react_default.a.createElement("div", { className: "d-fixed", style: {\r\n                    left,\r\n                    right,\r\n                    top,\r\n                    bottom,\r\n                    width: `${width ? `${width}${widthUnit}` : \'auto\'}`\r\n                } },\r\n                react_default.a.createElement("div", { className: "d-img" },\r\n                    react_default.a.createElement("img", { src: imgUrl }),\r\n                    react_default.a.createElement("div", { className: "d-hotspots-wrap" }, hotspots && hotspots.map((v) => {\r\n                        react_default.a.createElement("a", { href: v.url });\r\n                    })))));\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.rootEl = document.createElement(\'div\');\r\n        if (this.context.BASE_DATA.pageType !== 0) {\r\n            document.body.appendChild(this.rootEl);\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        this.rootEl && this.rootEl.remove();\r\n    }\r\n    render() {\r\n        const { moduleData } = this.props;\r\n        const isDecorate = this.context.BASE_DATA.pageType === 0;\r\n        // 装修时的展示\r\n        if (isDecorate) {\r\n            return (react_default.a.createElement(component_Module, { moduleData: moduleData },\r\n                react_default.a.createElement("span", { className: "d-hint" }, "\\u5B9A\\u4F4D\\u6A21\\u5757\\u6548\\u679C\\u8BF7\\u5728\\u9884\\u89C8\\u9875\\u4E2D\\u67E5\\u770B")));\r\n        }\r\n        else {\r\n            if (this.rootEl !== undefined) {\r\n                return react_dom_default.a.createPortal(this.renderChild(), this.rootEl);\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n}\r\nFixed_Fixed.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\n\n// EXTERNAL MODULE: ./src/component/Fixed/Fixed.scss\nvar component_Fixed_Fixed = __webpack_require__(42);\n\n// CONCATENATED MODULE: ./src/component/Fixed/index.ts\n\r\n\r\n/* harmony default export */ var component_Fixed = (Fixed_Fixed);\r\n\n// CONCATENATED MODULE: ./src/component/Canvas/Canvas.tsx\nvar Canvas_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Canvas_Canvas extends react_default.a.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.dragOver = (e) => {\r\n            const { nextPlaceholder } = this.state;\r\n            if (nextPlaceholder === undefined) {\r\n                const placeholder = document.createElement(\'div\');\r\n                placeholder.className = \'d-next-placeholder\';\r\n                placeholder.innerHTML = `松开鼠标模块会被放置到这里`;\r\n                this.setState({\r\n                    nextPlaceholder: placeholder,\r\n                }, () => {\r\n                    this.root && this.root.appendChild(placeholder);\r\n                    window.resizeIframe();\r\n                });\r\n            }\r\n            e.preventDefault();\r\n        };\r\n        this.dragLeave = () => {\r\n            this.clearNextPlaceholder();\r\n        };\r\n        /**\r\n         * 清除dragover时生成的占位元素\r\n         */\r\n        this.clearNextPlaceholder = () => {\r\n            const { nextPlaceholder } = this.state;\r\n            if (nextPlaceholder) {\r\n                nextPlaceholder.remove();\r\n            }\r\n            window.resizeIframe();\r\n            this.setState({\r\n                nextPlaceholder: undefined,\r\n            });\r\n        };\r\n        this.drop = (e) => Canvas_awaiter(this, void 0, void 0, function* () {\r\n            const { pageId } = this.context.BASE_DATA;\r\n            const moduleTypeId = Number.parseInt(e.dataTransfer.getData(\'moduleTypeId\'), 10);\r\n            const { addModuleRequest } = this.props;\r\n            addModuleRequest({\r\n                moduleTypeId,\r\n                pageId,\r\n            });\r\n            this.clearNextPlaceholder();\r\n        });\r\n        this.renderPlaceholder = () => {\r\n            return (react_default.a.createElement("div", { className: "d-empty-placeholder" },\r\n                react_default.a.createElement("img", { src: "//gw.alicdn.com/tfs/TB1Sm8ARXXXXXciaXXXXXXXXXXX-254-212.png_290x10000.jpg" }),\r\n                react_default.a.createElement("p", null, "\\u60A8\\u8FD8\\u672A\\u6DFB\\u52A0\\u4EFB\\u4F55\\u6A21\\u5757"),\r\n                react_default.a.createElement("p", null, "\\u8BF7\\u5C06\\u5DE6\\u4FA7\\u6A21\\u5757\\u62D6\\u52A8\\u5230\\u8FD9\\u91CC")));\r\n        };\r\n        this.state = {\r\n            nextPlaceholder: undefined,\r\n            isLoading: true,\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        // 初始化模块\r\n        this.props.fetchModuleList(this.context.BASE_DATA.pageId.toString());\r\n        // 开启loading\r\n        if (this.context.BASE_DATA.pageType === 0) { // type为0为装修\r\n            setTimeout(() => {\r\n                window.resizeIframe();\r\n            }, 1000);\r\n        }\r\n    }\r\n    componentWillReceiveProps(props) {\r\n        this.setState({\r\n            isLoading: false,\r\n        });\r\n    }\r\n    /**\r\n     * 画布更新\r\n     */\r\n    componentDidUpdate() {\r\n        if (this.context.BASE_DATA.pageType === 0) { // type为0为装修\r\n            window.resizeIframe();\r\n        }\r\n    }\r\n    render() {\r\n        const moduleList = this.props.moduleList;\r\n        const isDecorate = this.context.BASE_DATA.pageType === 0;\r\n        const { isLoading } = this.state;\r\n        function getModuleList(moduleList) {\r\n            if (!moduleList) {\r\n                return null;\r\n            }\r\n            return moduleList.map((v, i) => {\r\n                const { moduleTypeId } = v;\r\n                switch (moduleTypeId) {\r\n                    case 1:\r\n                        return react_default.a.createElement(component_UserDefine, { key: v.moduleId, moduleData: v });\r\n                    case 2:\r\n                        return react_default.a.createElement(component_ImageHotspot, { key: v.moduleId, moduleData: v });\r\n                    case 3:\r\n                        return react_default.a.createElement(component_Text, { key: v.moduleId, moduleData: v });\r\n                    case 4:\r\n                        return react_default.a.createElement(component_Carousel, { key: v.moduleId, moduleData: v });\r\n                    case 5:\r\n                        return react_default.a.createElement(component_Layer, { key: v.moduleId, moduleData: v });\r\n                    case 6:\r\n                        return react_default.a.createElement(component_Fixed, { key: v.moduleId, moduleData: v });\r\n                    default:\r\n                        return null;\r\n                }\r\n            });\r\n        }\r\n        return (react_default.a.createElement("div", { className: "d-module-list", onDragOver: this.dragOver, onDragLeave: this.dragLeave, onDrop: (e) => { this.drop(e); }, ref: (root) => { this.root = root; } },\r\n            this.context.BASE_DATA.pageType === 0\r\n                && react_default.a.createElement("div", { className: "d-header", onDragOver: (e) => { e.stopPropagation(); }, onDragLeave: (e) => { e.stopPropagation(); }, onDrag: (e) => { e.stopPropagation(); } }),\r\n            isLoading &&\r\n                react_default.a.createElement("div", { className: "d-loading" },\r\n                    react_default.a.createElement(react_loading_default.a, { type: "spinningBubbles", color: \'#1890ff\' })),\r\n            isDecorate && (!moduleList || moduleList.length === 0) && this.renderPlaceholder(),\r\n            getModuleList(moduleList)));\r\n    }\r\n}\r\nCanvas_Canvas.contextTypes = {\r\n    BASE_DATA: prop_types_default.a.object\r\n};\r\nconst Canvas_mapStateToProps = (state) => {\r\n    return { moduleList: state.module.moduleList, };\r\n};\r\n/* harmony default export */ var component_Canvas_Canvas = (Object(es["b" /* connect */])(Canvas_mapStateToProps, {\r\n    fetchModuleList: actions["q" /* fetchModuleList */],\r\n    focusModule: actions["r" /* focusModule */],\r\n    addModuleRequest: actions["n" /* addModuleRequest */],\r\n})(Canvas_Canvas));\r\n\n// CONCATENATED MODULE: ./src/component/Canvas/index.ts\n\r\n/* harmony default export */ var component_Canvas = __webpack_exports__["a"] = (component_Canvas_Canvas);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9Nb2R1bGVXcmFwL01vZHVsZVdyYXAudHN4Pzg4ZGIiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvTW9kdWxlV3JhcC9pbmRleC50cz8yNDliIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L01vZHVsZS9Nb2R1bGUudHN4PzA5ZDQiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvTW9kdWxlL2luZGV4LnRzPzAwOTQiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvVXNlckRlZmluZS9Vc2VyRGVmaW5lLnRzeD85NzNjIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L1VzZXJEZWZpbmUvaW5kZXgudHM/YjA5MSIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9JbWFnZUhvdHNwb3QvSW1hZ2VIb3RzcG90LnRzeD8xNzY5Iiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L0ltYWdlSG90c3BvdC9pbmRleC50cz84OWQ1Iiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L1RleHQvVGV4dC50c3g/MGQ3ZSIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9UZXh0L2luZGV4LnRzP2VkMmUiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvQ2Fyb3VzZWwvQ2Fyb3VzZWwudHN4PzdkMDYiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvQ2Fyb3VzZWwvaW5kZXgudHM/ODNkNCIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9MYXllci9MYXllci50c3g/NWJhOSIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9MYXllci9pbmRleC50cz9kN2RkIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L0ZpeGVkL0ZpeGVkLnRzeD84MjljIiwid2VicGFjazovLy9zcmMvY29tcG9uZW50L0ZpeGVkL2luZGV4LnRzPzY5MDUiLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnQvQ2FudmFzL0NhbnZhcy50c3g/Y2FlNiIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudC9DYW52YXMvaW5kZXgudHM/OGQ2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuaW1wb3J0IHsgc2hvd0NvbmZpZywgZm9jdXNNb2R1bGUsIGFkZE1vZHVsZVJlcXVlc3QsIGFsbE1vZHVsZVRvcENoYW5nZSB9IGZyb20gJy4uLy4uL2FjdGlvbnMnO1xyXG5pbXBvcnQgeyBJTW9kdWxlRGF0YSwgSU1vZHVsZUNvbmZpZywgSVN0YXRlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuXHJcbmludGVyZmFjZSBNb2R1bGVXcmFwUHJvcHMge1xyXG4gICAgbW9kdWxlRGF0YTogSU1vZHVsZURhdGE7XHJcbiAgICBtb2R1bGVSZWY6IEhUTUxFbGVtZW50O1xyXG4gICAgYWRkTW9kdWxlUmVxdWVzdDogYW55O1xyXG4gICAgYWxsTW9kdWxlVG9wQ2hhbmdlOiBhbnk7XHJcbiAgICBtb2R1bGVDb25maWc6IElNb2R1bGVDb25maWc7XHJcbiAgICBzaG93Q29uZmlnOiBhbnk7XHJcbiAgICBmb2N1c01vZHVsZTogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTW9kdWxlV3JhcFN0YXRlIHtcclxuICAgIG1vZHVsZURhdGE6IElNb2R1bGVEYXRhO1xyXG4gICAgbmV4dFBsYWNlaG9sZGVyPzogSFRNTERpdkVsZW1lbnQ7XHJcbn1cclxuXHJcbmNsYXNzIE1vZHVsZVdyYXAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8TW9kdWxlV3JhcFByb3BzLCBNb2R1bGVXcmFwU3RhdGU+IHtcclxuXHJcbiAgICBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xyXG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBNb2R1bGVXcmFwUHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIG1vZHVsZURhdGE6IHByb3BzLm1vZHVsZURhdGEsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBkcmFnT3ZlciA9IChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCB7IG5leHRQbGFjZWhvbGRlciwgbW9kdWxlRGF0YSB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBjb25zdCB7IG1vZHVsZVJlZiwgYWxsTW9kdWxlVG9wQ2hhbmdlIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGlmIChuZXh0UGxhY2Vob2xkZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlci5jbGFzc05hbWUgPSAnZC1uZXh0LXBsYWNlaG9sZGVyJztcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gYOadvuW8gOm8oOagh+aooeWdl+S8muiiq+aUvue9ruWIsOi/memHjGA7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgbmV4dFBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcixcclxuICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaW5zZXJ0QWZ0ZXIocGxhY2Vob2xkZXIsIG1vZHVsZVJlZik7XHJcbiAgICAgICAgICAgICAgICAod2luZG93IGFzIGFueSkucmVzaXplSWZyYW1lKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g5Yi35paw5pys5qih5Z2X5LmL5ZCO5omA5pyJ5qih5Z2X55qEdG9w5YC8IFxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETyDmnInmgKfog73pl67popjvvIzmmoLml7blsY/olL1cclxuICAgICAgICAgICAgICAgIC8vIGFsbE1vZHVsZVRvcENoYW5nZShtb2R1bGVEYXRhLm1vZHVsZUlkLCBwbGFjZWhvbGRlci5jbGllbnRIZWlnaHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluc2VydEFmdGVyKG5ld0VsOiBIVE1MRWxlbWVudCwgdGFyZ2V0RWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50RWwgPSB0YXJnZXRFbC5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEVsID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEVsLmxhc3RDaGlsZCA9PT0gdGFyZ2V0RWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZChuZXdFbCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEVsLmluc2VydEJlZm9yZShuZXdFbCwgdGFyZ2V0RWwubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYWdMZWF2ZSA9IChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCB7IG1vZHVsZURhdGEsIG5leHRQbGFjZWhvbGRlciB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBjb25zdCB7IGFsbE1vZHVsZVRvcENoYW5nZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBsZXQgdG9wQ2hhbmdlID0gMDtcclxuICAgICAgICBpZiAobmV4dFBsYWNlaG9sZGVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdG9wQ2hhbmdlID0gLW5leHRQbGFjZWhvbGRlci5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOacrOaooeWdl+S5i+WQjuaJgOacieaooeWdl+eahHRvcOWAvOi/mOWOn1xyXG4gICAgICAgIC8vIFRPRE8g5pyJ5oCn6IO96Zeu6aKY77yM5pqC5pe25bGP6JS9XHJcbiAgICAgICAgLy8gYWxsTW9kdWxlVG9wQ2hhbmdlKG1vZHVsZURhdGEubW9kdWxlSWQsIHRvcENoYW5nZSk7XHJcbiAgICAgICAgdGhpcy5jbGVhck5leHRQbGFjZWhvbGRlcigpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmuIXpmaRkcmFnb3ZlcuaXtueUn+aIkOeahOWNoOS9jeWFg+e0oFxyXG4gICAgICovXHJcbiAgICBjbGVhck5leHRQbGFjZWhvbGRlciA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IG5leHRQbGFjZWhvbGRlciB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBpZiAobmV4dFBsYWNlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgIG5leHRQbGFjZWhvbGRlci5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLnJlc2l6ZUlmcmFtZSgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBuZXh0UGxhY2Vob2xkZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkcm9wID0gYXN5bmMgKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgcGFnZUlkIH0gPSB0aGlzLmNvbnRleHQuQkFTRV9EQVRBO1xyXG4gICAgICAgIGNvbnN0IG1vZHVsZVR5cGVJZCA9IE51bWJlci5wYXJzZUludChlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdtb2R1bGVUeXBlSWQnKSwgMTApO1xyXG4gICAgICAgIGNvbnN0IHsgYWRkTW9kdWxlUmVxdWVzdCB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCBwcmVNb2R1bGVJZCA9IHRoaXMuc3RhdGUubW9kdWxlRGF0YS5tb2R1bGVJZDtcclxuICAgICAgICBhZGRNb2R1bGVSZXF1ZXN0KHtcclxuICAgICAgICAgICAgcHJlTW9kdWxlSWQ6IHByZU1vZHVsZUlkLFxyXG4gICAgICAgICAgICBtb2R1bGVUeXBlSWQsXHJcbiAgICAgICAgICAgIHBhZ2VJZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNsZWFyTmV4dFBsYWNlaG9sZGVyKCk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBtb2R1bGVEYXRhLFxyXG4gICAgICAgICAgICBtb2R1bGVEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wRGF0YSxcclxuICAgICAgICAgICAgICAgIG1vZHVsZUlkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtb2R1bGVDb25maWc6IHtcclxuICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogaXNDb25maWdWaXNpYmxlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaG93Q29uZmlnLFxyXG4gICAgICAgICAgICBmb2N1c01vZHVsZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBsZXQgaXNBY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBpZiAodGVtcERhdGEpIHtcclxuICAgICAgICAgICAgaXNBY3RpdmUgPSB0ZW1wRGF0YS5pc0FjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YEpfbW9kdWxlV3JhcCBkLW1vZHVsZS13cmFwICR7aXNBY3RpdmUgPyAnYWN0aXZlJyA6ICcnfWB9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4geyBzaG93Q29uZmlnKG1vZHVsZURhdGEpOyBpZiAoIWlzQWN0aXZlKSB7IGZvY3VzTW9kdWxlKG1vZHVsZUlkKTsgfSB9fVxyXG4gICAgICAgICAgICAgICAgb25EcmFnT3Zlcj17dGhpcy5kcmFnT3Zlcn1cclxuICAgICAgICAgICAgICAgIG9uRHJhZ0xlYXZlPXt0aGlzLmRyYWdMZWF2ZX1cclxuICAgICAgICAgICAgICAgIG9uRHJvcD17dGhpcy5kcm9wfVxyXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBJU3RhdGUpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbW9kdWxlOiBzdGF0ZS5tb2R1bGUsXHJcbiAgICAgICAgbW9kdWxlQ29uZmlnOiBzdGF0ZS5tb2R1bGVDb25maWcsXHJcbiAgICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIHtcclxuICAgIHNob3dDb25maWcsXHJcbiAgICBmb2N1c01vZHVsZSxcclxuICAgIGFkZE1vZHVsZVJlcXVlc3QsXHJcbiAgICBhbGxNb2R1bGVUb3BDaGFuZ2UsXHJcbn0pKE1vZHVsZVdyYXApO1xyXG4iLCJpbXBvcnQgTW9kdWxlV3JhcCBmcm9tICcuL01vZHVsZVdyYXAnO1xuZXhwb3J0IGRlZmF1bHQgTW9kdWxlV3JhcDsiLCJpbXBvcnQgUmVhY3QsIHsgUmVmT2JqZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJztcclxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuXHJcbmltcG9ydCB7IG1vZHVsZVRvcENoYW5nZSwgbW9kdWxlSGVpZ2h0Q2hhbmdlIH0gZnJvbSAnLi4vLi4vYWN0aW9ucyc7XHJcbmltcG9ydCBNb2R1bGVXcmFwIGZyb20gJy4uL01vZHVsZVdyYXAnO1xyXG5pbXBvcnQgeyBJTW9kdWxlRGF0YSwgSVN0YXRlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuXHJcbmludGVyZmFjZSBNb2R1bGVQcm9wcyB7XHJcbiAgICBtb2R1bGVEYXRhOiBJTW9kdWxlRGF0YTtcclxuICAgIG1vZHVsZVRvcENoYW5nZTogYW55O1xyXG4gICAgbW9kdWxlSGVpZ2h0Q2hhbmdlOiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBNb2R1bGVTdGF0ZSB7XHJcbiAgICBtb2R1bGVEYXRhOiBJTW9kdWxlRGF0YTtcclxuICAgIGlzRW1wdHk/OiBib29sZWFuO1xyXG59XHJcblxyXG5jb25zdCBQbGFjZWhvbGRlciA9IHtcclxuICAgIDI6ICdodHRwOi8vbmFlZGl0b3ItaW1hZ2Uub3NzLWNuLXNoZW56aGVuLmFsaXl1bmNzLmNvbS9ycS5qcGcnLFxyXG4gICAgLy8gNDogJ2h0dHA6Ly9uYWVkaXRvci1pbWFnZS5vc3MtY24tc2hlbnpoZW4uYWxpeXVuY3MuY29tL2xidC5qcGcnLFxyXG59XHJcblxyXG5cclxuY2xhc3MgTW9kdWxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PE1vZHVsZVByb3BzLCBNb2R1bGVTdGF0ZT4ge1xyXG5cclxuICAgIHByaXZhdGUgbW9kdWxlUmVmOiBhbnkgPSBSZWFjdC5jcmVhdGVSZWYoKTtcclxuXHJcbiAgICBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xyXG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdFxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogTW9kdWxlUHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgY29uc3QgeyBtb2R1bGVEYXRhIH0gPSBwcm9wcztcclxuICAgICAgICBpZiAobW9kdWxlRGF0YS50ZW1wRGF0YSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZURhdGEudGVtcERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgbW9kdWxlRGF0YTogcHJvcHMubW9kdWxlRGF0YSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzOiBNb2R1bGVQcm9wcykge1xyXG4gICAgICAgIGNvbnN0IHsgbW9kdWxlRGF0YSB9ID0gbmV4dFByb3BzO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBtb2R1bGVEYXRhLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIOaooeWdl+iBmueEpuWQjumcgOimgea7muWKqOWIsOinhueql+WGhVxyXG4gICAgICAgIGlmIChtb2R1bGVEYXRhLnRlbXBEYXRhLmlzQWN0aXZlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5yZWF0Q2hhbmdlKCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVhdENoYW5nZSgpO1xyXG4gICAgICAgIH0sIDEwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLnJlYXRDaGFuZ2UoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWF0Q2hhbmdlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgbW9kdWxlVG9wQ2hhbmdlLCBtb2R1bGVIZWlnaHRDaGFuZ2UgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgeyBtb2R1bGVEYXRhIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGNvbnN0IGNsaWVudFJlY3QgPSB0aGlzLm1vZHVsZVJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCB7IGhlaWdodCwgdG9wIH0gPSBjbGllbnRSZWN0O1xyXG4gICAgICAgIGlmICghbW9kdWxlRGF0YS50ZW1wRGF0YSB8fCB0b3AgIT09IG1vZHVsZURhdGEudGVtcERhdGEudG9wKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZVRvcENoYW5nZShtb2R1bGVEYXRhLm1vZHVsZUlkLCB0b3ApO1xyXG4gICAgICAgICAgICBpZiAobW9kdWxlRGF0YS50ZW1wRGF0YS5pc0FjdGl2ZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbW9kdWxlRGF0YS50ZW1wRGF0YSB8fCBoZWlnaHQgIT09IG1vZHVsZURhdGEudGVtcERhdGEuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIG1vZHVsZUhlaWdodENoYW5nZShtb2R1bGVEYXRhLm1vZHVsZUlkLCBoZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzY3JvbGxJbnRvVmlldygpIHtcclxuICAgICAgICBkZWJvdW5jZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudFJlY3QgPSB0aGlzLm1vZHVsZVJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgY29uc3QgeyB0b3AgfSA9IGNsaWVudFJlY3Q7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5KX2VkaXRvckluc3RhbmNlQXJlYScpO1xyXG5cclxuICAgICAgICAgICAgLy8g5Yik5pat5piv5ZCm5Zyo5b2T5YmN5bGP5bmV5YaFXHJcbiAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdGlvbk9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByYXRpbyA9IGVudHJpZXNbMF0uaW50ZXJzZWN0aW9uUmF0aW87XHJcbiAgICAgICAgICAgICAgICBpZiAocmF0aW8gPCAxICYmIGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGpx5Yqo55S777yM5b6F5LyY5YyWXHJcbiAgICAgICAgICAgICAgICAgICAgJChjb250YWluZXIpLmFuaW1hdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogdG9wIC0gNTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ3N3aW5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2R1bGVSZWYgJiYgaW50ZXJzZWN0aW9uT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMubW9kdWxlUmVmKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMubW9kdWxlUmVmKTtcclxuICAgICAgICB9LCAwKSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIG1vZHVsZURhdGEsXHJcbiAgICAgICAgICAgIG1vZHVsZURhdGE6IHtcclxuICAgICAgICAgICAgICAgIHRlbXBEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmUsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbW9kdWxlVHlwZUlkLFxyXG4gICAgICAgICAgICAgICAgY29uZmlnRGF0YSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGNvbnN0IGlzRGVjb3JhdGUgPSB0aGlzLmNvbnRleHQuQkFTRV9EQVRBLnBhZ2VUeXBlID09PSAwO1xyXG4gICAgICAgIGxldCBtb2R1bGVTdHlsZSA9IHt9O1xyXG4gICAgICAgIGxldCBpc0VtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKGlzRGVjb3JhdGUpIHtcclxuICAgICAgICAgICAgaXNFbXB0eSA9IEpTT04uc3RyaW5naWZ5KGNvbmZpZ0RhdGEpID09PSAne30nO1xyXG4gICAgICAgICAgICBtb2R1bGVTdHlsZSA9IHsgLi4ueyBtaW5IZWlnaHQ6ICc1MHB4JyB9IH1cclxuICAgICAgICAgICAgaWYgKGlzRW1wdHkpIHtcclxuICAgICAgICAgICAgICAgIG1vZHVsZVN0eWxlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLm1vZHVsZVN0eWxlLCAuLi57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoXCIgKyBQbGFjZWhvbGRlclsyXSArIFwiKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxODBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgSl9tb2R1bGUgZC1tb2R1bGUgJHtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogJyd9YH1cclxuICAgICAgICAgICAgICAgIGRhdGEtbW9kdWxlLXR5cGUtaWQ9e21vZHVsZVR5cGVJZH1cclxuICAgICAgICAgICAgICAgIHJlZj17cmVmID0+IHRoaXMubW9kdWxlUmVmID0gcmVmfVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e21vZHVsZVN0eWxlfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7IWlzRW1wdHkgJiYgdGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgICAgIHtpc0RlY29yYXRlICYmIDxNb2R1bGVXcmFwXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlRGF0YT17bW9kdWxlRGF0YX1cclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVSZWY9e3RoaXMubW9kdWxlUmVmfVxyXG4gICAgICAgICAgICAgICAgLz59XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogSVN0YXRlKSA9PiB7XHJcbiAgICByZXR1cm4geyBtb2R1bGU6IHN0YXRlLm1vZHVsZSB9OyAgIC8vIFRPRE8gZGlzcGF0Y2jkuLTml7bkuKLlnKjov5nph4xcclxufTtcclxuXHJcbmNvbnN0IGRpc3BhdGNoUHJvcHMgPSB7XHJcbiAgICBtb2R1bGVUb3BDaGFuZ2UsXHJcbiAgICBtb2R1bGVIZWlnaHRDaGFuZ2UsXHJcbn07XHJcblxyXG5jb25zdCBtZXJnZVByb3BzOiBhbnkgPSAoc3RhdGVQcm9wczogYW55LCBkaXNwYXRjaFByb3BzOiBhbnksIG93blByb3BzOiBhbnkpID0+IHtcclxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBvd25Qcm9wcyk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgZGlzcGF0Y2hQcm9wcywgbWVyZ2VQcm9wcywgeyB3aXRoUmVmOiB0cnVlIH0pKE1vZHVsZSk7IiwiaW1wb3J0IE1vZHVsZSBmcm9tICcuL01vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IE1vZHVsZTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgTW9kdWxlIGZyb20gJy4uL01vZHVsZSc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IGVzY2FwZSwgdW5lc2NhcGUgfSBmcm9tICdodG1sLWVzY2FwZXInO1xyXG5cclxuaW1wb3J0IHsgSU1vZHVsZURhdGEgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5cclxuaW50ZXJmYWNlIFVzZXJEZWZpbmVQcm9wcyB7XHJcbiAgICBtb2R1bGVEYXRhOiBJTW9kdWxlRGF0YTtcclxufVxyXG5cclxuaW50ZXJmYWNlIFVzZXJEZWZpbmVTdGF0ZSB7XHJcbiAgICBjb2RlOiBzdHJpbmc7XHJcbiAgICBpc0FjdGl2ZTogYm9vbGVhbjtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJEZWZpbmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8VXNlckRlZmluZVByb3BzLCBVc2VyRGVmaW5lU3RhdGU+IHtcclxuXHJcbiAgICBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xyXG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBVc2VyRGVmaW5lUHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgY29kZTogcHJvcHMubW9kdWxlRGF0YS5kYXRhLmNvZGUsXHJcbiAgICAgICAgICAgIGlzQWN0aXZlOiBwcm9wcy5tb2R1bGVEYXRhLnRlbXBEYXRhICYmIHByb3BzLm1vZHVsZURhdGEudGVtcERhdGEuaXNBY3RpdmUsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHM6IFVzZXJEZWZpbmVQcm9wcywgbmV4dFN0YXRlOiBVc2VyRGVmaW5lU3RhdGUpIHtcclxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LkJBU0VfREFUQS5wYWdlVHlwZSA9PT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IG5leHRQcm9wcy5tb2R1bGVEYXRhLnRlbXBEYXRhICYmIG5leHRQcm9wcy5tb2R1bGVEYXRhLnRlbXBEYXRhLmlzQWN0aXZlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb2RlID09PSBuZXh0UHJvcHMubW9kdWxlRGF0YS5kYXRhLmNvZGUgJiZcclxuICAgICAgICAgICAgICAgIGlzQWN0aXZlID09PSB0aGlzLnN0YXRlLmlzQWN0aXZlXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHM6IFVzZXJEZWZpbmVQcm9wcykge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBjb2RlOiBuZXh0UHJvcHMubW9kdWxlRGF0YS5kYXRhLmNvZGUsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaJp+ihjOeUqOaIt+S7o+eggeeJh+autVxyXG4gICAgICovXHJcbiAgICBleGN1dGVDb2RlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY29kZSB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBjb25zdCBlbCA9IHRoaXMucmVmcy5tb2R1bGU7XHJcbiAgICAgICAgaWYgKGNvZGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByZW5kZXJDb2RlID0gdW5lc2NhcGUoY29kZSk7XHJcbiAgICAgICAgIWNvZGUgJiYgKHJlbmRlckNvZGUgPSBgYCk7XHJcbiAgICAgICAgJChlbCkuaHRtbChyZW5kZXJDb2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICB0aGlzLmV4Y3V0ZUNvZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5leGN1dGVDb2RlKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKi9cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjb2RlIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxNb2R1bGUgbW9kdWxlRGF0YT17dGhpcy5wcm9wcy5tb2R1bGVEYXRhfT5cclxuICAgICAgICAgICAgICAgIDxkaXYgcmVmPVwibW9kdWxlXCI+XHJcblxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvTW9kdWxlPlxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcblxyXG59IiwiXG5pbXBvcnQgVXNlckRlZmluZSBmcm9tICcuL1VzZXJEZWZpbmUnO1xuZXhwb3J0IGRlZmF1bHQgVXNlckRlZmluZTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IE1vZHVsZSBmcm9tICcuLi9Nb2R1bGUnO1xuaW1wb3J0IHsgSU1vZHVsZURhdGEsIEhvdHNwb3RJbmZvIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcbmltcG9ydCB7IEltYWdlSW5mbyB9IGZyb20gJy4uL0ltYWdlSG90c3BvdENvbmZpZy9pbnRlcmZhY2UnO1xuaW1wb3J0IEhvdHNwb3QgZnJvbSAnLi4vSG90c3BvdCc7XG5cbmludGVyZmFjZSBJbWFnZUhvdHNwb3RQcm9wcyB7XG4gICAgbW9kdWxlRGF0YTogSU1vZHVsZURhdGE7XG59XG5cbmludGVyZmFjZSBJbWFnZUhvdHNwb3RTdGF0ZSB7XG4gICAgaW1nczogSW1hZ2VJbmZvW107XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltYWdlSG90c3BvdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJbWFnZUhvdHNwb3RQcm9wcywgSW1hZ2VIb3RzcG90U3RhdGU+IHtcblxuICAgIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdFxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBJbWFnZUhvdHNwb3RQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIGNvbnN0IHsgaW1ncyB9ID0gcHJvcHMubW9kdWxlRGF0YS5kYXRhO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaW1ncyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZW5kZXJJbWdzID0gKGltZ3M6IEltYWdlSW5mb1tdKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtaW1nLXdyYXBcIj5cbiAgICAgICAgICAgICAgICB7aW1ncy5tYXAoKHYsIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGltZyBrZXk9e2l9IHNyYz17di51cmx9IC8+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZW5kZXJIb3RzcG90cyA9IChIb3RzcG90OiBIb3RzcG90SW5mb1tdKSA9PiB7XG4gICAgICAgIGNvbnN0IFJhdGUgPSAxO1xuICAgICAgICBjb25zdCBpc0RlY29yYXRlID0gdGhpcy5jb250ZXh0LkJBU0VfREFUQS5wYWdlVHlwZSA9PT0gMDtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1ob3RzcG90LXdyYXBcIj5cbiAgICAgICAgICAgICAgICB7SG90c3BvdCAmJiBIb3RzcG90Lm1hcCgodiwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGFyZWEgfSA9IHY7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmVhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgeCwgeSwgdywgaCB9ID0gYXJlYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9wID0gYCR7KHkgfHwgMCkgKiBSYXRlfXB4YDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVmdCA9IGAkeyh4IHx8IDApICogUmF0ZX1weGA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gYCR7KHcgfHwgMCkgKiBSYXRlfXB4YDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gYCR7KGggfHwgMCkgKiBSYXRlfXB4YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIHN0eWxlPXt7IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCB9fSBrZXk9e2l9IGhyZWY9e3YudXJsfSA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzRGVjb3JhdGUgJiYgPHNwYW4+54Ot5Yy6e2kgKyAxfTwvc3Bhbj59XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQge1xuICAgICAgICAgICAgbW9kdWxlRGF0YSxcbiAgICAgICAgICAgIG1vZHVsZURhdGE6IHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGltZ3MsXG4gICAgICAgICAgICAgICAgICAgIGhvdHNwb3RzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICBpZiAoaW1ncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpbWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxNb2R1bGUgbW9kdWxlRGF0YT17bW9kdWxlRGF0YX0+XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVySW1ncyhpbWdzKX1cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJIb3RzcG90cyhob3RzcG90cyl9XG4gICAgICAgICAgICA8LyBNb2R1bGU+XG4gICAgICAgICk7XG4gICAgfVxufSIsIlxuaW1wb3J0IEltYWdlSG90c3BvdCBmcm9tICcuL0ltYWdlSG90c3BvdCc7XG5leHBvcnQgZGVmYXVsdCBJbWFnZUhvdHNwb3Q7IiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNb2R1bGUgZnJvbSAnLi4vTW9kdWxlJztcblxuaW1wb3J0IHsgSU1vZHVsZURhdGEgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xuXG5pbnRlcmZhY2UgVGV4dFByb3BzIHtcbiAgICBtb2R1bGVEYXRhOiBJTW9kdWxlRGF0YTtcbn1cblxuY2xhc3MgVGV4dCBleHRlbmRzIENvbXBvbmVudDxUZXh0UHJvcHMsIHt9PiB7XG4gICAgY29uc3RydWN0b3IocHJvcHM6IFRleHRQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuXG4gICAgICAgIGNvbnN0IHsgbW9kdWxlRGF0YSB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgeyB0ZXh0LCBmb250V2VpZ2h0LCBmb250U2l6ZSB9ID0gbW9kdWxlRGF0YS5kYXRhO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPE1vZHVsZSBtb2R1bGVEYXRhPXttb2R1bGVEYXRhfT5cbiAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBmb250V2VpZ2h0LCBmb250U2l6ZSB9fT57dGV4dH08L3A+XG4gICAgICAgICAgICA8LyBNb2R1bGU+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0OyIsImltcG9ydCBUZXh0IGZyb20gJy4vVGV4dCc7XG5leHBvcnQgZGVmYXVsdCBUZXh0OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vT3V0ZXJDb21wb25lbnQuZC50c1wiIC8+XG5pbXBvcnQgU2xpZGVyIGZyb20gJ3JlYWN0LXNsaWNrJztcblxuaW1wb3J0IE1vZHVsZSBmcm9tICcuLi9Nb2R1bGUnO1xuaW1wb3J0IHsgSU1vZHVsZURhdGEsIEltYWdlSW5mbyB9IGZyb20gJy4uL2ludGVyZmFjZSc7XG5cbmludGVyZmFjZSBDYXJvdXNlbFByb3BzIHtcbiAgICBtb2R1bGVEYXRhOiBJTW9kdWxlRGF0YTtcbn1cblxuaW50ZXJmYWNlIENhcm91c2VsU3RhdGUge1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcm91c2VsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PENhcm91c2VsUHJvcHMsIENhcm91c2VsU3RhdGU+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogQ2Fyb3VzZWxQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgfVxuXG4gICAgcmVuZGVyU2xpZGVyID0gKGltZ3M6IEltYWdlSW5mb1tdKSA9PiB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0ge1xuICAgICAgICAgICAgZG90czogdHJ1ZSxcbiAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxuICAgICAgICAgICAgc3BlZWQ6IDUwMCxcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXG4gICAgICAgICAgICBhdXRvcGxheVNwZWVkOiA4MDAsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8U2xpZGVyIHsuLi5zZXR0aW5nc30+XG4gICAgICAgICAgICAgICAge2ltZ3MubWFwKCh2LCBpKSA9PiAoPGRpdiBrZXk9e2l9PjxpbWcgc3JjPXt2LnVybH0gLz48L2Rpdj4pKX1cbiAgICAgICAgICAgIDwvU2xpZGVyPlxuICAgICAgICApO1xuXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQge1xuICAgICAgICAgICAgbW9kdWxlRGF0YSxcbiAgICAgICAgICAgIG1vZHVsZURhdGE6IHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGltZ3MsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBpZiAoaW1ncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpbWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxNb2R1bGUgbW9kdWxlRGF0YT17bW9kdWxlRGF0YX0+XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyU2xpZGVyKGltZ3MpfVxuICAgICAgICAgICAgPC9Nb2R1bGUgPlxuICAgICAgICApO1xuICAgIH1cbn0iLCJpbXBvcnQgQ2Fyb3VzZWwgZnJvbSAnLi9DYXJvdXNlbCc7XG5leHBvcnQgZGVmYXVsdCBDYXJvdXNlbDsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcclxuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ2FudGQnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuaW1wb3J0IE1vZHVsZSBmcm9tICcuLi9Nb2R1bGUnO1xyXG5pbXBvcnQgeyBJTW9kdWxlRGF0YSwgSG90c3BvdEluZm8sIElDb250ZXh0IH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuXHJcblxyXG5pbnRlcmZhY2UgTGF5ZXJQcm9wcyB7XHJcbiAgICBtb2R1bGVEYXRhOiBJTW9kdWxlRGF0YTtcclxufVxyXG5cclxuaW50ZXJmYWNlIExheWVyU3RhdGUge1xyXG5cclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXllciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxMYXllclByb3BzLCBMYXllclN0YXRlPiB7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBMYXllclByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XHJcbiAgICAgICAgQkFTRV9EQVRBOiBQcm9wVHlwZXMub2JqZWN0XHJcbiAgICB9XHJcblxyXG4gICAgcm9vdEVsOiBIVE1MRGl2RWxlbWVudCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICB0aGlzLnJvb3RFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMucm9vdEVsLmNsYXNzTGlzdC5hZGQoJ2QtbGF5ZXInKTtcclxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LkJBU0VfREFUQS5wYWdlVHlwZSAhPT0gMCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucm9vdEVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25DbG9zZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmNsb3NlTW9kYWwoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZU1vZGFsID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucm9vdEVsICYmIHRoaXMucm9vdEVsLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZXZlbnRTY3JvbGwgPSAoZTogUmVhY3QuVG91Y2hFdmVudCkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLmNhbmNlbGFibGUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckNoaWxkID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBsZXQge1xyXG4gICAgICAgICAgICBtb2R1bGVEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1nVXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIGhvdHNwb3RzLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBpZiAoIWltZ1VybCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWltZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtpbWdVcmx9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkLWNsb3NlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsb3NlfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHR5cGU9XCJjbG9zZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWhvdHNwb3RzLXdyYXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2hvdHNwb3RzICYmIGhvdHNwb3RzLm1hcCgodjogSG90c3BvdEluZm8pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e3YudXJsfT48L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLW1hc2tcIiBvbkNsaWNrPXt0aGlzLm9uQ2xvc2V9IG9uVG91Y2hNb3ZlPXt0aGlzLnByZXZlbnRTY3JvbGx9PjwvZGl2PlxyXG4gICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBtb2R1bGVEYXRhIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IHsgcGFnZVR5cGUgfSA9IHRoaXMuY29udGV4dC5CQVNFX0RBVEE7XHJcblxyXG4gICAgICAgIC8vIOijheS/ruaXtueahOWxleekulxyXG4gICAgICAgIGlmIChwYWdlVHlwZSA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPE1vZHVsZSBtb2R1bGVEYXRhPXttb2R1bGVEYXRhfT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkLWhpbnRcIj7mta7lsYLmqKHlnZfmlYjmnpzor7flnKjpooTop4jpobXkuK3mn6XnnIs8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L01vZHVsZT5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb290RWwgPyBSZWFjdERPTS5jcmVhdGVQb3J0YWwoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNoaWxkKCksXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3RFbCxcclxuICAgICAgICAgICAgKSA6IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBMYXllciBmcm9tICcuL0xheWVyJztcbmV4cG9ydCBkZWZhdWx0IExheWVyOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnYW50ZCc7XHJcblxyXG5pbXBvcnQgTW9kdWxlIGZyb20gJy4uL01vZHVsZSc7XHJcbmltcG9ydCB7IElNb2R1bGVEYXRhLCBIb3RzcG90SW5mbywgSUNvbnRleHQgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgaXNTZXJ2ZXIgZnJvbSAnLi4vLi4vY29tbW9uL3NjcmlwdC9pc1NlcnZlcic7XHJcblxyXG5cclxuaW50ZXJmYWNlIEZpeGVkUHJvcHMge1xyXG4gICAgbW9kdWxlRGF0YTogSU1vZHVsZURhdGE7XHJcbn1cclxuXHJcbmludGVyZmFjZSBGaXhlZFN0YXRlIHtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpeGVkIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PEZpeGVkUHJvcHMsIEZpeGVkU3RhdGU+IHtcclxuXHJcblxyXG4gICAgc3RhdGljIGNvbnRleHRUeXBlcyA9IHtcclxuICAgICAgICBCQVNFX0RBVEE6IFByb3BUeXBlcy5vYmplY3RcclxuICAgIH1cclxuXHJcbiAgICByb290RWw6IEhUTUxEaXZFbGVtZW50IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBGaXhlZFByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHRoaXMucm9vdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5CQVNFX0RBVEEucGFnZVR5cGUgIT09IDApIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJvb3RFbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIHRoaXMucm9vdEVsICYmIHRoaXMucm9vdEVsLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5yb290RWwgJiYgdGhpcy5yb290RWwucmVtb3ZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyQ2hpbGQgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCB7XHJcbiAgICAgICAgICAgIG1vZHVsZURhdGE6IHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpbWdVcmwsXHJcbiAgICAgICAgICAgICAgICAgICAgaG90c3BvdHMsXHJcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxEaXIsXHJcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxVbml0LFxyXG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbERpcixcclxuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsVW5pdCxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aFVuaXQsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgICAgICB2ZXJ0aWNhbFVuaXQgPT09IHVuZGVmaW5lZCAmJiAodmVydGljYWxVbml0ID0gJyUnKTtcclxuICAgICAgICBob3Jpem9udGFsVW5pdCA9PT0gdW5kZWZpbmVkICYmIChob3Jpem9udGFsVW5pdCA9ICclJyk7XHJcblxyXG4gICAgICAgIGxldCBsZWZ0LCByaWdodCwgdG9wLCBib3R0b207XHJcblxyXG4gICAgICAgIGlmICh2ZXJ0aWNhbERpciA9PT0gJ3RvcCcpIHtcclxuICAgICAgICAgICAgdG9wID0gYCR7dmVydGljYWx9JHt2ZXJ0aWNhbFVuaXR9YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2ZXJ0aWNhbERpciA9IHZlcnRpY2FsRGlyO1xyXG4gICAgICAgICAgICB2ZXJ0aWNhbFVuaXQgPSB2ZXJ0aWNhbFVuaXQ7XHJcbiAgICAgICAgICAgIGJvdHRvbSA9IGAke3ZlcnRpY2FsfSR7dmVydGljYWxVbml0fWA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaG9yaXpvbnRhbERpciA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgIGxlZnQgPSBgJHtob3Jpem9udGFsfSR7aG9yaXpvbnRhbFVuaXR9YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBob3Jpem9udGFsID0gaG9yaXpvbnRhbDtcclxuICAgICAgICAgICAgaG9yaXpvbnRhbFVuaXQgPSBob3Jpem9udGFsVW5pdDtcclxuICAgICAgICAgICAgcmlnaHQgPSBgJHtob3Jpem9udGFsfSR7aG9yaXpvbnRhbFVuaXR9YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1maXhlZFwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbSxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogYCR7d2lkdGggPyBgJHt3aWR0aH0ke3dpZHRoVW5pdH1gIDogJ2F1dG8nfWBcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1pbWdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17aW1nVXJsfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1ob3RzcG90cy13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtob3RzcG90cyAmJiBob3RzcG90cy5tYXAoKHY6IEhvdHNwb3RJbmZvKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXt2LnVybH0+PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IG1vZHVsZURhdGEgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgaXNEZWNvcmF0ZSA9IHRoaXMuY29udGV4dC5CQVNFX0RBVEEucGFnZVR5cGUgPT09IDA7XHJcblxyXG4gICAgICAgIC8vIOijheS/ruaXtueahOWxleekulxyXG4gICAgICAgIGlmIChpc0RlY29yYXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8TW9kdWxlIG1vZHVsZURhdGE9e21vZHVsZURhdGF9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImQtaGludFwiPuWumuS9jeaooeWdl+aViOaenOivt+WcqOmihOiniOmhteS4reafpeecizwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvTW9kdWxlPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJvb3RFbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3RET00uY3JlYXRlUG9ydGFsKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2hpbGQoKSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3RFbCxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRml4ZWQgZnJvbSAnLi9GaXhlZCc7XG5pbXBvcnQgJy4vRml4ZWQuc2Nzcyc7XG5leHBvcnQgZGVmYXVsdCBGaXhlZDsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgUmVhY3RMb2FkaW5nIGZyb20gJ3JlYWN0LWxvYWRpbmcnO1xyXG5cclxuaW1wb3J0IHsgSU1vZHVsZURhdGEsIElTdGF0ZSwgSUJBU0VfREFUQSwgSUNvbnRleHQgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgVXNlckRlZmluZSBmcm9tICcuLi9Vc2VyRGVmaW5lJztcclxuaW1wb3J0IEltYWdlSG90c3BvdCBmcm9tICcuLi9JbWFnZUhvdHNwb3QnO1xyXG5pbXBvcnQgVGV4dCBmcm9tICcuLi9UZXh0JztcclxuaW1wb3J0IHsgZmV0Y2hNb2R1bGVMaXN0LCBmb2N1c01vZHVsZSwgYWRkTW9kdWxlUmVxdWVzdCB9IGZyb20gJy4uLy4uL2FjdGlvbnMnO1xyXG5pbXBvcnQgQ2Fyb3VzZWwgZnJvbSAnLi4vQ2Fyb3VzZWwnO1xyXG5pbXBvcnQgTGF5ZXIgZnJvbSAnLi4vTGF5ZXInO1xyXG5pbXBvcnQgRml4ZWQgZnJvbSAnLi4vRml4ZWQnO1xyXG5cclxuaW50ZXJmYWNlIElDYW52YXNQcm9wcyB7XHJcbiAgICBmZXRjaE1vZHVsZUxpc3Q6IChwYWdlSWQ6IG51bWJlcikgPT4gdm9pZDtcclxuICAgIG1vZHVsZUxpc3Q6IElNb2R1bGVEYXRhW107XHJcbiAgICBhZGRNb2R1bGVSZXF1ZXN0OiAoYXJnczogYW55KSA9PiB2b2lkO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSUNhbnZhc1N0YXRlIHtcclxuICAgIG5leHRQbGFjZWhvbGRlcj86IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgaXNMb2FkaW5nOiBib29sZWFuO1xyXG59XHJcblxyXG5jbGFzcyBDYW52YXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SUNhbnZhc1Byb3BzLCBJQ2FudmFzU3RhdGU+IHtcclxuXHJcbiAgICByb290PzogSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IElDYW52YXNQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBuZXh0UGxhY2Vob2xkZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgaXNMb2FkaW5nOiB0cnVlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xyXG4gICAgICAgIEJBU0VfREFUQTogUHJvcFR5cGVzLm9iamVjdFxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIC8vIOWIneWni+WMluaooeWdl1xyXG4gICAgICAgIHRoaXMucHJvcHMuZmV0Y2hNb2R1bGVMaXN0KHRoaXMuY29udGV4dC5CQVNFX0RBVEEucGFnZUlkLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAvLyDlvIDlkK9sb2FkaW5nXHJcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5CQVNFX0RBVEEucGFnZVR5cGUgPT09IDApIHsgLy8gdHlwZeS4ujDkuLroo4Xkv65cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAod2luZG93IGFzIGFueSkucmVzaXplSWZyYW1lKCk7XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzOiBJQ2FudmFzUHJvcHMpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOeUu+W4g+abtOaWsFxyXG4gICAgICovXHJcbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5CQVNFX0RBVEEucGFnZVR5cGUgPT09IDApIHsgLy8gdHlwZeS4ujDkuLroo4Xkv65cclxuICAgICAgICAgICAgKHdpbmRvdyBhcyBhbnkpLnJlc2l6ZUlmcmFtZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZHJhZ092ZXIgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBuZXh0UGxhY2Vob2xkZXIgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgaWYgKG5leHRQbGFjZWhvbGRlciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyLmNsYXNzTmFtZSA9ICdkLW5leHQtcGxhY2Vob2xkZXInO1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlci5pbm5lckhUTUwgPSBg5p2+5byA6byg5qCH5qih5Z2X5Lya6KKr5pS+572u5Yiw6L+Z6YeMYDtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBuZXh0UGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxyXG4gICAgICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QgJiYgdGhpcy5yb290LmFwcGVuZENoaWxkKHBsYWNlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgICh3aW5kb3cgYXMgYW55KS5yZXNpemVJZnJhbWUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZHJhZ0xlYXZlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2xlYXJOZXh0UGxhY2Vob2xkZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOa4hemZpGRyYWdvdmVy5pe255Sf5oiQ55qE5Y2g5L2N5YWD57SgXHJcbiAgICAgKi9cclxuICAgIGNsZWFyTmV4dFBsYWNlaG9sZGVyID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgbmV4dFBsYWNlaG9sZGVyIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGlmIChuZXh0UGxhY2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgbmV4dFBsYWNlaG9sZGVyLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAod2luZG93IGFzIGFueSkucmVzaXplSWZyYW1lKCk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIG5leHRQbGFjZWhvbGRlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGRyb3AgPSBhc3luYyAoZTogRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBwYWdlSWQgfSA9IHRoaXMuY29udGV4dC5CQVNFX0RBVEE7XHJcbiAgICAgICAgY29uc3QgbW9kdWxlVHlwZUlkID0gTnVtYmVyLnBhcnNlSW50KGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ21vZHVsZVR5cGVJZCcpLCAxMCk7XHJcbiAgICAgICAgY29uc3QgeyBhZGRNb2R1bGVSZXF1ZXN0IH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGFkZE1vZHVsZVJlcXVlc3Qoe1xyXG4gICAgICAgICAgICBtb2R1bGVUeXBlSWQsXHJcbiAgICAgICAgICAgIHBhZ2VJZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNsZWFyTmV4dFBsYWNlaG9sZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUGxhY2Vob2xkZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWVtcHR5LXBsYWNlaG9sZGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi8vZ3cuYWxpY2RuLmNvbS90ZnMvVEIxU204QVJYWFhYWGNpYVhYWFhYWFhYWFhYLTI1NC0yMTIucG5nXzI5MHgxMDAwMC5qcGdcIiAvPlxyXG4gICAgICAgICAgICAgICAgPHA+5oKo6L+Y5pyq5re75Yqg5Lu75L2V5qih5Z2XPC9wPlxyXG4gICAgICAgICAgICAgICAgPHA+6K+35bCG5bem5L6n5qih5Z2X5ouW5Yqo5Yiw6L+Z6YeMPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG5cclxuICAgICAgICBjb25zdCBtb2R1bGVMaXN0OiBJTW9kdWxlRGF0YVtdID0gdGhpcy5wcm9wcy5tb2R1bGVMaXN0O1xyXG4gICAgICAgIGNvbnN0IGlzRGVjb3JhdGUgPSB0aGlzLmNvbnRleHQuQkFTRV9EQVRBLnBhZ2VUeXBlID09PSAwO1xyXG4gICAgICAgIGNvbnN0IHsgaXNMb2FkaW5nIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldE1vZHVsZUxpc3QobW9kdWxlTGlzdDogSU1vZHVsZURhdGFbXSkge1xyXG5cclxuICAgICAgICAgICAgaWYgKCFtb2R1bGVMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZUxpc3QubWFwKCh2LCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IG1vZHVsZVR5cGVJZCB9ID0gdjtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAobW9kdWxlVHlwZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFVzZXJEZWZpbmUga2V5PXt2Lm1vZHVsZUlkfSBtb2R1bGVEYXRhPXt2fSAvPjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA8SW1hZ2VIb3RzcG90IGtleT17di5tb2R1bGVJZH0gbW9kdWxlRGF0YT17dn0gLz47XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFRleHQga2V5PXt2Lm1vZHVsZUlkfSBtb2R1bGVEYXRhPXt2fSAvPjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA8Q2Fyb3VzZWwga2V5PXt2Lm1vZHVsZUlkfSBtb2R1bGVEYXRhPXt2fSAvPjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA8TGF5ZXIga2V5PXt2Lm1vZHVsZUlkfSBtb2R1bGVEYXRhPXt2fSAvPjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA8Rml4ZWQga2V5PXt2Lm1vZHVsZUlkfSBtb2R1bGVEYXRhPXt2fSAvPjtcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1tb2R1bGUtbGlzdFwiXHJcbiAgICAgICAgICAgICAgICBvbkRyYWdPdmVyPXt0aGlzLmRyYWdPdmVyfVxyXG4gICAgICAgICAgICAgICAgb25EcmFnTGVhdmU9e3RoaXMuZHJhZ0xlYXZlfVxyXG4gICAgICAgICAgICAgICAgb25Ecm9wPXsoZTogYW55KSA9PiB7IHRoaXMuZHJvcChlKTsgfX0gIC8vIFRPRE8gYW55P1xyXG4gICAgICAgICAgICAgICAgcmVmPXsocm9vdDogSFRNTERpdkVsZW1lbnQpID0+IHsgdGhpcy5yb290ID0gcm9vdDsgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge3RoaXMuY29udGV4dC5CQVNFX0RBVEEucGFnZVR5cGUgPT09IDBcclxuICAgICAgICAgICAgICAgICAgICAmJiA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImQtaGVhZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnT3Zlcj17KGU6IFJlYWN0LkRyYWdFdmVudCkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdMZWF2ZT17KGU6IFJlYWN0LkRyYWdFdmVudCkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWc9eyhlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfX1cclxuICAgICAgICAgICAgICAgICAgICA+PC9kaXY+fVxyXG4gICAgICAgICAgICAgICAge2lzTG9hZGluZyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1sb2FkaW5nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZWFjdExvYWRpbmcgdHlwZT1cInNwaW5uaW5nQnViYmxlc1wiIGNvbG9yPXsnIzE4OTBmZid9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB7aXNEZWNvcmF0ZSAmJiAoIW1vZHVsZUxpc3QgfHwgbW9kdWxlTGlzdC5sZW5ndGggPT09IDApICYmIHRoaXMucmVuZGVyUGxhY2Vob2xkZXIoKX1cclxuICAgICAgICAgICAgICAgIHtnZXRNb2R1bGVMaXN0KG1vZHVsZUxpc3QpfVxyXG4gICAgICAgICAgICA8LyBkaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBJU3RhdGUpID0+IHtcclxuICAgIHJldHVybiB7IG1vZHVsZUxpc3Q6IHN0YXRlLm1vZHVsZS5tb2R1bGVMaXN0LCB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIHtcclxuICAgIGZldGNoTW9kdWxlTGlzdCxcclxuICAgIGZvY3VzTW9kdWxlLFxyXG4gICAgYWRkTW9kdWxlUmVxdWVzdCxcclxufSkoQ2FudmFzKTtcclxuIiwiaW1wb3J0IENhbnZhcyBmcm9tICcuL0NhbnZhcyc7XG5leHBvcnQgZGVmYXVsdCBDYW52YXM7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQWtCQTtBQU1BO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvRUE7QUFDQTtBQUNBO0FBQ0E7QUE4RUE7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBT0E7O0FBbkhBO0FBQ0E7QUFDQTtBQXFIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzNKQTtBQUNBOzs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWNBO0FBQ0E7QUFFQTtBQUdBO0FBU0E7QUFDQTtBQVJBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFNQTs7QUE3SEE7QUFDQTtBQUNBO0FBOEhBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7OztBQzVLQTtBQUVBOzs7Ozs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBY0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUtBOztBQXJFQTtBQUNBO0FBQ0E7OztBQ3JCQTtBQUNBOzs7QUNGQTtBQUNBO0FBRUE7QUFhQTtBQU1BO0FBQ0E7QUFPQTtBQUNBO0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBR0E7QUFJQTtBQXhDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBc0NBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTs7QUFwRUE7QUFDQTtBQUNBOzs7QUNuQkE7QUFDQTs7O0FDRkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFFQTs7O0FDMUJBO0FBQ0E7Ozs7Ozs7QUNEQTtBQUNBO0FBQ0E7QUFFQTtBQVdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBbEJBO0FBb0JBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7OztBQ3hEQTtBQUNBOzs7Ozs7Ozs7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQWNBO0FBR0E7QUFDQTtBQU9BO0FBY0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUlBO0FBR0E7QUFqRUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQWlEQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQUE7QUFDQTtBQUlBO0FBRUE7O0FBbkZBO0FBQ0E7QUFDQTs7O0FDNUJBO0FBQ0E7OztBQ0RBO0FBQ0E7QUFDQTtBQUdBO0FBYUE7QUFTQTtBQUNBO0FBSEE7QUFpQkE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQWlCQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBOUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBcUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBOUdBO0FBQ0E7QUFDQTs7Ozs7O0FDdkJBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYUE7QUFJQTtBQUNBO0FBdUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQTVGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkRBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBOztBQTlJQTtBQUNBO0FBQ0E7QUErSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDOUxBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///43\n')},75:function(module,exports){eval("//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzUuanMiLCJzb3VyY2VzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///75\n")},81:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50L0xheWVyL0xheWVyLnNjc3M/NzU1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///81\n")},83:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50L0ltYWdlSG90c3BvdC9JbWFnZUhvdHNwb3Quc2Nzcz82ZGE2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///83\n")},85:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50L0NhbnZhcy9DYW52YXMuc2Nzcz82YjQzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///85\n")},87:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50L01vZHVsZVdyYXAvTW9kdWxlV3JhcC5zY3NzP2Y0NDIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///87\n")},89:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50L01vZHVsZS9Nb2R1bGUuc2Nzcz80MTcyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///89\n")},9:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(module) {/* unused harmony export REFRESH_MODULE */\n/* unused harmony export refreshModule */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return REFRESH_MODULE_LIST; });\n/* unused harmony export refreshModuleList */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ADD_MODULE; });\n/* unused harmony export addModule */\n/* unused harmony export ADD_MODULE_REQUEST */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"n\", function() { return addModuleRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return REMOVE_MODULE; });\n/* unused harmony export removeModule */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"w\", function() { return removeModuleRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return SHOW_CONFIG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"y\", function() { return showConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return HIDE_CONFIG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"s\", function() { return hideConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return FOCUS_MODULE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"r\", function() { return focusModule; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return UPDATE_MODULE; });\n/* unused harmony export updateModule */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return SAVE_CONFIG_REQUEST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"x\", function() { return saveConfigRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return POSITION_MODULE; });\n/* unused harmony export positionModule */\n/* unused harmony export POSITION_MODULE_REQUEST */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"v\", function() { return positionModuleRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return COPY_MODULE; });\n/* unused harmony export copyModule */\n/* unused harmony export COPY_MODULE_REQUEST */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"p\", function() { return copyModuleRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return MODULE_TOP_CHANGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"u\", function() { return moduleTopChange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return MODULE_HEIGHT_CHANGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"t\", function() { return moduleHeightChange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return ALL_MODULE_TOP_CHANGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"o\", function() { return allModuleTopChange; });\n/* unused harmony export FETCH_MODULE_LIST */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"q\", function() { return fetchModuleList; });\n/* harmony import */ var _common_script_action__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);\n(function () {\n    var enterModule = __webpack_require__(20).enterModule;\n\n    enterModule && enterModule(module);\n})();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n\n\nconst REFRESH_MODULE = 'REFRESH_MODULE';\nconst refreshModule = moduleData => {\n    return {\n        type: REFRESH_MODULE,\n        moduleData\n    };\n};\n\nconst REFRESH_MODULE_LIST = 'REFRESH_MODULE_LIST';\nconst refreshModuleList = moduleList => {\n    return {\n        type: REFRESH_MODULE_LIST,\n        moduleList\n    };\n};\n\n// 添加模块\nconst ADD_MODULE = 'ADD_MODULE';\nconst addModule = ({ moduleData, preModuleId }) => ({\n    type: ADD_MODULE,\n    moduleData,\n    preModuleId\n});\n\n// 添加模块请求\nconst ADD_MODULE_REQUEST = 'ADD_MODULE_REQUEST';\nconst addModuleRequest = args => {\n    return (() => {\n        var _ref = _asyncToGenerator(function* (dispatch) {\n            const moduleData = yield _common_script_action__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].addModule(args);\n            dispatch(addModule({\n                moduleData,\n                preModuleId: args.preModuleId\n            }));\n            return moduleData;\n        });\n\n        return function (_x) {\n            return _ref.apply(this, arguments);\n        };\n    })();\n};\n\n// 删除模块\nconst REMOVE_MODULE = 'REMOVE_MODULE';\nconst removeModule = moduleId => ({\n    type: REMOVE_MODULE,\n    moduleId\n});\n\n/**\r\n * 删除模块请求\r\n * @param {Object} args 入参 包含moduleId与pageId\r\n */\nconst removeModuleRequest = args => (() => {\n    var _ref2 = _asyncToGenerator(function* (dispatch) {\n        const data = yield _common_script_action__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].removeModule(args);\n        if (data.result === true) {\n            const { moduleId } = args;\n            dispatch(removeModule(data.moduleId));\n        }\n    });\n\n    return function (_x2) {\n        return _ref2.apply(this, arguments);\n    };\n})();\n\n// 打开配置框\nconst SHOW_CONFIG = 'SHOW_CONFIG';\nconst showConfig = moduleData => {\n\n    return {\n        type: SHOW_CONFIG,\n        moduleData\n    };\n};\n\n// 关闭配置框\nconst HIDE_CONFIG = 'HIDE_CONFIG';\nconst hideConfig = hideConfig => {\n    return {\n        type: HIDE_CONFIG\n    };\n};\n\n// 聚焦模块\nconst FOCUS_MODULE = 'FOCUS_MODULE';\nconst focusModule = moduleId => {\n    return {\n        type: FOCUS_MODULE,\n        moduleId\n    };\n};\n\n// 更新模块\nconst UPDATE_MODULE = 'UPDATE_MODULE';\nconst updateModule = moduleData => {\n    return {\n        type: UPDATE_MODULE,\n        moduleData\n    };\n};\n\n// 保存模块配置\nconst SAVE_CONFIG_REQUEST = 'SAVE_CONFIG_REQUEST';\nconst saveConfigRequest = moduleData => {\n    return (() => {\n        var _ref3 = _asyncToGenerator(function* (dispatch) {\n            dispatch(updateModule((yield _common_script_action__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].updateModule(moduleData))));\n        });\n\n        return function (_x3) {\n            return _ref3.apply(this, arguments);\n        };\n    })();\n};\n\n// 移动模块\nconst POSITION_MODULE = 'POSITION_MODULE';\nconst positionModule = ({ success, moduleId, preModuleId }) => {\n    if (success) {\n        return {\n            type: POSITION_MODULE,\n            moduleId,\n            preModuleId\n        };\n    }\n};\n\n// 移动模块请求\nconst POSITION_MODULE_REQUEST = 'POSITION_MODULE_QUEST';\nconst positionModuleRequest = args => {\n    return (() => {\n        var _ref4 = _asyncToGenerator(function* (dispatch) {\n            dispatch(positionModule((yield _common_script_action__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].positionModule(args))));\n            dispatch(focusModule(args.moduleId)); // 移动后要聚焦模块\n        });\n\n        return function (_x4) {\n            return _ref4.apply(this, arguments);\n        };\n    })();\n};\n\n// 复制模块\nconst COPY_MODULE = 'COPY_MODULE';\nconst copyModule = ({ prevModuleId, moduleData }) => {\n    return {\n        type: COPY_MODULE,\n        prevModuleId,\n        moduleData\n    };\n};\n\n// 复制模块请求\nconst COPY_MODULE_REQUEST = 'COPY_MODULE_REQUEST';\nconst copyModuleRequest = ({ moduleId, pageId }) => {\n    return (() => {\n        var _ref5 = _asyncToGenerator(function* (dispatch) {\n            const newModule = yield _common_script_action__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].copyModule(moduleId, pageId);\n            dispatch(copyModule({\n                prevModuleId: moduleId,\n                moduleData: newModule\n            }));\n            // 复制后聚焦\n            dispatch(focusModule(newModule.moduleId)); // 移动后要聚焦模块\n        });\n\n        return function (_x5) {\n            return _ref5.apply(this, arguments);\n        };\n    })();\n};\n\n// 模块top值变动\nconst MODULE_TOP_CHANGE = 'MODULE_TOP_CHANGE';\nconst moduleTopChange = (moduleId, top) => {\n    return {\n        type: MODULE_TOP_CHANGE,\n        moduleId,\n        top\n    };\n};\n\n// 模块height值变动\nconst MODULE_HEIGHT_CHANGE = 'MODULE_HEIGHT_CHANGE';\nconst moduleHeightChange = (moduleId, height) => {\n    return {\n        type: MODULE_HEIGHT_CHANGE,\n        moduleId,\n        height\n    };\n};\n\n// 刷新某模块之后所有模块的top值\nconst ALL_MODULE_TOP_CHANGE = 'ALL_MODULE_TOP_CHANGE';\nconst allModuleTopChange = (afterModuleId, topChange) => {\n    return {\n        type: ALL_MODULE_TOP_CHANGE,\n        afterModuleId,\n        topChange\n    };\n};\n\nconst FETCH_MODULE_LIST = 'FETCH_MODULE_LIST';\nconst fetchModuleList = pageId => {\n    return (() => {\n        var _ref6 = _asyncToGenerator(function* (dispatch) {\n            dispatch(refreshModuleList((yield _common_script_action__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].getAllModule(pageId))));\n        });\n\n        return function (_x6) {\n            return _ref6.apply(this, arguments);\n        };\n    })();\n};\n;\n\n(function () {\n    var reactHotLoader = __webpack_require__(20).default;\n\n    var leaveModule = __webpack_require__(20).leaveModule;\n\n    if (!reactHotLoader) {\n        return;\n    }\n\n    reactHotLoader.register(REFRESH_MODULE, 'REFRESH_MODULE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(refreshModule, 'refreshModule', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(REFRESH_MODULE_LIST, 'REFRESH_MODULE_LIST', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(refreshModuleList, 'refreshModuleList', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(ADD_MODULE, 'ADD_MODULE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(addModule, 'addModule', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(ADD_MODULE_REQUEST, 'ADD_MODULE_REQUEST', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(addModuleRequest, 'addModuleRequest', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(REMOVE_MODULE, 'REMOVE_MODULE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(removeModule, 'removeModule', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(removeModuleRequest, 'removeModuleRequest', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(SHOW_CONFIG, 'SHOW_CONFIG', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(showConfig, 'showConfig', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(HIDE_CONFIG, 'HIDE_CONFIG', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(hideConfig, 'hideConfig', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(FOCUS_MODULE, 'FOCUS_MODULE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(focusModule, 'focusModule', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(UPDATE_MODULE, 'UPDATE_MODULE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(updateModule, 'updateModule', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(SAVE_CONFIG_REQUEST, 'SAVE_CONFIG_REQUEST', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(saveConfigRequest, 'saveConfigRequest', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(POSITION_MODULE, 'POSITION_MODULE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(positionModule, 'positionModule', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(POSITION_MODULE_REQUEST, 'POSITION_MODULE_REQUEST', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(positionModuleRequest, 'positionModuleRequest', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(COPY_MODULE, 'COPY_MODULE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(copyModule, 'copyModule', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(COPY_MODULE_REQUEST, 'COPY_MODULE_REQUEST', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(copyModuleRequest, 'copyModuleRequest', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(MODULE_TOP_CHANGE, 'MODULE_TOP_CHANGE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(moduleTopChange, 'moduleTopChange', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(MODULE_HEIGHT_CHANGE, 'MODULE_HEIGHT_CHANGE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(moduleHeightChange, 'moduleHeightChange', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(ALL_MODULE_TOP_CHANGE, 'ALL_MODULE_TOP_CHANGE', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(allModuleTopChange, 'allModuleTopChange', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(FETCH_MODULE_LIST, 'FETCH_MODULE_LIST', 'D:/Project/NaEditor/src/actions/index.js');\n    reactHotLoader.register(fetchModuleList, 'fetchModuleList', 'D:/Project/NaEditor/src/actions/index.js');\n    leaveModule(module);\n})();\n\n;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(48)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYWN0aW9ucy9pbmRleC5qcz82ZTM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBY3Rpb24gZnJvbSAnLi4vY29tbW9uL3NjcmlwdC9hY3Rpb24nO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY29uc3QgUkVGUkVTSF9NT0RVTEUgPSAnUkVGUkVTSF9NT0RVTEUnO1xyXG5leHBvcnQgY29uc3QgcmVmcmVzaE1vZHVsZSA9IChtb2R1bGVEYXRhKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGU6IFJFRlJFU0hfTU9EVUxFLFxyXG4gICAgICAgIG1vZHVsZURhdGEsXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBSRUZSRVNIX01PRFVMRV9MSVNUID0gJ1JFRlJFU0hfTU9EVUxFX0xJU1QnO1xyXG5leHBvcnQgY29uc3QgcmVmcmVzaE1vZHVsZUxpc3QgPSAobW9kdWxlTGlzdCkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiBSRUZSRVNIX01PRFVMRV9MSVNULFxyXG4gICAgICAgIG1vZHVsZUxpc3QsXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyDmt7vliqDmqKHlnZdcclxuZXhwb3J0IGNvbnN0IEFERF9NT0RVTEUgPSAnQUREX01PRFVMRSc7XHJcbmV4cG9ydCBjb25zdCBhZGRNb2R1bGUgPSAoeyBtb2R1bGVEYXRhLCBwcmVNb2R1bGVJZCB9KSA9PiAoe1xyXG4gICAgdHlwZTogQUREX01PRFVMRSxcclxuICAgIG1vZHVsZURhdGEsXHJcbiAgICBwcmVNb2R1bGVJZCxcclxufSlcclxuXHJcblxyXG4vLyDmt7vliqDmqKHlnZfor7fmsYJcclxuZXhwb3J0IGNvbnN0IEFERF9NT0RVTEVfUkVRVUVTVCA9ICdBRERfTU9EVUxFX1JFUVVFU1QnO1xyXG5leHBvcnQgY29uc3QgYWRkTW9kdWxlUmVxdWVzdCA9IChhcmdzKSA9PiB7XHJcbiAgICByZXR1cm4gYXN5bmMoZGlzcGF0Y2gpID0+IHtcclxuICAgICAgICBjb25zdCBtb2R1bGVEYXRhID0gYXdhaXQgQWN0aW9uLmFkZE1vZHVsZShhcmdzKTtcclxuICAgICAgICBkaXNwYXRjaChhZGRNb2R1bGUoe1xyXG4gICAgICAgICAgICBtb2R1bGVEYXRhLFxyXG4gICAgICAgICAgICBwcmVNb2R1bGVJZDogYXJncy5wcmVNb2R1bGVJZCxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmV0dXJuIG1vZHVsZURhdGE7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyDliKDpmaTmqKHlnZdcclxuZXhwb3J0IGNvbnN0IFJFTU9WRV9NT0RVTEUgPSAnUkVNT1ZFX01PRFVMRSc7XHJcbmV4cG9ydCBjb25zdCByZW1vdmVNb2R1bGUgPSAobW9kdWxlSWQpID0+ICh7XHJcbiAgICB0eXBlOiBSRU1PVkVfTU9EVUxFLFxyXG4gICAgbW9kdWxlSWQsXHJcbn0pXHJcblxyXG4vKipcclxuICog5Yig6Zmk5qih5Z2X6K+35rGCXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzIOWFpeWPgiDljIXlkKttb2R1bGVJZOS4jnBhZ2VJZFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHJlbW92ZU1vZHVsZVJlcXVlc3QgPSAoYXJncykgPT4gYXN5bmMoZGlzcGF0Y2gpID0+IHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBBY3Rpb24ucmVtb3ZlTW9kdWxlKGFyZ3MpO1xyXG4gICAgaWYgKGRhdGEucmVzdWx0ID09PSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgeyBtb2R1bGVJZCB9ID0gYXJncztcclxuICAgICAgICBkaXNwYXRjaChyZW1vdmVNb2R1bGUoZGF0YS5tb2R1bGVJZCkpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyDmiZPlvIDphY3nva7moYZcclxuZXhwb3J0IGNvbnN0IFNIT1dfQ09ORklHID0gJ1NIT1dfQ09ORklHJztcclxuZXhwb3J0IGNvbnN0IHNob3dDb25maWcgPSAobW9kdWxlRGF0YSkgPT4ge1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdHlwZTogU0hPV19DT05GSUcsXHJcbiAgICAgICAgbW9kdWxlRGF0YVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyDlhbPpl63phY3nva7moYZcclxuZXhwb3J0IGNvbnN0IEhJREVfQ09ORklHID0gJ0hJREVfQ09ORklHJztcclxuZXhwb3J0IGNvbnN0IGhpZGVDb25maWcgPSAoaGlkZUNvbmZpZykgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiBISURFX0NPTkZJRyxcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8vIOiBmueEpuaooeWdl1xyXG5leHBvcnQgY29uc3QgRk9DVVNfTU9EVUxFID0gJ0ZPQ1VTX01PRFVMRSc7XHJcbmV4cG9ydCBjb25zdCBmb2N1c01vZHVsZSA9IChtb2R1bGVJZCkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiBGT0NVU19NT0RVTEUsXHJcbiAgICAgICAgbW9kdWxlSWQsXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbi8vIOabtOaWsOaooeWdl1xyXG5leHBvcnQgY29uc3QgVVBEQVRFX01PRFVMRSA9ICdVUERBVEVfTU9EVUxFJztcclxuZXhwb3J0IGNvbnN0IHVwZGF0ZU1vZHVsZSA9IChtb2R1bGVEYXRhKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGU6IFVQREFURV9NT0RVTEUsXHJcbiAgICAgICAgbW9kdWxlRGF0YSxcclxuICAgIH1cclxufVxyXG5cclxuLy8g5L+d5a2Y5qih5Z2X6YWN572uXHJcbmV4cG9ydCBjb25zdCBTQVZFX0NPTkZJR19SRVFVRVNUID0gJ1NBVkVfQ09ORklHX1JFUVVFU1QnO1xyXG5leHBvcnQgY29uc3Qgc2F2ZUNvbmZpZ1JlcXVlc3QgPSAobW9kdWxlRGF0YSkgPT4ge1xyXG4gICAgcmV0dXJuIGFzeW5jKGRpc3BhdGNoKSA9PiB7XHJcbiAgICAgICAgZGlzcGF0Y2godXBkYXRlTW9kdWxlKGF3YWl0IEFjdGlvbi51cGRhdGVNb2R1bGUobW9kdWxlRGF0YSkpKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8g56e75Yqo5qih5Z2XXHJcbmV4cG9ydCBjb25zdCBQT1NJVElPTl9NT0RVTEUgPSAnUE9TSVRJT05fTU9EVUxFJztcclxuZXhwb3J0IGNvbnN0IHBvc2l0aW9uTW9kdWxlID0gKHsgc3VjY2VzcywgbW9kdWxlSWQsIHByZU1vZHVsZUlkIH0pID0+IHtcclxuICAgIGlmIChzdWNjZXNzKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogUE9TSVRJT05fTU9EVUxFLFxyXG4gICAgICAgICAgICBtb2R1bGVJZCxcclxuICAgICAgICAgICAgcHJlTW9kdWxlSWQsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyDnp7vliqjmqKHlnZfor7fmsYJcclxuZXhwb3J0IGNvbnN0IFBPU0lUSU9OX01PRFVMRV9SRVFVRVNUID0gJ1BPU0lUSU9OX01PRFVMRV9RVUVTVCc7XHJcbmV4cG9ydCBjb25zdCBwb3NpdGlvbk1vZHVsZVJlcXVlc3QgPSAoYXJncykgPT4ge1xyXG4gICAgcmV0dXJuIGFzeW5jKGRpc3BhdGNoKSA9PiB7XHJcbiAgICAgICAgZGlzcGF0Y2gocG9zaXRpb25Nb2R1bGUoYXdhaXQgQWN0aW9uLnBvc2l0aW9uTW9kdWxlKGFyZ3MpKSk7XHJcbiAgICAgICAgZGlzcGF0Y2goZm9jdXNNb2R1bGUoYXJncy5tb2R1bGVJZCkpOyAvLyDnp7vliqjlkI7opoHogZrnhKbmqKHlnZdcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8vIOWkjeWItuaooeWdl1xyXG5leHBvcnQgY29uc3QgQ09QWV9NT0RVTEUgPSAnQ09QWV9NT0RVTEUnO1xyXG5leHBvcnQgY29uc3QgY29weU1vZHVsZSA9ICh7IHByZXZNb2R1bGVJZCwgbW9kdWxlRGF0YSB9KSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGU6IENPUFlfTU9EVUxFLFxyXG4gICAgICAgIHByZXZNb2R1bGVJZCxcclxuICAgICAgICBtb2R1bGVEYXRhXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIOWkjeWItuaooeWdl+ivt+axglxyXG5leHBvcnQgY29uc3QgQ09QWV9NT0RVTEVfUkVRVUVTVCA9ICdDT1BZX01PRFVMRV9SRVFVRVNUJztcclxuZXhwb3J0IGNvbnN0IGNvcHlNb2R1bGVSZXF1ZXN0ID0gKHsgbW9kdWxlSWQsIHBhZ2VJZCB9KSA9PiB7XHJcbiAgICByZXR1cm4gYXN5bmMoZGlzcGF0Y2gpID0+IHtcclxuICAgICAgICBjb25zdCBuZXdNb2R1bGUgPSBhd2FpdCBBY3Rpb24uY29weU1vZHVsZShtb2R1bGVJZCwgcGFnZUlkKVxyXG4gICAgICAgIGRpc3BhdGNoKGNvcHlNb2R1bGUoe1xyXG4gICAgICAgICAgICBwcmV2TW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgICAgICBtb2R1bGVEYXRhOiBuZXdNb2R1bGUsXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIC8vIOWkjeWItuWQjuiBmueEplxyXG4gICAgICAgIGRpc3BhdGNoKGZvY3VzTW9kdWxlKG5ld01vZHVsZS5tb2R1bGVJZCkpOyAvLyDnp7vliqjlkI7opoHogZrnhKbmqKHlnZdcclxuICAgIH1cclxufVxyXG5cclxuLy8g5qih5Z2XdG9w5YC85Y+Y5YqoXHJcbmV4cG9ydCBjb25zdCBNT0RVTEVfVE9QX0NIQU5HRSA9ICdNT0RVTEVfVE9QX0NIQU5HRSc7XHJcbmV4cG9ydCBjb25zdCBtb2R1bGVUb3BDaGFuZ2UgPSAobW9kdWxlSWQsIHRvcCkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiBNT0RVTEVfVE9QX0NIQU5HRSxcclxuICAgICAgICBtb2R1bGVJZCxcclxuICAgICAgICB0b3AsXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIOaooeWdl2hlaWdodOWAvOWPmOWKqFxyXG5leHBvcnQgY29uc3QgTU9EVUxFX0hFSUdIVF9DSEFOR0UgPSAnTU9EVUxFX0hFSUdIVF9DSEFOR0UnO1xyXG5leHBvcnQgY29uc3QgbW9kdWxlSGVpZ2h0Q2hhbmdlID0gKG1vZHVsZUlkLCBoZWlnaHQpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdHlwZTogTU9EVUxFX0hFSUdIVF9DSEFOR0UsXHJcbiAgICAgICAgbW9kdWxlSWQsXHJcbiAgICAgICAgaGVpZ2h0LFxyXG4gICAgfVxyXG59XHJcblxyXG4vLyDliLfmlrDmn5DmqKHlnZfkuYvlkI7miYDmnInmqKHlnZfnmoR0b3DlgLxcclxuZXhwb3J0IGNvbnN0IEFMTF9NT0RVTEVfVE9QX0NIQU5HRSA9ICdBTExfTU9EVUxFX1RPUF9DSEFOR0UnO1xyXG5leHBvcnQgY29uc3QgYWxsTW9kdWxlVG9wQ2hhbmdlID0gKGFmdGVyTW9kdWxlSWQsIHRvcENoYW5nZSkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiBBTExfTU9EVUxFX1RPUF9DSEFOR0UsXHJcbiAgICAgICAgYWZ0ZXJNb2R1bGVJZCxcclxuICAgICAgICB0b3BDaGFuZ2UsXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBGRVRDSF9NT0RVTEVfTElTVCA9ICdGRVRDSF9NT0RVTEVfTElTVCc7XHJcbmV4cG9ydCBjb25zdCBmZXRjaE1vZHVsZUxpc3QgPSAocGFnZUlkKSA9PiB7XHJcbiAgICByZXR1cm4gYXN5bmMoZGlzcGF0Y2gpID0+IHtcclxuICAgICAgICBkaXNwYXRjaChyZWZyZXNoTW9kdWxlTGlzdChhd2FpdCBBY3Rpb24uZ2V0QWxsTW9kdWxlKHBhZ2VJZCkpKVxyXG4gICAgfVxyXG5cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQVJBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7Ozs7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBQUE7QUFBQTtBQUFBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFJQTs7Ozs7Ozs7Ozs7O0FBN0xBO0FBQ0E7QUFPQTtBQUNBO0FBU0E7QUFDQTtBQVFBO0FBQ0E7QUFhQTtBQUNBO0FBU0E7QUFTQTtBQUNBO0FBU0E7QUFDQTtBQVFBO0FBQ0E7QUFXQTtBQUNBO0FBUUE7QUFDQTtBQU9BO0FBQ0E7QUFXQTtBQUNBO0FBU0E7QUFDQTtBQVNBO0FBQ0E7QUFhQTtBQUNBO0FBU0E7QUFDQTtBQVNBO0FBQ0E7QUFRQTtBQUNBOzs7OztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9\n")},90:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony import */ var _component_Module_Module_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(89);\n/* harmony import */ var _component_Module_Module_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_component_Module_Module_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _component_ModuleWrap_ModuleWrap_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(87);\n/* harmony import */ var _component_ModuleWrap_ModuleWrap_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_component_ModuleWrap_ModuleWrap_scss__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _component_Canvas_Canvas_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(85);\n/* harmony import */ var _component_Canvas_Canvas_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_component_Canvas_Canvas_scss__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _component_ImageHotspot_ImageHotspot_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(83);\n/* harmony import */ var _component_ImageHotspot_ImageHotspot_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_component_ImageHotspot_ImageHotspot_scss__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _component_Layer_Layer_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(81);\n/* harmony import */ var _component_Layer_Layer_scss__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_component_Layer_Layer_scss__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _component_Fixed_Fixed_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(42);\n/* harmony import */ var _component_Fixed_Fixed_scss__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_component_Fixed_Fixed_scss__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var slick_carousel_slick_slick_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(136);\n/* harmony import */ var slick_carousel_slick_slick_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(slick_carousel_slick_slick_css__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var slick_carousel_slick_slick_theme_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(135);\n/* harmony import */ var slick_carousel_slick_slick_theme_css__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(slick_carousel_slick_slick_theme_css__WEBPACK_IMPORTED_MODULE_7__);\n// antd\r\n__webpack_require__(50);\r\n// 需要引入的样式\r\n\r\n\r\n\r\n\r\n\r\n\r\n// 轮播样式\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbW1vbi9zY3JpcHQvbW9kdWxlU3R5bGUudHM/YTU2MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhbnRkXG5yZXF1aXJlKCdhbnRkL2Rpc3QvYW50ZC5jc3MnKTtcblxuLy8g6ZyA6KaB5byV5YWl55qE5qC35byPXG5pbXBvcnQgJy4uLy4uL2NvbXBvbmVudC9Nb2R1bGUvTW9kdWxlLnNjc3MnO1xuaW1wb3J0ICcuLi8uLi9jb21wb25lbnQvTW9kdWxlV3JhcC9Nb2R1bGVXcmFwLnNjc3MnO1xuaW1wb3J0ICcuLi8uLi9jb21wb25lbnQvQ2FudmFzL0NhbnZhcy5zY3NzJztcbmltcG9ydCAnLi4vLi4vY29tcG9uZW50L0ltYWdlSG90c3BvdC9JbWFnZUhvdHNwb3Quc2Nzcyc7XG5pbXBvcnQgJy4uLy4uL2NvbXBvbmVudC9MYXllci9MYXllci5zY3NzJztcbmltcG9ydCAnLi4vLi4vY29tcG9uZW50L0ZpeGVkL0ZpeGVkLnNjc3MnO1xuXG4vLyDova7mkq3moLflvI9cbmltcG9ydCBcInNsaWNrLWNhcm91c2VsL3NsaWNrL3NsaWNrLmNzc1wiO1xuaW1wb3J0IFwic2xpY2stY2Fyb3VzZWwvc2xpY2svc2xpY2stdGhlbWUuY3NzXCI7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///90\n")}});